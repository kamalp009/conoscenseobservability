{"version":3,"file":"src_container_FormAlertRules_index_tsx.041972567a7634f79415.js","mappings":"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","sources":["webpack://frontend/./src/api/alerts/create.ts","webpack://frontend/./src/api/alerts/put.ts","webpack://frontend/./src/api/alerts/save.ts","webpack://frontend/./src/api/alerts/testAlert.ts","webpack://frontend/./src/api/channels/getAll.ts","webpack://frontend/./src/constants/alerts.ts","webpack://frontend/./src/constants/panelTypes.ts","webpack://frontend/./src/container/AnomalyAlertEvaluationView/AnomalyAlertEvaluationView.tsx","webpack://frontend/./src/container/AnomalyAlertEvaluationView/index.tsx","webpack://frontend/./src/container/AnomalyAlertEvaluationView/tooltipPlugin.ts","webpack://frontend/./src/container/FormAlertRules/BasicInfo.tsx","webpack://frontend/./src/container/FormAlertRules/ChQuerySection/ChQuerySection.tsx","webpack://frontend/./src/container/FormAlertRules/ChQuerySection/index.ts","webpack://frontend/./src/container/FormAlertRules/ChannelSelect/index.tsx","webpack://frontend/./src/container/FormAlertRules/ChannelSelect/styles.ts","webpack://frontend/./src/container/FormAlertRules/ChartPreview/config.ts","webpack://frontend/./src/container/FormAlertRules/ChartPreview/index.tsx","webpack://frontend/./src/container/FormAlertRules/ChartPreview/styles.ts","webpack://frontend/./src/container/FormAlertRules/ChartPreview/utils.ts","webpack://frontend/./src/container/FormAlertRules/PromqlSection.tsx","webpack://frontend/./src/container/FormAlertRules/QuerySection.tsx","webpack://frontend/./src/container/FormAlertRules/RuleOptions.tsx","webpack://frontend/./src/container/FormAlertRules/index.tsx","webpack://frontend/./src/container/FormAlertRules/labels/Labels.machine.ts","webpack://frontend/./src/container/FormAlertRules/labels/QueryChip.tsx","webpack://frontend/./src/container/FormAlertRules/labels/index.tsx","webpack://frontend/./src/container/FormAlertRules/labels/styles.ts","webpack://frontend/./src/container/FormAlertRules/labels/utils.ts","webpack://frontend/./src/container/FormAlertRules/styles.ts","webpack://frontend/./src/container/FormAlertRules/utils.ts","webpack://frontend/./src/container/GridPanelSwitch/index.tsx","webpack://frontend/./src/periscope/components/Tabs2/Tabs2.tsx","webpack://frontend/./src/periscope/components/Tabs2/index.tsx","webpack://frontend/./src/types/api/alerts/alertTypes.ts","webpack://frontend/./src/types/api/alerts/def.ts","webpack://frontend/./src/utils/form/requireErrorMessage.ts","webpack://frontend/./src/container/AnomalyAlertEvaluationView/AnomalyAlertEvaluationView.styles.scss","webpack://frontend/./src/container/FormAlertRules/ChartPreview/ChartPreview.styles.scss","webpack://frontend/./src/container/FormAlertRules/FormAlertRules.styles.scss","webpack://frontend/./src/container/FormAlertRules/QuerySection.styles.scss","webpack://frontend/./src/container/FormAlertRules/RuleOptions.styles.scss","webpack://frontend/./src/periscope/components/Tabs2/Tabs2.styles.scss","webpack://frontend/./src/container/AnomalyAlertEvaluationView/AnomalyAlertEvaluationView.styles.scss?ce6f","webpack://frontend/./src/container/FormAlertRules/ChartPreview/ChartPreview.styles.scss?ecaf","webpack://frontend/./src/container/FormAlertRules/FormAlertRules.styles.scss?8a4f","webpack://frontend/./src/container/FormAlertRules/QuerySection.styles.scss?4148","webpack://frontend/./src/container/FormAlertRules/RuleOptions.styles.scss?3db6","webpack://frontend/./src/periscope/components/Tabs2/Tabs2.styles.scss?0532"],"sourcesContent":["import axios from 'api';\nimport { ErrorResponse, SuccessResponse } from 'types/api';\nimport { PayloadProps, Props } from 'types/api/alerts/create';\n\nconst create = async (\n\tprops: Props,\n): Promise<SuccessResponse<PayloadProps> | ErrorResponse> => {\n\tconst response = await axios.post('/rules', {\n\t\t...props.data,\n\t});\n\n\treturn {\n\t\tstatusCode: 200,\n\t\terror: null,\n\t\tmessage: response.data.status,\n\t\tpayload: response.data.data,\n\t};\n};\n\nexport default create;\n","import axios from 'api';\nimport { ErrorResponse, SuccessResponse } from 'types/api';\nimport { PayloadProps, Props } from 'types/api/alerts/save';\n\nconst put = async (\n\tprops: Props,\n): Promise<SuccessResponse<PayloadProps> | ErrorResponse> => {\n\tconst response = await axios.put(`/rules/${props.id}`, {\n\t\t...props.data,\n\t});\n\n\treturn {\n\t\tstatusCode: 200,\n\t\terror: null,\n\t\tmessage: response.data.status,\n\t\tpayload: response.data.data,\n\t};\n};\n\nexport default put;\n","import { isEmpty } from 'lodash-es';\nimport { ErrorResponse, SuccessResponse } from 'types/api';\nimport { PayloadProps, Props } from 'types/api/alerts/save';\n\nimport create from './create';\nimport put from './put';\n\nconst save = async (\n\tprops: Props,\n): Promise<SuccessResponse<PayloadProps> | ErrorResponse> => {\n\tif (props.id && !isEmpty(props.id)) {\n\t\treturn put({ ...props });\n\t}\n\n\treturn create({ ...props });\n};\n\nexport default save;\n","import axios from 'api';\nimport { ErrorResponseHandler } from 'api/ErrorResponseHandler';\nimport { AxiosError } from 'axios';\nimport { ErrorResponse, SuccessResponse } from 'types/api';\nimport { PayloadProps, Props } from 'types/api/alerts/testAlert';\n\nconst testAlert = async (\n\tprops: Props,\n): Promise<SuccessResponse<PayloadProps> | ErrorResponse> => {\n\ttry {\n\t\tconst response = await axios.post('/testRule', {\n\t\t\t...props.data,\n\t\t});\n\n\t\treturn {\n\t\t\tstatusCode: 200,\n\t\t\terror: null,\n\t\t\tmessage: response.data.status,\n\t\t\tpayload: response.data.data,\n\t\t};\n\t} catch (error) {\n\t\treturn ErrorResponseHandler(error as AxiosError);\n\t}\n};\n\nexport default testAlert;\n","import axios from 'api';\nimport { ErrorResponseHandlerV2 } from 'api/ErrorResponseHandlerV2';\nimport { AxiosError } from 'axios';\nimport { ErrorV2Resp, SuccessResponseV2 } from 'types/api';\nimport { Channels, PayloadProps } from 'types/api/channels/getAll';\n\nconst getAll = async (): Promise<SuccessResponseV2<Channels[]>> => {\n\ttry {\n\t\tconst response = await axios.get<PayloadProps>('/channels');\n\n\t\treturn {\n\t\t\thttpStatusCode: response.status,\n\t\t\tdata: response.data.data,\n\t\t};\n\t} catch (error) {\n\t\tErrorResponseHandlerV2(error as AxiosError<ErrorV2Resp>);\n\t\tthrow error;\n\t}\n};\n\nexport default getAll;\n","import { AlertTypes } from 'types/api/alerts/alertTypes';\nimport { DataSource } from 'types/common/queryBuilder';\n\nexport const ALERTS_DATA_SOURCE_MAP: Record<AlertTypes, DataSource> = {\n\t[AlertTypes.ANOMALY_BASED_ALERT]: DataSource.METRICS,\n\t[AlertTypes.METRICS_BASED_ALERT]: DataSource.METRICS,\n\t[AlertTypes.LOGS_BASED_ALERT]: DataSource.LOGS,\n\t[AlertTypes.TRACES_BASED_ALERT]: DataSource.TRACES,\n\t[AlertTypes.EXCEPTIONS_BASED_ALERT]: DataSource.TRACES,\n};\n","import Uplot from 'components/Uplot';\nimport GridTableComponent from 'container/GridTableComponent';\nimport GridValueComponent from 'container/GridValueComponent';\nimport LogsPanelComponent from 'container/LogsPanelTable/LogsPanelComponent';\nimport TracesTableComponent from 'container/TracesTableComponent/TracesTableComponent';\nimport { DataSource } from 'types/common/queryBuilder';\n\nimport { PANEL_TYPES } from './queryBuilder';\n\nexport const PANEL_TYPES_COMPONENT_MAP = {\n\t[PANEL_TYPES.TIME_SERIES]: Uplot,\n\t[PANEL_TYPES.VALUE]: GridValueComponent,\n\t[PANEL_TYPES.TABLE]: GridTableComponent,\n\t[PANEL_TYPES.TRACE]: null,\n\t[PANEL_TYPES.LIST]: LogsPanelComponent,\n\t[PANEL_TYPES.EMPTY_WIDGET]: null,\n\t[PANEL_TYPES.BAR]: Uplot,\n} as const;\n\nexport const getComponentForPanelType = (\n\tpanelType: PANEL_TYPES,\n\tdataSource?: DataSource,\n): React.ComponentType<any> | null => {\n\tconst componentsMap = {\n\t\t[PANEL_TYPES.TIME_SERIES]: Uplot,\n\t\t[PANEL_TYPES.VALUE]: GridValueComponent,\n\t\t[PANEL_TYPES.TABLE]: GridTableComponent,\n\t\t[PANEL_TYPES.TRACE]: null,\n\t\t[PANEL_TYPES.LIST]:\n\t\t\tdataSource === DataSource.LOGS ? LogsPanelComponent : TracesTableComponent,\n\t\t[PANEL_TYPES.BAR]: Uplot,\n\t\t[PANEL_TYPES.PIE]: null,\n\t\t[PANEL_TYPES.HISTOGRAM]: Uplot,\n\t\t[PANEL_TYPES.EMPTY_WIDGET]: null,\n\t};\n\n\treturn componentsMap[panelType];\n};\n\nexport const AVAILABLE_EXPORT_PANEL_TYPES = [\n\tPANEL_TYPES.TIME_SERIES,\n\tPANEL_TYPES.TABLE,\n\tPANEL_TYPES.LIST,\n];\n","import 'uplot/dist/uPlot.min.css';\nimport './AnomalyAlertEvaluationView.styles.scss';\n\nimport { Checkbox, Input, Typography } from 'antd';\nimport { useIsDarkMode } from 'hooks/useDarkMode';\nimport useDebouncedFn from 'hooks/useDebouncedFunction';\nimport { useResizeObserver } from 'hooks/useDimensions';\nimport getAxes from 'lib/uPlotLib/utils/getAxes';\nimport { getUplotChartDataForAnomalyDetection } from 'lib/uPlotLib/utils/getUplotChartData';\nimport { getYAxisScaleForAnomalyDetection } from 'lib/uPlotLib/utils/getYAxisScale';\nimport { LineChart } from 'lucide-react';\nimport { useTimezone } from 'providers/Timezone';\nimport { useEffect, useRef, useState } from 'react';\nimport uPlot from 'uplot';\n\nimport tooltipPlugin from './tooltipPlugin';\n\nconst { Search } = Input;\n\nfunction UplotChart({\n\tdata,\n\toptions,\n\tchartRef,\n}: {\n\tdata: any;\n\toptions: any;\n\tchartRef: any;\n}): JSX.Element {\n\tconst plotInstance = useRef(null);\n\n\tuseEffect(() => {\n\t\tif (plotInstance.current) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t// @ts-ignore\n\t\t\tplotInstance.current.destroy();\n\t\t}\n\n\t\tif (data && data.length > 0) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t// @ts-ignore\n\t\t\t// eslint-disable-next-line new-cap\n\t\t\tplotInstance.current = new uPlot(options, data, chartRef.current);\n\t\t}\n\n\t\treturn (): void => {\n\t\t\tif (plotInstance.current) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t// @ts-ignore\n\t\t\t\tplotInstance.current.destroy();\n\t\t\t}\n\t\t};\n\t}, [data, options, chartRef]);\n\n\treturn <div ref={chartRef} />;\n}\n\nfunction AnomalyAlertEvaluationView({\n\tdata,\n\tyAxisUnit,\n}: {\n\tdata: any;\n\tyAxisUnit: string;\n}): JSX.Element {\n\tconst { spline } = uPlot.paths;\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tconst _spline = spline ? spline() : undefined;\n\tconst chartRef = useRef<HTMLDivElement>(null);\n\tconst isDarkMode = useIsDarkMode();\n\tconst [seriesData, setSeriesData] = useState<any>({});\n\tconst [selectedSeries, setSelectedSeries] = useState<string | null>(null);\n\n\tconst [filteredSeriesKeys, setFilteredSeriesKeys] = useState<string[]>([]);\n\tconst [allSeries, setAllSeries] = useState<string[]>([]);\n\n\tconst graphRef = useRef<HTMLDivElement>(null);\n\tconst dimensions = useResizeObserver(graphRef);\n\n\tuseEffect(() => {\n\t\tconst chartData = getUplotChartDataForAnomalyDetection(data, isDarkMode);\n\t\tsetSeriesData(chartData);\n\n\t\tsetAllSeries(Object.keys(chartData));\n\n\t\tsetFilteredSeriesKeys(Object.keys(chartData));\n\t}, [data, isDarkMode]);\n\n\tuseEffect(() => {\n\t\tconst seriesKeys = Object.keys(seriesData);\n\t\tif (seriesKeys.length === 1) {\n\t\t\tsetSelectedSeries(seriesKeys[0]); // Automatically select if only one series\n\t\t} else {\n\t\t\tsetSelectedSeries(null); // Default to \"Show All\" if multiple series\n\t\t}\n\t}, [seriesData]);\n\n\tconst handleSeriesChange = (series: string | null): void => {\n\t\tsetSelectedSeries(series);\n\t};\n\n\tconst bandsPlugin = {\n\t\thooks: {\n\t\t\tdraw: [\n\t\t\t\t(u: any): void => {\n\t\t\t\t\tif (!selectedSeries) return;\n\n\t\t\t\t\tconst { ctx } = u;\n\t\t\t\t\tconst upperBandIdx = 3;\n\t\t\t\t\tconst lowerBandIdx = 4;\n\n\t\t\t\t\tconst xData = u.data[0];\n\t\t\t\t\tconst yUpperData = u.data[upperBandIdx];\n\t\t\t\t\tconst yLowerData = u.data[lowerBandIdx];\n\n\t\t\t\t\tconst strokeStyle =\n\t\t\t\t\t\tu.series[1]?.stroke || seriesData[selectedSeries].color;\n\t\t\t\t\tconst fillStyle =\n\t\t\t\t\t\ttypeof strokeStyle === 'string'\n\t\t\t\t\t\t\t? strokeStyle.replace(')', ', 0.1)')\n\t\t\t\t\t\t\t: 'rgba(255, 255, 255, 0.1)';\n\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tconst firstX = u.valToPos(xData[0], 'x', true);\n\t\t\t\t\tconst firstUpperY = u.valToPos(yUpperData[0], 'y', true);\n\t\t\t\t\tctx.moveTo(firstX, firstUpperY);\n\n\t\t\t\t\tfor (let i = 0; i < xData.length; i++) {\n\t\t\t\t\t\tconst x = u.valToPos(xData[i], 'x', true);\n\t\t\t\t\t\tconst y = u.valToPos(yUpperData[i], 'y', true);\n\t\t\t\t\t\tctx.lineTo(x, y);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = xData.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tconst x = u.valToPos(xData[i], 'x', true);\n\t\t\t\t\t\tconst y = u.valToPos(yLowerData[i], 'y', true);\n\t\t\t\t\t\tctx.lineTo(x, y);\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t\t\tctx.fill();\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t};\n\n\tconst initialData = allSeries.length\n\t\t? [\n\t\t\t\tseriesData[allSeries[0]].data[0], // Shared X-axis\n\t\t\t\t...allSeries.map((key) => seriesData[key].data[1]), // Map through Y-axis data for all series\n\t\t  ]\n\t\t: [];\n\n\tconst { timezone } = useTimezone();\n\n\tconst options = {\n\t\twidth: dimensions.width,\n\t\theight: dimensions.height - 36,\n\t\tplugins: [bandsPlugin, tooltipPlugin(isDarkMode, timezone.value)],\n\t\tfocus: {\n\t\t\talpha: 0.3,\n\t\t},\n\t\tlegend: {\n\t\t\tshow: true,\n\t\t\tlive: false,\n\t\t\tisolate: true,\n\t\t},\n\t\tcursor: {\n\t\t\tlock: false,\n\t\t\tfocus: {\n\t\t\t\tprox: 1e6,\n\t\t\t\tbias: 1,\n\t\t\t},\n\t\t\tpoints: {\n\t\t\t\tsize: (\n\t\t\t\t\tu: { series: { [x: string]: { points: { size: number } } } },\n\t\t\t\t\tseriesIdx: string | number,\n\t\t\t\t): number => u.series[seriesIdx].points.size * 3,\n\t\t\t\twidth: (u: any, seriesIdx: any, size: number): number => size / 4,\n\t\t\t\tstroke: (\n\t\t\t\t\tu: {\n\t\t\t\t\t\tseries: {\n\t\t\t\t\t\t\t[x: string]: { points: { stroke: (arg0: any, arg1: any) => any } };\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tseriesIdx: string | number,\n\t\t\t\t): string => `${u.series[seriesIdx].points.stroke(u, seriesIdx)}90`,\n\t\t\t\tfill: (): string => '#fff',\n\t\t\t},\n\t\t},\n\t\tseries: [\n\t\t\t{\n\t\t\t\tlabel: 'Time',\n\t\t\t},\n\t\t\t...(selectedSeries\n\t\t\t\t? [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: `Main Series`,\n\t\t\t\t\t\t\tstroke: seriesData[selectedSeries].color,\n\t\t\t\t\t\t\twidth: 2,\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tpaths: _spline,\n\t\t\t\t\t\t\tspanGaps: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: `Predicted Value`,\n\t\t\t\t\t\t\tstroke: seriesData[selectedSeries].color,\n\t\t\t\t\t\t\twidth: 1,\n\t\t\t\t\t\t\tdash: [2, 2],\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tpaths: _spline,\n\t\t\t\t\t\t\tspanGaps: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: `Upper Band`,\n\t\t\t\t\t\t\tstroke: 'transparent',\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tpaths: _spline,\n\t\t\t\t\t\t\tspanGaps: true,\n\t\t\t\t\t\t\tpoints: {\n\t\t\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\t\t\tsize: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: `Lower Band`,\n\t\t\t\t\t\t\tstroke: 'transparent',\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tpaths: _spline,\n\t\t\t\t\t\t\tspanGaps: true,\n\t\t\t\t\t\t\tpoints: {\n\t\t\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\t\t\tsize: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t  ]\n\t\t\t\t: allSeries.map((seriesKey) => ({\n\t\t\t\t\t\tlabel: seriesKey,\n\t\t\t\t\t\tstroke: seriesData[seriesKey].color,\n\t\t\t\t\t\twidth: 2,\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tpaths: _spline,\n\t\t\t\t\t\tspanGaps: true,\n\t\t\t\t  }))),\n\t\t],\n\t\tscales: {\n\t\t\tx: {\n\t\t\t\ttime: true,\n\t\t\t\tspanGaps: true,\n\t\t\t},\n\t\t\ty: {\n\t\t\t\t...getYAxisScaleForAnomalyDetection({\n\t\t\t\t\tseriesData,\n\t\t\t\t\tselectedSeries,\n\t\t\t\t\tinitialData,\n\t\t\t\t\tyAxisUnit,\n\t\t\t\t}),\n\t\t\t},\n\t\t},\n\t\tgrid: {\n\t\t\tshow: true,\n\t\t},\n\t\taxes: getAxes({ isDarkMode, yAxisUnit }),\n\t\ttzDate: (timestamp: number): Date =>\n\t\t\tuPlot.tzDate(new Date(timestamp * 1e3), timezone.value),\n\t};\n\n\tconst handleSearch = (searchText: string): void => {\n\t\tif (!searchText || searchText.length === 0) {\n\t\t\tsetFilteredSeriesKeys(allSeries);\n\t\t\treturn;\n\t\t}\n\n\t\tconst filteredSeries = allSeries.filter((series) =>\n\t\t\tseries.toLowerCase().includes(searchText.toLowerCase()),\n\t\t);\n\n\t\tsetFilteredSeriesKeys(filteredSeries);\n\t};\n\n\tconst handleSearchValueChange = useDebouncedFn((event): void => {\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t// @ts-ignore\n\t\tconst value = event?.target?.value || '';\n\n\t\thandleSearch(value);\n\t}, 300);\n\n\treturn (\n\t\t<div className=\"anomaly-alert-evaluation-view\">\n\t\t\t<div\n\t\t\t\tclassName={`anomaly-alert-evaluation-view-chart-section ${\n\t\t\t\t\tallSeries.length > 1 ? 'has-multi-series-data' : ''\n\t\t\t\t}`}\n\t\t\t\tref={graphRef}\n\t\t\t>\n\t\t\t\t{allSeries.length > 0 ? (\n\t\t\t\t\t<UplotChart\n\t\t\t\t\t\tdata={selectedSeries ? seriesData[selectedSeries].data : initialData}\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tchartRef={chartRef}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"anomaly-alert-evaluation-view-no-data-container\">\n\t\t\t\t\t\t<LineChart size={48} strokeWidth={0.5} />\n\n\t\t\t\t\t\t<Typography>No Data</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{allSeries.length > 1 && (\n\t\t\t\t<div className=\"anomaly-alert-evaluation-view-series-selection\">\n\t\t\t\t\t{allSeries.length > 1 && (\n\t\t\t\t\t\t<div className=\"anomaly-alert-evaluation-view-series-list\">\n\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\tclassName=\"anomaly-alert-evaluation-view-series-list-search\"\n\t\t\t\t\t\t\t\tplaceholder=\"Search a series\"\n\t\t\t\t\t\t\t\tallowClear\n\t\t\t\t\t\t\t\tonChange={handleSearchValueChange}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"anomaly-alert-evaluation-view-series-list-items\">\n\t\t\t\t\t\t\t\t{filteredSeriesKeys.length > 0 && (\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tclassName=\"anomaly-alert-evaluation-view-series-list-item\"\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"series\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"all\"\n\t\t\t\t\t\t\t\t\t\tchecked={selectedSeries === null}\n\t\t\t\t\t\t\t\t\t\tonChange={(): void => handleSeriesChange(null)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tShow All\n\t\t\t\t\t\t\t\t\t</Checkbox>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{filteredSeriesKeys.map((seriesKey) => (\n\t\t\t\t\t\t\t\t\t<div key={seriesKey}>\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"anomaly-alert-evaluation-view-series-list-item\"\n\t\t\t\t\t\t\t\t\t\t\tkey={seriesKey}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"series\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={seriesKey}\n\t\t\t\t\t\t\t\t\t\t\tchecked={selectedSeries === seriesKey}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(): void => handleSeriesChange(seriesKey)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"anomaly-alert-evaluation-view-series-list-item-color\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: seriesData[seriesKey].color }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t{seriesKey}\n\t\t\t\t\t\t\t\t\t\t</Checkbox>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t\t{filteredSeriesKeys.length === 0 && (\n\t\t\t\t\t\t\t\t\t<Typography>No series found</Typography>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default AnomalyAlertEvaluationView;\n","import AnomalyAlertEvaluationView from './AnomalyAlertEvaluationView';\n\nexport default AnomalyAlertEvaluationView;\n","import { DATE_TIME_FORMATS } from 'constants/dateTimeFormats';\nimport { themeColors } from 'constants/theme';\nimport dayjs from 'dayjs';\nimport { generateColor } from 'lib/uPlotLib/utils/generateColor';\n\nconst tooltipPlugin = (\n\tisDarkMode: boolean,\n\ttimezone: string,\n): { hooks: { init: (u: any) => void } } => {\n\tlet tooltip: HTMLDivElement;\n\tconst tooltipLeftOffset = 10;\n\tconst tooltipTopOffset = 10;\n\tlet isMouseOverPlot = false;\n\n\tfunction formatValue(value: string | number | Date): string | number | Date {\n\t\tif (typeof value === 'string' && !Number.isNaN(parseFloat(value))) {\n\t\t\treturn parseFloat(value).toFixed(3);\n\t\t}\n\t\tif (typeof value === 'number') {\n\t\t\treturn value.toFixed(3);\n\t\t}\n\t\tif (value instanceof Date) {\n\t\t\treturn dayjs(value)\n\t\t\t\t.tz(timezone)\n\t\t\t\t.format(DATE_TIME_FORMATS.US_DATETIME_SECONDS);\n\t\t}\n\t\tif (value == null) {\n\t\t\treturn 'N/A';\n\t\t}\n\n\t\treturn String(value);\n\t}\n\n\tfunction updateTooltip(u: any, left: number, top: number): void {\n\t\tconst idx = u.posToIdx(left);\n\t\tconst xVal = u.data[0][idx];\n\n\t\tif (xVal == null) {\n\t\t\ttooltip.style.display = 'none';\n\t\t\treturn;\n\t\t}\n\n\t\tconst xDate = new Date(xVal * 1000);\n\t\tconst formattedXDate = formatValue(xDate);\n\n\t\tlet tooltipContent = `<div class=\"uplot-tooltip-title\">Time: ${formattedXDate}</div>`;\n\n\t\tlet mainValue;\n\t\tlet upperBand;\n\t\tlet lowerBand;\n\n\t\tlet color = null;\n\n\t\t// Loop through all series (excluding the x-axis series)\n\t\tfor (let i = 1; i < u.series.length; i++) {\n\t\t\tconst series = u.series[i];\n\n\t\t\tconst yVal = u.data[i][idx];\n\t\t\tconst formattedYVal = formatValue(yVal);\n\n\t\t\tcolor = generateColor(\n\t\t\t\tseries.label,\n\t\t\t\tisDarkMode ? themeColors.chartcolors : themeColors.lightModeColor,\n\t\t\t);\n\n\t\t\t// Create the round marker for the series\n\t\t\tconst marker = `<span class=\"uplot-tooltip-marker\" style=\"background-color: ${color};\"></span>`;\n\n\t\t\tif (series.label.toLowerCase().includes('upper band')) {\n\t\t\t\tupperBand = formattedYVal;\n\t\t\t} else if (series.label.toLowerCase().includes('lower band')) {\n\t\t\t\tlowerBand = formattedYVal;\n\t\t\t} else if (series.label.toLowerCase().includes('main series')) {\n\t\t\t\tmainValue = formattedYVal;\n\t\t\t} else {\n\t\t\t\ttooltipContent += `\n              <div class=\"uplot-tooltip-series\">\n                ${marker}\n                <span class=\"uplot-tooltip-series-name\">${series.label}:</span>\n                <span class=\"uplot-tooltip-series-value\">${formattedYVal}</span>\n              </div>`;\n\t\t\t}\n\t\t}\n\n\t\t// Add main value, upper band, and lower band to the tooltip\n\t\tif (mainValue !== undefined) {\n\t\t\tconst marker = `<span class=\"uplot-tooltip-marker\"></span>`;\n\t\t\ttooltipContent += `\n          <div class=\"uplot-tooltip-series\">\n            ${marker}\n            <span class=\"uplot-tooltip-series-name\">Main Series:</span>\n            <span class=\"uplot-tooltip-series-value\">${mainValue}</span>\n          </div>`;\n\t\t}\n\t\tif (upperBand !== undefined) {\n\t\t\tconst marker = `<span class=\"uplot-tooltip-marker\"></span>`;\n\t\t\ttooltipContent += `\n          <div class=\"uplot-tooltip-series\">\n            ${marker}\n            <span class=\"uplot-tooltip-series-name\">Upper Band:</span>\n            <span class=\"uplot-tooltip-series-value\">${upperBand}</span>\n          </div>`;\n\t\t}\n\t\tif (lowerBand !== undefined) {\n\t\t\tconst marker = `<span class=\"uplot-tooltip-marker\"></span>`;\n\t\t\ttooltipContent += `\n          <div class=\"uplot-tooltip-series\">\n            ${marker}\n            <span class=\"uplot-tooltip-series-name\">Lower Band:</span>\n            <span class=\"uplot-tooltip-series-value\">${lowerBand}</span>\n          </div>`;\n\t\t}\n\n\t\ttooltip.innerHTML = tooltipContent;\n\t\ttooltip.style.display = 'block';\n\t\ttooltip.style.left = `${left + tooltipLeftOffset}px`;\n\t\ttooltip.style.top = `${top + tooltipTopOffset}px`;\n\t}\n\n\tfunction init(u: any): void {\n\t\ttooltip = document.createElement('div');\n\t\ttooltip.className = 'uplot-tooltip';\n\t\ttooltip.style.display = 'none';\n\t\tu.over.appendChild(tooltip);\n\n\t\t// Add event listeners\n\t\tu.over.addEventListener('mouseenter', () => {\n\t\t\tisMouseOverPlot = true;\n\t\t});\n\n\t\tu.over.addEventListener('mouseleave', () => {\n\t\t\tisMouseOverPlot = false;\n\t\t\ttooltip.style.display = 'none';\n\t\t});\n\n\t\tu.over.addEventListener('mousemove', (e: MouseEvent) => {\n\t\t\tif (isMouseOverPlot) {\n\t\t\t\tconst rect = u.over.getBoundingClientRect();\n\t\t\t\tconst left = e.clientX - rect.left;\n\t\t\t\tconst top = e.clientY - rect.top;\n\t\t\t\tupdateTooltip(u, left, top);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\thooks: {\n\t\t\tinit,\n\t\t},\n\t};\n};\n\nexport default tooltipPlugin;\n","import './FormAlertRules.styles.scss';\n\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Button, Form, Select, Switch, Tooltip } from 'antd';\nimport getAll from 'api/channels/getAll';\nimport logEvent from 'api/common/logEvent';\nimport { ALERTS_DATA_SOURCE_MAP } from 'constants/alerts';\nimport ROUTES from 'constants/routes';\nimport useComponentPermission from 'hooks/useComponentPermission';\nimport { useAppContext } from 'providers/App/App';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useQuery } from 'react-query';\nimport { SuccessResponseV2 } from 'types/api';\nimport { AlertTypes } from 'types/api/alerts/alertTypes';\nimport { AlertDef, Labels } from 'types/api/alerts/def';\nimport { Channels } from 'types/api/channels/getAll';\nimport APIError from 'types/api/error';\nimport { requireErrorMessage } from 'utils/form/requireErrorMessage';\nimport { popupContainer } from 'utils/selectPopupContainer';\n\nimport ChannelSelect from './ChannelSelect';\nimport LabelSelect from './labels';\nimport {\n\tFormContainer,\n\tFormItemMedium,\n\tInputSmall,\n\tSeveritySelect,\n\tStepHeading,\n\tTextareaMedium,\n} from './styles';\n\nconst { Option } = Select;\n\ninterface BasicInfoProps {\n\tisNewRule: boolean;\n\talertDef: AlertDef;\n\tsetAlertDef: (a: AlertDef) => void;\n}\n\nfunction BasicInfo({\n\tisNewRule,\n\talertDef,\n\tsetAlertDef,\n}: BasicInfoProps): JSX.Element {\n\tconst { t } = useTranslation('alerts');\n\n\tconst { isLoading, data, error, isError, refetch } = useQuery<\n\t\tSuccessResponseV2<Channels[]>,\n\t\tAPIError\n\t>(['getChannels'], {\n\t\tqueryFn: () => getAll(),\n\t});\n\n\tconst { user } = useAppContext();\n\tconst [addNewChannelPermission] = useComponentPermission(\n\t\t['add_new_channel'],\n\t\tuser.role,\n\t);\n\n\tconst [\n\t\tshouldBroadCastToAllChannels,\n\t\tsetShouldBroadCastToAllChannels,\n\t] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst hasPreferredChannels =\n\t\t\t(alertDef.preferredChannels && alertDef.preferredChannels.length > 0) ||\n\t\t\tisNewRule;\n\n\t\tsetShouldBroadCastToAllChannels(!hasPreferredChannels);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst handleBroadcastToAllChannels = (shouldBroadcast: boolean): void => {\n\t\tsetShouldBroadCastToAllChannels(shouldBroadcast);\n\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tbroadcastToAll: shouldBroadcast,\n\t\t});\n\t};\n\n\tconst noChannels = data?.data?.length === 0;\n\tconst handleCreateNewChannels = useCallback(() => {\n\t\tlogEvent('Alert: Create notification channel button clicked', {\n\t\t\tdataSource: ALERTS_DATA_SOURCE_MAP[alertDef?.alertType as AlertTypes],\n\t\t\truleId: isNewRule ? 0 : alertDef?.id,\n\t\t});\n\t\twindow.open(ROUTES.CHANNELS_NEW, '_blank');\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\tconst hasLoggedEvent = useRef(false);\n\n\tuseEffect(() => {\n\t\tif (!isLoading && isNewRule && !hasLoggedEvent.current) {\n\t\t\tlogEvent('Alert: New alert creation page visited', {\n\t\t\t\tdataSource: ALERTS_DATA_SOURCE_MAP[alertDef?.alertType as AlertTypes],\n\t\t\t\tnumberOfChannels: data?.data?.length,\n\t\t\t});\n\t\t\thasLoggedEvent.current = true;\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isLoading]);\n\n\tconst refetchChannels = async (): Promise<void> => {\n\t\tawait refetch();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<StepHeading> {t('alert_form_step4')} </StepHeading>\n\t\t\t<FormContainer>\n\t\t\t\t<Form.Item\n\t\t\t\t\tlabel={t('field_severity')}\n\t\t\t\t\tlabelAlign=\"left\"\n\t\t\t\t\tname={['labels', 'severity']}\n\t\t\t\t>\n\t\t\t\t\t<SeveritySelect\n\t\t\t\t\t\tgetPopupContainer={popupContainer}\n\t\t\t\t\t\tdefaultValue=\"critical\"\n\t\t\t\t\t\tonChange={(value: unknown | string): void => {\n\t\t\t\t\t\t\tconst s = (value as string) || 'critical';\n\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\t\t\t...alertDef.labels,\n\t\t\t\t\t\t\t\t\tseverity: s,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Option value=\"critical\">{t('option_critical')}</Option>\n\t\t\t\t\t\t<Option value=\"error\">{t('option_error')}</Option>\n\t\t\t\t\t\t<Option value=\"warning\">{t('option_warning')}</Option>\n\t\t\t\t\t\t<Option value=\"info\">{t('option_info')}</Option>\n\t\t\t\t\t</SeveritySelect>\n\t\t\t\t</Form.Item>\n\n\t\t\t\t<Form.Item\n\t\t\t\t\trequired\n\t\t\t\t\tname=\"alert\"\n\t\t\t\t\tlabelAlign=\"left\"\n\t\t\t\t\tlabel={t('field_alert_name')}\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{ required: true, message: requireErrorMessage(t('field_alert_name')) },\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<InputSmall\n\t\t\t\t\t\tonChange={(e): void => {\n\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\talert: e.target.value,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\tlabel={t('field_alert_desc')}\n\t\t\t\t\tlabelAlign=\"left\"\n\t\t\t\t\tname={['annotations', 'description']}\n\t\t\t\t>\n\t\t\t\t\t<TextareaMedium\n\t\t\t\t\t\tonChange={(e): void => {\n\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\tannotations: {\n\t\t\t\t\t\t\t\t\t...alertDef.annotations,\n\t\t\t\t\t\t\t\t\tdescription: e.target.value,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<FormItemMedium label={t('field_labels')}>\n\t\t\t\t\t<LabelSelect\n\t\t\t\t\t\tonSetLabels={(l: Labels): void => {\n\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tinitialValues={alertDef.labels}\n\t\t\t\t\t/>\n\t\t\t\t</FormItemMedium>\n\n\t\t\t\t<FormItemMedium\n\t\t\t\t\tname=\"alert_all_configured_channels\"\n\t\t\t\t\tlabel=\"Alert all the configured channels\"\n\t\t\t\t>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tnoChannels\n\t\t\t\t\t\t\t\t? 'No channels. Ask an admin to create a notification channel'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\tchecked={shouldBroadCastToAllChannels}\n\t\t\t\t\t\t\tonChange={handleBroadcastToAllChannels}\n\t\t\t\t\t\t\tdisabled={noChannels || !!isLoading}\n\t\t\t\t\t\t\tdata-testid=\"alert-broadcast-to-all-channels\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</FormItemMedium>\n\n\t\t\t\t{!shouldBroadCastToAllChannels && (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tnoChannels && !addNewChannelPermission\n\t\t\t\t\t\t\t\t? 'No channels. Ask an admin to create a notification channel'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FormItemMedium\n\t\t\t\t\t\t\tlabel=\"Notification Channels\"\n\t\t\t\t\t\t\tname=\"notification_channels\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{ required: true, message: requireErrorMessage(t('field_alert_name')) },\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ChannelSelect\n\t\t\t\t\t\t\t\tonDropdownOpen={refetchChannels}\n\t\t\t\t\t\t\t\tdisabled={shouldBroadCastToAllChannels}\n\t\t\t\t\t\t\t\tcurrentValue={alertDef.preferredChannels}\n\t\t\t\t\t\t\t\thandleCreateNewChannels={handleCreateNewChannels}\n\t\t\t\t\t\t\t\tchannels={data?.data || []}\n\t\t\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\t\t\thasError={isError}\n\t\t\t\t\t\t\t\terror={error as APIError}\n\t\t\t\t\t\t\t\tonSelectChannels={(preferredChannels): void => {\n\t\t\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\t\t\tpreferredChannels,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormItemMedium>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)}\n\n\t\t\t\t{noChannels && (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t!addNewChannelPermission\n\t\t\t\t\t\t\t\t? 'Ask an admin to create a notification channel'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={handleCreateNewChannels}\n\t\t\t\t\t\t\ticon={<PlusOutlined />}\n\t\t\t\t\t\t\tclassName=\"create-notification-btn\"\n\t\t\t\t\t\t\tdisabled={!addNewChannelPermission}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCreate a notification channel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)}\n\t\t\t</FormContainer>\n\t\t</>\n\t);\n}\n\nexport default BasicInfo;\n","import ClickHouseQueryBuilder from 'container/NewWidget/LeftContainer/QuerySection/QueryBuilder/clickHouse/query';\nimport { useQueryBuilder } from 'hooks/queryBuilder/useQueryBuilder';\n\nfunction ChQuerySection(): JSX.Element {\n\tconst { currentQuery } = useQueryBuilder();\n\n\treturn (\n\t\t<ClickHouseQueryBuilder\n\t\t\tkey=\"A\"\n\t\t\tqueryIndex={0}\n\t\t\tqueryData={currentQuery.clickhouse_sql[0]}\n\t\t\tdeletable={false}\n\t\t/>\n\t);\n}\n\nexport default ChQuerySection;\n","import ChQuerySection from './ChQuerySection';\n\nexport default ChQuerySection;\n","import { PlusOutlined } from '@ant-design/icons';\nimport { Select, Spin } from 'antd';\nimport useComponentPermission from 'hooks/useComponentPermission';\nimport { useNotifications } from 'hooks/useNotifications';\nimport { useAppContext } from 'providers/App/App';\nimport { ReactNode } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Channels } from 'types/api/channels/getAll';\nimport APIError from 'types/api/error';\n\nimport { StyledCreateChannelOption, StyledSelect } from './styles';\n\nexport interface ChannelSelectProps {\n\tdisabled?: boolean;\n\tcurrentValue?: string[];\n\tonSelectChannels: (s: string[]) => void;\n\tonDropdownOpen: () => void;\n\tisLoading: boolean;\n\tchannels: Channels[];\n\thasError: boolean;\n\terror: APIError;\n\thandleCreateNewChannels: () => void;\n}\n\nfunction ChannelSelect({\n\tdisabled,\n\tcurrentValue,\n\tonSelectChannels,\n\tonDropdownOpen,\n\tchannels,\n\tisLoading,\n\thasError,\n\terror,\n\thandleCreateNewChannels,\n}: ChannelSelectProps): JSX.Element | null {\n\t// init namespace for translations\n\tconst { t } = useTranslation('alerts');\n\n\tconst { notifications } = useNotifications();\n\n\tconst handleChange = (value: string[]): void => {\n\t\tif (value.includes('add-new-channel')) {\n\t\t\thandleCreateNewChannels();\n\t\t\treturn;\n\t\t}\n\t\tonSelectChannels(value);\n\t};\n\n\tif (hasError) {\n\t\tnotifications.error({\n\t\t\tmessage: error.getErrorCode(),\n\t\t\tdescription: error.getErrorMessage(),\n\t\t});\n\t}\n\n\tconst { user } = useAppContext();\n\tconst [addNewChannelPermission] = useComponentPermission(\n\t\t['add_new_channel'],\n\t\tuser.role,\n\t);\n\n\tconst renderOptions = (): ReactNode[] => {\n\t\tconst children: ReactNode[] = [];\n\n\t\tif (!isLoading && addNewChannelPermission) {\n\t\t\tchildren.push(\n\t\t\t\t<Select.Option key=\"add-new-channel\" value=\"add-new-channel\">\n\t\t\t\t\t<StyledCreateChannelOption>\n\t\t\t\t\t\t<PlusOutlined />\n\t\t\t\t\t\tCreate a new channel\n\t\t\t\t\t</StyledCreateChannelOption>\n\t\t\t\t</Select.Option>,\n\t\t\t);\n\t\t}\n\n\t\tif (isLoading || channels.length === 0) {\n\t\t\treturn children;\n\t\t}\n\n\t\tchannels.forEach((o) => {\n\t\t\tchildren.push(\n\t\t\t\t<Select.Option key={o.id} value={o.name}>\n\t\t\t\t\t{o.name}\n\t\t\t\t</Select.Option>,\n\t\t\t);\n\t\t});\n\n\t\treturn children;\n\t};\n\n\treturn (\n\t\t<StyledSelect\n\t\t\tdisabled={disabled}\n\t\t\tstatus={hasError ? 'error' : ''}\n\t\t\tmode=\"multiple\"\n\t\t\tstyle={{ width: '100%' }}\n\t\t\tplaceholder={t('placeholder_channel_select')}\n\t\t\tdata-testid=\"alert-channel-select\"\n\t\t\tvalue={currentValue}\n\t\t\tnotFoundContent={isLoading && <Spin size=\"small\" />}\n\t\t\tonDropdownVisibleChange={(open): void => {\n\t\t\t\tif (open) {\n\t\t\t\t\tonDropdownOpen();\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonChange={(value): void => {\n\t\t\t\thandleChange(value as string[]);\n\t\t\t}}\n\t\t\toptionLabelProp=\"label\"\n\t\t>\n\t\t\t{renderOptions()}\n\t\t</StyledSelect>\n\t);\n}\n\nChannelSelect.defaultProps = {\n\tdisabled: false,\n\tcurrentValue: [],\n};\nexport default ChannelSelect;\n","import { Select } from 'antd';\nimport styled from 'styled-components';\n\nexport const StyledSelect = styled(Select)`\n\tborder-radius: 4px;\n`;\n\nexport const StyledCreateChannelOption = styled.div`\n\tcolor: var(--bg-robin-500);\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n`;\n","import {\n\tDataFormats,\n\tDataRateFormats,\n\tMiscellaneousFormats,\n\tThroughputFormats,\n\tTimeFormats,\n} from 'container/NewWidget/RightContainer/types';\n\nexport const dataFormatConfig: Record<DataFormats, number> = {\n\t[DataFormats.BytesIEC]: 1,\n\t[DataFormats.BytesSI]: 1,\n\t[DataFormats.BitsIEC]: 1 / 8,\n\t[DataFormats.BitsSI]: 1 / 8,\n\t[DataFormats.KibiBytes]: 1024,\n\t[DataFormats.KiloBytes]: 1000,\n\t[DataFormats.MebiBytes]: 1024 ** 2,\n\t[DataFormats.MegaBytes]: 1000 ** 2,\n\t[DataFormats.GibiBytes]: 1024 ** 3,\n\t[DataFormats.GigaBytes]: 1000 ** 3,\n\t[DataFormats.TebiBytes]: 1024 ** 4,\n\t[DataFormats.TeraBytes]: 1000 ** 4,\n\t[DataFormats.PebiBytes]: 1024 ** 5,\n\t[DataFormats.PetaBytes]: 1000 ** 5,\n};\n\nexport const throughputConfig: Record<ThroughputFormats, number> = {\n\t[ThroughputFormats.CountsPerSec]: 1,\n\t[ThroughputFormats.OpsPerSec]: 1,\n\t[ThroughputFormats.RequestsPerSec]: 1,\n\t[ThroughputFormats.ReadsPerSec]: 1,\n\t[ThroughputFormats.WritesPerSec]: 1,\n\t[ThroughputFormats.IOOpsPerSec]: 1,\n\t[ThroughputFormats.CountsPerMin]: 1 / 60,\n\t[ThroughputFormats.OpsPerMin]: 1 / 60,\n\t[ThroughputFormats.ReadsPerMin]: 1 / 60,\n\t[ThroughputFormats.WritesPerMin]: 1 / 60,\n};\n\nexport const timeUnitsConfig: Record<TimeFormats, number> = {\n\t[TimeFormats.Hertz]: 1,\n\t[TimeFormats.Nanoseconds]: 1e-9,\n\t[TimeFormats.Microseconds]: 1e-6,\n\t[TimeFormats.Milliseconds]: 1e-3,\n\t[TimeFormats.Seconds]: 1,\n\t[TimeFormats.Minutes]: 60,\n\t[TimeFormats.Hours]: 3600,\n\t[TimeFormats.Days]: 86400,\n\t[TimeFormats.DurationMs]: 1e-3,\n\t[TimeFormats.DurationS]: 1,\n\t[TimeFormats.DurationHms]: 3600,\n\t[TimeFormats.DurationDhms]: 86400,\n\t[TimeFormats.Timeticks]: 1e-3,\n\t[TimeFormats.ClockMs]: 1e-3,\n\t[TimeFormats.ClockS]: 1,\n};\n\nexport const dataRateUnitsConfig: Record<DataRateFormats, number> = {\n\t[DataRateFormats.PacketsPerSec]: 1,\n\t[DataRateFormats.BytesPerSecIEC]: dataFormatConfig[DataFormats.BytesIEC],\n\t[DataRateFormats.BytesPerSecSI]: dataFormatConfig[DataFormats.BytesSI],\n\t[DataRateFormats.BitsPerSecIEC]: dataFormatConfig[DataFormats.BitsIEC],\n\t[DataRateFormats.BitsPerSecSI]: dataFormatConfig[DataFormats.BitsSI],\n\t[DataRateFormats.KibiBytesPerSec]: dataFormatConfig[DataFormats.KibiBytes],\n\t[DataRateFormats.KibiBitsPerSec]: dataFormatConfig[DataFormats.KibiBytes] * 8,\n\t[DataRateFormats.KiloBytesPerSec]: dataFormatConfig[DataFormats.KiloBytes],\n\t[DataRateFormats.KiloBitsPerSec]: dataFormatConfig[DataFormats.KiloBytes] * 8,\n\t[DataRateFormats.MebiBytesPerSec]: dataFormatConfig[DataFormats.MebiBytes],\n\t[DataRateFormats.MebiBitsPerSec]: dataFormatConfig[DataFormats.MebiBytes] * 8,\n\t[DataRateFormats.MegaBytesPerSec]: dataFormatConfig[DataFormats.MegaBytes],\n\t[DataRateFormats.MegaBitsPerSec]: dataFormatConfig[DataFormats.MegaBytes] * 8,\n\t[DataRateFormats.GibiBytesPerSec]: dataFormatConfig[DataFormats.GibiBytes],\n\t[DataRateFormats.GibiBitsPerSec]: dataFormatConfig[DataFormats.GibiBytes] * 8,\n\t[DataRateFormats.GigaBytesPerSec]: dataFormatConfig[DataFormats.GigaBytes],\n\t[DataRateFormats.GigaBitsPerSec]: dataFormatConfig[DataFormats.GigaBytes] * 8,\n\t[DataRateFormats.TebiBytesPerSec]: dataFormatConfig[DataFormats.TebiBytes],\n\t[DataRateFormats.TebiBitsPerSec]: dataFormatConfig[DataFormats.TebiBytes] * 8,\n\t[DataRateFormats.TeraBytesPerSec]: dataFormatConfig[DataFormats.TeraBytes],\n\t[DataRateFormats.TeraBitsPerSec]: dataFormatConfig[DataFormats.TeraBytes] * 8,\n\t[DataRateFormats.PebiBytesPerSec]: dataFormatConfig[DataFormats.PebiBytes],\n\t[DataRateFormats.PebiBitsPerSec]: dataFormatConfig[DataFormats.PebiBytes] * 8,\n\t[DataRateFormats.PetaBytesPerSec]: dataFormatConfig[DataFormats.PetaBytes],\n\t[DataRateFormats.PetaBitsPerSec]: dataFormatConfig[DataFormats.PetaBytes] * 8,\n};\n\nexport const miscUnitsConfig: Record<MiscellaneousFormats, number> = {\n\t[MiscellaneousFormats.None]: 1,\n\t[MiscellaneousFormats.String]: 1,\n\t[MiscellaneousFormats.Short]: 1,\n\t[MiscellaneousFormats.Percent]: 0.01,\n\t[MiscellaneousFormats.PercentUnit]: 1,\n\t[MiscellaneousFormats.Humidity]: 1,\n\t[MiscellaneousFormats.Decibel]: 1,\n\t[MiscellaneousFormats.Hexadecimal0x]: 1,\n\t[MiscellaneousFormats.Hexadecimal]: 1,\n\t[MiscellaneousFormats.ScientificNotation]: 1,\n\t[MiscellaneousFormats.LocaleFormat]: 1,\n\t[MiscellaneousFormats.Pixels]: 1,\n};\n","import './ChartPreview.styles.scss';\n\nimport { InfoCircleOutlined } from '@ant-design/icons';\nimport Spinner from 'components/Spinner';\nimport { DEFAULT_ENTITY_VERSION } from 'constants/app';\nimport { FeatureKeys } from 'constants/features';\nimport { QueryParams } from 'constants/query';\nimport { initialQueriesMap, PANEL_TYPES } from 'constants/queryBuilder';\nimport AnomalyAlertEvaluationView from 'container/AnomalyAlertEvaluationView';\nimport GridPanelSwitch from 'container/GridPanelSwitch';\nimport { getFormatNameByOptionId } from 'container/NewWidget/RightContainer/alertFomatCategories';\nimport { timePreferenceType } from 'container/NewWidget/RightContainer/timeItems';\nimport { Time } from 'container/TopNav/DateTimeSelection/config';\nimport {\n\tCustomTimeType,\n\tTime as TimeV2,\n} from 'container/TopNav/DateTimeSelectionV2/config';\nimport { useGetQueryRange } from 'hooks/queryBuilder/useGetQueryRange';\nimport { useIsDarkMode } from 'hooks/useDarkMode';\nimport { useResizeObserver } from 'hooks/useDimensions';\nimport useUrlQuery from 'hooks/useUrlQuery';\nimport GetMinMax from 'lib/getMinMax';\nimport getTimeString from 'lib/getTimeString';\nimport history from 'lib/history';\nimport { getUPlotChartOptions } from 'lib/uPlotLib/getUplotChartOptions';\nimport { getUPlotChartData } from 'lib/uPlotLib/utils/getUplotChartData';\nimport { useAppContext } from 'providers/App/App';\nimport { useTimezone } from 'providers/Timezone';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { UpdateTimeInterval } from 'store/actions';\nimport { AppState } from 'store/reducers';\nimport { AlertDef } from 'types/api/alerts/def';\nimport { Query } from 'types/api/queryBuilder/queryBuilderData';\nimport { EQueryType } from 'types/common/dashboard';\nimport { GlobalReducer } from 'types/reducer/globalTime';\nimport uPlot from 'uplot';\nimport { getGraphType } from 'utils/getGraphType';\nimport { getSortedSeriesData } from 'utils/getSortedSeriesData';\nimport { getTimeRange } from 'utils/getTimeRange';\n\nimport { AlertDetectionTypes } from '..';\nimport { ChartContainer, FailedMessageContainer } from './styles';\nimport { getThresholdLabel } from './utils';\n\nexport interface ChartPreviewProps {\n\tname: string;\n\tquery: Query | null;\n\tgraphType?: PANEL_TYPES;\n\tselectedTime?: timePreferenceType;\n\tselectedInterval?: Time | TimeV2 | CustomTimeType;\n\theadline?: JSX.Element;\n\talertDef?: AlertDef;\n\tuserQueryKey?: string;\n\tallowSelectedIntervalForStepGen?: boolean;\n\tyAxisUnit: string;\n\tsetQueryStatus?: (status: string) => void;\n}\n\n// eslint-disable-next-line sonarjs/cognitive-complexity\nfunction ChartPreview({\n\tname,\n\tquery,\n\tgraphType = PANEL_TYPES.TIME_SERIES,\n\tselectedTime = 'GLOBAL_TIME',\n\tselectedInterval = '5m',\n\theadline,\n\tuserQueryKey,\n\tallowSelectedIntervalForStepGen = false,\n\talertDef,\n\tyAxisUnit,\n\tsetQueryStatus,\n}: ChartPreviewProps): JSX.Element | null {\n\tconst { t } = useTranslation('alerts');\n\tconst dispatch = useDispatch();\n\tconst threshold = alertDef?.condition.target || 0;\n\tconst [minTimeScale, setMinTimeScale] = useState<number>();\n\tconst [maxTimeScale, setMaxTimeScale] = useState<number>();\n\n\tconst { minTime, maxTime, selectedTime: globalSelectedInterval } = useSelector<\n\t\tAppState,\n\t\tGlobalReducer\n\t>((state) => state.globalTime);\n\n\tconst { featureFlags } = useAppContext();\n\n\tconst handleBackNavigation = (): void => {\n\t\tconst searchParams = new URLSearchParams(window.location.search);\n\t\tconst startTime = searchParams.get(QueryParams.startTime);\n\t\tconst endTime = searchParams.get(QueryParams.endTime);\n\n\t\tif (startTime && endTime && startTime !== endTime) {\n\t\t\tdispatch(\n\t\t\t\tUpdateTimeInterval('custom', [\n\t\t\t\t\tparseInt(getTimeString(startTime), 10),\n\t\t\t\t\tparseInt(getTimeString(endTime), 10),\n\t\t\t\t]),\n\t\t\t);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('popstate', handleBackNavigation);\n\n\t\treturn (): void => {\n\t\t\twindow.removeEventListener('popstate', handleBackNavigation);\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst canQuery = useMemo((): boolean => {\n\t\tif (!query || query == null) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch (query?.queryType) {\n\t\t\tcase EQueryType.PROM:\n\t\t\t\treturn query.promql?.length > 0 && query.promql[0].query !== '';\n\t\t\tcase EQueryType.CLICKHOUSE:\n\t\t\t\treturn (\n\t\t\t\t\tquery.clickhouse_sql?.length > 0 &&\n\t\t\t\t\tquery.clickhouse_sql[0].query?.length > 0\n\t\t\t\t);\n\t\t\tcase EQueryType.QUERY_BUILDER:\n\t\t\t\treturn (\n\t\t\t\t\tquery.builder.queryData.length > 0 &&\n\t\t\t\t\tquery.builder.queryData[0].queryName !== ''\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}, [query]);\n\n\tconst queryResponse = useGetQueryRange(\n\t\t{\n\t\t\tquery: query || initialQueriesMap.metrics,\n\t\t\tglobalSelectedInterval: selectedInterval,\n\t\t\tgraphType: getGraphType(graphType),\n\t\t\tselectedTime,\n\t\t\tparams: {\n\t\t\t\tallowSelectedIntervalForStepGen,\n\t\t\t},\n\t\t\toriginalGraphType: graphType,\n\t\t},\n\t\talertDef?.version || DEFAULT_ENTITY_VERSION,\n\t\t{\n\t\t\tqueryKey: [\n\t\t\t\t'chartPreview',\n\t\t\t\tuserQueryKey || JSON.stringify(query),\n\t\t\t\tselectedInterval,\n\t\t\t\tminTime,\n\t\t\t\tmaxTime,\n\t\t\t\talertDef?.ruleType,\n\t\t\t],\n\t\t\tretry: false,\n\t\t\tenabled: canQuery,\n\t\t},\n\t);\n\n\tconst graphRef = useRef<HTMLDivElement>(null);\n\n\tuseEffect((): void => {\n\t\tconst { startTime, endTime } = getTimeRange(queryResponse);\n\t\tif (setQueryStatus) setQueryStatus(queryResponse.status);\n\t\tsetMinTimeScale(startTime);\n\t\tsetMaxTimeScale(endTime);\n\t}, [maxTime, minTime, globalSelectedInterval, queryResponse, setQueryStatus]);\n\n\tif (queryResponse.data && graphType === PANEL_TYPES.BAR) {\n\t\tconst sortedSeriesData = getSortedSeriesData(\n\t\t\tqueryResponse.data?.payload.data.result,\n\t\t);\n\t\tqueryResponse.data.payload.data.result = sortedSeriesData;\n\t}\n\n\tconst containerDimensions = useResizeObserver(graphRef);\n\n\tconst isDarkMode = useIsDarkMode();\n\tconst urlQuery = useUrlQuery();\n\tconst location = useLocation();\n\n\tconst optionName =\n\t\tgetFormatNameByOptionId(alertDef?.condition.targetUnit || '') || '';\n\n\tconst onDragSelect = useCallback(\n\t\t(start: number, end: number): void => {\n\t\t\tconst startTimestamp = Math.trunc(start);\n\t\t\tconst endTimestamp = Math.trunc(end);\n\n\t\t\tif (startTimestamp !== endTimestamp) {\n\t\t\t\tdispatch(UpdateTimeInterval('custom', [startTimestamp, endTimestamp]));\n\t\t\t}\n\n\t\t\tconst { maxTime, minTime } = GetMinMax('custom', [\n\t\t\t\tstartTimestamp,\n\t\t\t\tendTimestamp,\n\t\t\t]);\n\n\t\t\turlQuery.set(QueryParams.startTime, minTime.toString());\n\t\t\turlQuery.set(QueryParams.endTime, maxTime.toString());\n\t\t\tconst generatedUrl = `${location.pathname}?${urlQuery.toString()}`;\n\t\t\thistory.push(generatedUrl);\n\t\t},\n\t\t[dispatch, location.pathname, urlQuery],\n\t);\n\n\tconst { timezone } = useTimezone();\n\n\tconst options = useMemo(\n\t\t() =>\n\t\t\tgetUPlotChartOptions({\n\t\t\t\tid: 'alert_legend_widget',\n\t\t\t\tyAxisUnit,\n\t\t\t\tapiResponse: queryResponse?.data?.payload,\n\t\t\t\tdimensions: {\n\t\t\t\t\theight: containerDimensions?.height ? containerDimensions.height - 48 : 0,\n\t\t\t\t\twidth: containerDimensions?.width,\n\t\t\t\t},\n\t\t\t\tminTimeScale,\n\t\t\t\tmaxTimeScale,\n\t\t\t\tisDarkMode,\n\t\t\t\tonDragSelect,\n\t\t\t\tthresholds: [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: '0', // no impact\n\t\t\t\t\t\tkeyIndex: 0,\n\t\t\t\t\t\tmoveThreshold: (): void => {},\n\t\t\t\t\t\tselectedGraph: PANEL_TYPES.TIME_SERIES, // no impact\n\t\t\t\t\t\tthresholdValue: threshold,\n\t\t\t\t\t\tthresholdLabel: `${t(\n\t\t\t\t\t\t\t'preview_chart_threshold_label',\n\t\t\t\t\t\t)} (y=${getThresholdLabel(\n\t\t\t\t\t\t\toptionName,\n\t\t\t\t\t\t\tthreshold,\n\t\t\t\t\t\t\talertDef?.condition.targetUnit,\n\t\t\t\t\t\t\tyAxisUnit,\n\t\t\t\t\t\t)})`,\n\t\t\t\t\t\tthresholdUnit: alertDef?.condition.targetUnit,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tsoftMax: null,\n\t\t\t\tsoftMin: null,\n\t\t\t\tpanelType: graphType,\n\t\t\t\ttzDate: (timestamp: number) =>\n\t\t\t\t\tuPlot.tzDate(new Date(timestamp * 1e3), timezone.value),\n\t\t\t\ttimezone: timezone.value,\n\t\t\t}),\n\t\t[\n\t\t\tyAxisUnit,\n\t\t\tqueryResponse?.data?.payload,\n\t\t\tcontainerDimensions,\n\t\t\tminTimeScale,\n\t\t\tmaxTimeScale,\n\t\t\tisDarkMode,\n\t\t\tonDragSelect,\n\t\t\tthreshold,\n\t\t\tt,\n\t\t\toptionName,\n\t\t\talertDef?.condition.targetUnit,\n\t\t\tgraphType,\n\t\t\ttimezone.value,\n\t\t],\n\t);\n\n\tconst chartData = getUPlotChartData(queryResponse?.data?.payload);\n\n\tconst isAnomalyDetectionAlert =\n\t\talertDef?.ruleType === AlertDetectionTypes.ANOMALY_DETECTION_ALERT;\n\n\tconst chartDataAvailable =\n\t\tchartData && !queryResponse.isError && !queryResponse.isLoading;\n\n\tconst isAnomalyDetectionEnabled =\n\t\tfeatureFlags?.find((flag) => flag.name === FeatureKeys.ANOMALY_DETECTION)\n\t\t\t?.active || false;\n\n\treturn (\n\t\t<div className=\"alert-chart-container\" ref={graphRef}>\n\t\t\t<ChartContainer>\n\t\t\t\t{headline}\n\n\t\t\t\t<div className=\"threshold-alert-uplot-chart-container\">\n\t\t\t\t\t{queryResponse.isLoading && (\n\t\t\t\t\t\t<Spinner size=\"large\" tip=\"Loading...\" height=\"100%\" />\n\t\t\t\t\t)}\n\t\t\t\t\t{(queryResponse?.isError || queryResponse?.error) && (\n\t\t\t\t\t\t<FailedMessageContainer color=\"red\" title=\"Failed to refresh the chart\">\n\t\t\t\t\t\t\t<InfoCircleOutlined />\n\t\t\t\t\t\t\t{queryResponse.error.message || t('preview_chart_unexpected_error')}\n\t\t\t\t\t\t</FailedMessageContainer>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{chartDataAvailable && !isAnomalyDetectionAlert && (\n\t\t\t\t\t\t<GridPanelSwitch\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\tpanelType={graphType}\n\t\t\t\t\t\t\tdata={chartData}\n\t\t\t\t\t\t\tname={name || 'Chart Preview'}\n\t\t\t\t\t\t\tpanelData={\n\t\t\t\t\t\t\t\tqueryResponse.data?.payload?.data?.newResult?.data?.result || []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tquery={query || initialQueriesMap.metrics}\n\t\t\t\t\t\t\tyAxisUnit={yAxisUnit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{chartDataAvailable &&\n\t\t\t\t\t\tisAnomalyDetectionAlert &&\n\t\t\t\t\t\tisAnomalyDetectionEnabled &&\n\t\t\t\t\t\tqueryResponse?.data?.payload?.data?.resultType === 'anomaly' && (\n\t\t\t\t\t\t\t<AnomalyAlertEvaluationView\n\t\t\t\t\t\t\t\tdata={queryResponse?.data?.payload}\n\t\t\t\t\t\t\t\tyAxisUnit={yAxisUnit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</ChartContainer>\n\t\t</div>\n\t);\n}\n\nChartPreview.defaultProps = {\n\tgraphType: PANEL_TYPES.TIME_SERIES,\n\tselectedTime: 'GLOBAL_TIME',\n\tselectedInterval: '5min',\n\theadline: undefined,\n\tuserQueryKey: '',\n\tallowSelectedIntervalForStepGen: false,\n\talertDef: undefined,\n\tsetQueryStatus: (): void => {},\n};\n\nexport default ChartPreview;\n","import { red } from '@ant-design/colors';\nimport { Card, Tooltip } from 'antd';\nimport styled from 'styled-components';\n\nexport const NotFoundContainer = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmin-height: 55vh;\n`;\n\nexport const FailedMessageContainer = styled(Tooltip)`\n\tposition: absolute;\n\tcolor: ${red};\n\ttop: 4rem;\n\tleft: 10px;\n`;\n\nexport const ChartContainer = styled(Card)`\n\tborder-radius: 4px;\n\t&&& {\n\t\tposition: relative;\n\t}\n\n\t.plot-tag {\n\t\tmargin-left: 6px;\n\t\tdisplay: inline-flex;\n\t\tpadding: 0px 4px 0px 6px;\n\t\talign-items: center;\n\t\tgap: 6px;\n\t\tborder-radius: 4px;\n\t\tbackground: var(--bg-slate-400);\n\t\tbackdrop-filter: blur(6px);\n\t\twidth: fit-content;\n\t}\n\n\t.ant-card-body {\n\t\tpadding: 1.5rem 0;\n\t\theight: 57vh;\n\t\t/* padding-bottom: 2rem; */\n\t}\n`;\n","import {\n\tBooleanFormats,\n\tDataFormats,\n\tDataRateFormats,\n\tMiscellaneousFormats,\n\tThroughputFormats,\n\tTimeFormats,\n} from 'container/NewWidget/RightContainer/types';\n\nimport {\n\tdataFormatConfig,\n\tdataRateUnitsConfig,\n\tmiscUnitsConfig,\n\tthroughputConfig,\n\ttimeUnitsConfig,\n} from './config';\n\nexport function covertIntoDataFormats({\n\tvalue,\n\tsourceUnit,\n\ttargetUnit,\n}: IUnit): number {\n\tif (sourceUnit === undefined || targetUnit === undefined) {\n\t\treturn value;\n\t}\n\n\tif (Object.values(BooleanFormats).includes(sourceUnit as BooleanFormats)) {\n\t\treturn 1;\n\t}\n\n\tconst sourceMultiplier =\n\t\tdataFormatConfig[sourceUnit as DataFormats] ||\n\t\ttimeUnitsConfig[sourceUnit as TimeFormats] ||\n\t\tdataRateUnitsConfig[sourceUnit as DataRateFormats] ||\n\t\tmiscUnitsConfig[sourceUnit as MiscellaneousFormats] ||\n\t\tthroughputConfig[sourceUnit as ThroughputFormats];\n\n\tconst targetDivider =\n\t\tdataFormatConfig[targetUnit as DataFormats] ||\n\t\ttimeUnitsConfig[targetUnit as TimeFormats] ||\n\t\tdataRateUnitsConfig[targetUnit as DataRateFormats] ||\n\t\tmiscUnitsConfig[targetUnit as MiscellaneousFormats] ||\n\t\tthroughputConfig[sourceUnit as ThroughputFormats];\n\n\tconst intermediateValue = value * sourceMultiplier;\n\n\tconst roundedValue = Math.round(intermediateValue * 1000000) / 1000000;\n\n\tconst result = roundedValue / targetDivider;\n\n\treturn Number.isNaN(result) ? 0 : result;\n}\n\nexport const getThresholdLabel = (\n\toptionName: string,\n\tvalue: number,\n\tunit?: string,\n\tyAxisUnit?: string,\n): string => {\n\tif (\n\t\tunit === MiscellaneousFormats.PercentUnit ||\n\t\tyAxisUnit === MiscellaneousFormats.PercentUnit\n\t) {\n\t\tif (unit === MiscellaneousFormats.Percent) {\n\t\t\treturn `${value}%`;\n\t\t}\n\t\treturn `${value * 100}%`;\n\t}\n\tif (\n\t\tunit === MiscellaneousFormats.Percent ||\n\t\tyAxisUnit === MiscellaneousFormats.Percent\n\t) {\n\t\tif (unit === MiscellaneousFormats.PercentUnit) {\n\t\t\treturn `${value * 100}%`;\n\t\t}\n\t\treturn `${value}%`;\n\t}\n\treturn `${value} ${optionName}`;\n};\n\ninterface IUnit {\n\tvalue: number;\n\tsourceUnit?: string;\n\ttargetUnit?: string;\n}\n","import PromQLQueryBuilder from 'container/NewWidget/LeftContainer/QuerySection/QueryBuilder/promQL/query';\nimport { useQueryBuilder } from 'hooks/queryBuilder/useQueryBuilder';\n\nfunction PromqlSection(): JSX.Element {\n\tconst { currentQuery } = useQueryBuilder();\n\n\treturn (\n\t\t<>\n\t\t\t{currentQuery.promql.map((query, index) => (\n\t\t\t\t<PromQLQueryBuilder\n\t\t\t\t\tkey={query.name}\n\t\t\t\t\tqueryIndex={index}\n\t\t\t\t\tqueryData={query}\n\t\t\t\t\tdeletable={false}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</>\n\t);\n}\n\nexport default PromqlSection;\n","import './QuerySection.styles.scss';\n\nimport { Color } from '@signozhq/design-tokens';\nimport { Button, Tabs, Tooltip } from 'antd';\nimport logEvent from 'api/common/logEvent';\nimport PromQLIcon from 'assets/Dashboard/PromQl';\nimport { ALERTS_DATA_SOURCE_MAP } from 'constants/alerts';\nimport { ENTITY_VERSION_V4 } from 'constants/app';\nimport { PANEL_TYPES } from 'constants/queryBuilder';\nimport { QBShortcuts } from 'constants/shortcuts/QBShortcuts';\nimport { QueryBuilder } from 'container/QueryBuilder';\nimport { useKeyboardHotkeys } from 'hooks/hotkeys/useKeyboardHotkeys';\nimport { useIsDarkMode } from 'hooks/useDarkMode';\nimport { isEmpty } from 'lodash-es';\nimport { Atom, Play, Terminal } from 'lucide-react';\nimport { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AlertTypes } from 'types/api/alerts/alertTypes';\nimport { AlertDef } from 'types/api/alerts/def';\nimport { EQueryType } from 'types/common/dashboard';\n\nimport ChQuerySection from './ChQuerySection';\nimport PromqlSection from './PromqlSection';\nimport { FormContainer, StepHeading } from './styles';\n\nfunction QuerySection({\n\tqueryCategory,\n\tsetQueryCategory,\n\talertType,\n\trunQuery,\n\talertDef,\n\tpanelType,\n\truleId,\n}: QuerySectionProps): JSX.Element {\n\t// init namespace for translations\n\tconst { t } = useTranslation('alerts');\n\tconst [currentTab, setCurrentTab] = useState(queryCategory);\n\n\tconst handleQueryCategoryChange = (queryType: string): void => {\n\t\tsetQueryCategory(queryType as EQueryType);\n\t\tsetCurrentTab(queryType as EQueryType);\n\t};\n\n\tconst renderPromqlUI = (): JSX.Element => <PromqlSection />;\n\n\tconst renderChQueryUI = (): JSX.Element => <ChQuerySection />;\n\n\tconst isDarkMode = useIsDarkMode();\n\n\tconst renderMetricUI = (): JSX.Element => (\n\t\t<QueryBuilder\n\t\t\tpanelType={panelType}\n\t\t\tconfig={{\n\t\t\t\tqueryVariant: 'static',\n\t\t\t\tinitialDataSource: ALERTS_DATA_SOURCE_MAP[alertType],\n\t\t\t}}\n\t\t\tshowFunctions={\n\t\t\t\t(alertType === AlertTypes.METRICS_BASED_ALERT &&\n\t\t\t\t\talertDef.version === ENTITY_VERSION_V4) ||\n\t\t\t\talertType === AlertTypes.LOGS_BASED_ALERT\n\t\t\t}\n\t\t\tversion={alertDef.version || 'v3'}\n\t\t/>\n\t);\n\n\tconst tabs = [\n\t\t{\n\t\t\tlabel: (\n\t\t\t\t<Tooltip title=\"Query Builder\">\n\t\t\t\t\t<Button className=\"nav-btns\">\n\t\t\t\t\t\t<Atom size={14} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t),\n\t\t\tkey: EQueryType.QUERY_BUILDER,\n\t\t},\n\t\t{\n\t\t\tlabel: (\n\t\t\t\t<Tooltip title=\"ClickHouse\">\n\t\t\t\t\t<Button className=\"nav-btns\">\n\t\t\t\t\t\t<Terminal size={14} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t),\n\t\t\tkey: EQueryType.CLICKHOUSE,\n\t\t},\n\t];\n\n\tconst items = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tlabel: (\n\t\t\t\t\t<Tooltip title=\"Query Builder\">\n\t\t\t\t\t\t<Button className=\"nav-btns\" data-testid=\"query-builder-tab\">\n\t\t\t\t\t\t\t<Atom size={14} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t),\n\t\t\t\tkey: EQueryType.QUERY_BUILDER,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: (\n\t\t\t\t\t<Tooltip title=\"ClickHouse\">\n\t\t\t\t\t\t<Button className=\"nav-btns\">\n\t\t\t\t\t\t\t<Terminal size={14} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t),\n\t\t\t\tkey: EQueryType.CLICKHOUSE,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: (\n\t\t\t\t\t<Tooltip title=\"PromQL\">\n\t\t\t\t\t\t<Button className=\"nav-btns\">\n\t\t\t\t\t\t\t<PromQLIcon\n\t\t\t\t\t\t\t\tfillColor={isDarkMode ? Color.BG_VANILLA_200 : Color.BG_INK_300}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t),\n\t\t\t\tkey: EQueryType.PROM,\n\t\t\t},\n\t\t],\n\t\t[isDarkMode],\n\t);\n\n\tconst { registerShortcut, deregisterShortcut } = useKeyboardHotkeys();\n\n\tuseEffect(() => {\n\t\tregisterShortcut(QBShortcuts.StageAndRunQuery, runQuery);\n\n\t\treturn (): void => {\n\t\t\tderegisterShortcut(QBShortcuts.StageAndRunQuery);\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [runQuery]);\n\n\tconst renderTabs = (typ: AlertTypes): JSX.Element | null => {\n\t\tswitch (typ) {\n\t\t\tcase AlertTypes.TRACES_BASED_ALERT:\n\t\t\tcase AlertTypes.LOGS_BASED_ALERT:\n\t\t\tcase AlertTypes.EXCEPTIONS_BASED_ALERT:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"alert-tabs\">\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\ttype=\"card\"\n\t\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t\t\tdefaultActiveKey={currentTab}\n\t\t\t\t\t\t\tactiveKey={currentTab}\n\t\t\t\t\t\t\tonChange={handleQueryCategoryChange}\n\t\t\t\t\t\t\ttabBarExtraContent={\n\t\t\t\t\t\t\t\t<span style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={(): void => {\n\t\t\t\t\t\t\t\t\t\t\trunQuery();\n\t\t\t\t\t\t\t\t\t\t\tlogEvent('Alert: Stage and run query', {\n\t\t\t\t\t\t\t\t\t\t\t\tdataSource: ALERTS_DATA_SOURCE_MAP[alertType],\n\t\t\t\t\t\t\t\t\t\t\t\tisNewRule: !ruleId || isEmpty(ruleId),\n\t\t\t\t\t\t\t\t\t\t\t\truleId,\n\t\t\t\t\t\t\t\t\t\t\t\tqueryType: queryCategory,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName=\"stage-run-query\"\n\t\t\t\t\t\t\t\t\t\ticon={<Play size={14} />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tStage & Run Query\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titems={tabs}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase AlertTypes.METRICS_BASED_ALERT:\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"alert-tabs\">\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\ttype=\"card\"\n\t\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t\t\tdefaultActiveKey={currentTab}\n\t\t\t\t\t\t\tactiveKey={currentTab}\n\t\t\t\t\t\t\tonChange={handleQueryCategoryChange}\n\t\t\t\t\t\t\ttabBarExtraContent={\n\t\t\t\t\t\t\t\t<span style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={runQuery}\n\t\t\t\t\t\t\t\t\t\tclassName=\"stage-run-query\"\n\t\t\t\t\t\t\t\t\t\ticon={<Play size={14} />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tStage & Run Query\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n\t};\n\tconst renderQuerySection = (c: EQueryType): JSX.Element | null => {\n\t\tswitch (c) {\n\t\t\tcase EQueryType.PROM:\n\t\t\t\treturn renderPromqlUI();\n\t\t\tcase EQueryType.CLICKHOUSE:\n\t\t\t\treturn renderChQueryUI();\n\t\t\tcase EQueryType.QUERY_BUILDER:\n\t\t\t\treturn renderMetricUI();\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\treturn (\n\t\t<>\n\t\t\t<StepHeading> {t('alert_form_step2')}</StepHeading>\n\t\t\t<FormContainer>\n\t\t\t\t<div>{renderTabs(alertType)}</div>\n\t\t\t\t{renderQuerySection(currentTab)}\n\t\t\t</FormContainer>\n\t\t</>\n\t);\n}\n\ninterface QuerySectionProps {\n\tqueryCategory: EQueryType;\n\tsetQueryCategory: (n: EQueryType) => void;\n\talertType: AlertTypes;\n\trunQuery: VoidFunction;\n\talertDef: AlertDef;\n\tpanelType: PANEL_TYPES;\n\truleId: string;\n}\n\nexport default QuerySection;\n","import './RuleOptions.styles.scss';\n\nimport {\n\tCheckbox,\n\tCollapse,\n\tForm,\n\tInputNumber,\n\tInputNumberProps,\n\tSelect,\n\tSelectProps,\n\tSpace,\n\tTypography,\n} from 'antd';\nimport { DefaultOptionType } from 'antd/es/select';\nimport {\n\tgetCategoryByOptionId,\n\tgetCategorySelectOptionByName,\n} from 'container/NewWidget/RightContainer/alertFomatCategories';\nimport { useQueryBuilder } from 'hooks/queryBuilder/useQueryBuilder';\nimport { useTranslation } from 'react-i18next';\nimport {\n\tAlertDef,\n\tdefaultAlgorithm,\n\tdefaultCompareOp,\n\tdefaultEvalWindow,\n\tdefaultFrequency,\n\tdefaultMatchType,\n\tdefaultSeasonality,\n} from 'types/api/alerts/def';\nimport { EQueryType } from 'types/common/dashboard';\nimport { popupContainer } from 'utils/selectPopupContainer';\n\nimport { AlertDetectionTypes } from '.';\nimport {\n\tFormContainer,\n\tInlineSelect,\n\tStepHeading,\n\tVerticalLine,\n} from './styles';\n\nfunction RuleOptions({\n\talertDef,\n\tsetAlertDef,\n\tqueryCategory,\n\tqueryOptions,\n}: RuleOptionsProps): JSX.Element {\n\t// init namespace for translations\n\tconst { t } = useTranslation('alerts');\n\tconst { currentQuery } = useQueryBuilder();\n\n\tconst { ruleType } = alertDef;\n\n\tconst handleMatchOptChange = (value: string | unknown): void => {\n\t\tconst m = (value as string) || alertDef.condition?.matchType;\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tcondition: {\n\t\t\t\t...alertDef.condition,\n\t\t\t\tmatchType: m,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst onChangeSelectedQueryName = (value: string | unknown): void => {\n\t\tif (typeof value !== 'string') return;\n\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tcondition: {\n\t\t\t\t...alertDef.condition,\n\t\t\t\tselectedQueryName: value,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst renderCompareOps = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={defaultCompareOp}\n\t\t\tvalue={alertDef.condition?.op}\n\t\t\tstyle={{ minWidth: '120px' }}\n\t\t\tonChange={(value: string | unknown): void => {\n\t\t\t\tconst newOp = (value as string) || '';\n\n\t\t\t\tsetAlertDef({\n\t\t\t\t\t...alertDef,\n\t\t\t\t\tcondition: {\n\t\t\t\t\t\t...alertDef.condition,\n\t\t\t\t\t\top: newOp,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}}\n\t\t>\n\t\t\t<Select.Option value=\"1\">{t('option_above')}</Select.Option>\n\t\t\t<Select.Option value=\"2\">{t('option_below')}</Select.Option>\n\n\t\t\t{/* hide equal and not eqaul in case of analmoy based alert */}\n\n\t\t\t{ruleType !== 'anomaly_rule' && (\n\t\t\t\t<>\n\t\t\t\t\t<Select.Option value=\"3\">{t('option_equal')}</Select.Option>\n\t\t\t\t\t<Select.Option value=\"4\">{t('option_notequal')}</Select.Option>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{/* the value 5 and 6 are reserved for above or equal and below or equal */}\n\t\t\t{ruleType === 'anomaly_rule' && (\n\t\t\t\t<Select.Option value=\"7\">{t('option_above_below')}</Select.Option>\n\t\t\t)}\n\t\t</InlineSelect>\n\t);\n\n\tconst renderMatchOpts = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={defaultMatchType}\n\t\t\tstyle={{ minWidth: '130px' }}\n\t\t\tvalue={alertDef.condition?.matchType}\n\t\t\tonChange={(value: string | unknown): void => handleMatchOptChange(value)}\n\t\t>\n\t\t\t<Select.Option value=\"1\">{t('option_atleastonce')}</Select.Option>\n\t\t\t<Select.Option value=\"2\">{t('option_allthetimes')}</Select.Option>\n\n\t\t\t{ruleType !== 'anomaly_rule' && (\n\t\t\t\t<>\n\t\t\t\t\t<Select.Option value=\"3\">{t('option_onaverage')}</Select.Option>\n\t\t\t\t\t<Select.Option value=\"4\">{t('option_intotal')}</Select.Option>\n\t\t\t\t\t<Select.Option value=\"5\">{t('option_last')}</Select.Option>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</InlineSelect>\n\t);\n\n\tconst onChangeEvalWindow = (value: string | unknown): void => {\n\t\tconst ew = (value as string) || alertDef.evalWindow;\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tevalWindow: ew,\n\t\t});\n\t};\n\n\tconst onChangeAlgorithm = (value: string | unknown): void => {\n\t\tconst alg = (value as string) || alertDef.condition.algorithm;\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tcondition: {\n\t\t\t\t...alertDef.condition,\n\t\t\t\talgorithm: alg,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst onChangeSeasonality = (value: string | unknown): void => {\n\t\tconst seasonality = (value as string) || alertDef.condition.seasonality;\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tcondition: {\n\t\t\t\t...alertDef.condition,\n\t\t\t\tseasonality,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst onChangeDeviation = (value: number): void => {\n\t\tconst target = value || alertDef.condition.target || 3;\n\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tcondition: { ...alertDef.condition, target: Number(target) },\n\t\t});\n\t};\n\n\tconst renderEvalWindows = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={defaultEvalWindow}\n\t\t\tstyle={{ minWidth: '120px' }}\n\t\t\tvalue={alertDef.evalWindow}\n\t\t\tonChange={onChangeEvalWindow}\n\t\t>\n\t\t\t<Select.Option value=\"5m0s\">{t('option_5min')}</Select.Option>\n\t\t\t<Select.Option value=\"10m0s\">{t('option_10min')}</Select.Option>\n\t\t\t<Select.Option value=\"15m0s\">{t('option_15min')}</Select.Option>\n\t\t\t<Select.Option value=\"1h0m0s\">{t('option_60min')}</Select.Option>\n\t\t\t<Select.Option value=\"4h0m0s\">{t('option_4hours')}</Select.Option>\n\t\t\t<Select.Option value=\"24h0m0s\">{t('option_24hours')}</Select.Option>\n\t\t</InlineSelect>\n\t);\n\n\tconst renderPromEvalWindows = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={defaultEvalWindow}\n\t\t\tstyle={{ minWidth: '120px' }}\n\t\t\tvalue={alertDef.evalWindow}\n\t\t\tonChange={onChangeEvalWindow}\n\t\t>\n\t\t\t<Select.Option value=\"5m0s\">{t('option_5min')}</Select.Option>\n\t\t\t<Select.Option value=\"10m0s\">{t('option_10min')}</Select.Option>\n\t\t\t<Select.Option value=\"15m0s\">{t('option_15min')}</Select.Option>\n\t\t</InlineSelect>\n\t);\n\n\tconst renderAlgorithms = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={defaultAlgorithm}\n\t\t\tstyle={{ minWidth: '120px' }}\n\t\t\tvalue={alertDef.condition.algorithm}\n\t\t\tonChange={onChangeAlgorithm}\n\t\t>\n\t\t\t<Select.Option value=\"standard\">Standard</Select.Option>\n\t\t</InlineSelect>\n\t);\n\n\tconst renderDeviationOpts = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={3}\n\t\t\tstyle={{ minWidth: '120px' }}\n\t\t\tvalue={alertDef.condition.target}\n\t\t\tonChange={(value: number | unknown): void => {\n\t\t\t\tif (typeof value === 'number') {\n\t\t\t\t\tonChangeDeviation(value);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<Select.Option value={1}>1</Select.Option>\n\t\t\t<Select.Option value={2}>2</Select.Option>\n\t\t\t<Select.Option value={3}>3</Select.Option>\n\t\t\t<Select.Option value={4}>4</Select.Option>\n\t\t\t<Select.Option value={5}>5</Select.Option>\n\t\t\t<Select.Option value={6}>6</Select.Option>\n\t\t\t<Select.Option value={7}>7</Select.Option>\n\t\t</InlineSelect>\n\t);\n\n\tconst renderSeasonality = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={defaultSeasonality}\n\t\t\tstyle={{ minWidth: '120px' }}\n\t\t\tvalue={alertDef.condition.seasonality}\n\t\t\tonChange={onChangeSeasonality}\n\t\t>\n\t\t\t<Select.Option value=\"hourly\">Hourly</Select.Option>\n\t\t\t<Select.Option value=\"daily\">Daily</Select.Option>\n\t\t\t<Select.Option value=\"weekly\">Weekly</Select.Option>\n\t\t</InlineSelect>\n\t);\n\n\tconst renderThresholdRuleOpts = (): JSX.Element => (\n\t\t<Form.Item>\n\t\t\t<Typography.Text>\n\t\t\t\t{t('text_condition1')}\n\t\t\t\t<InlineSelect\n\t\t\t\t\tgetPopupContainer={popupContainer}\n\t\t\t\t\tallowClear\n\t\t\t\t\tshowSearch\n\t\t\t\t\toptions={queryOptions}\n\t\t\t\t\tplaceholder={t('selected_query_placeholder')}\n\t\t\t\t\tvalue={alertDef.condition.selectedQueryName}\n\t\t\t\t\tonChange={onChangeSelectedQueryName}\n\t\t\t\t/>\n\t\t\t\t<Typography.Text>is</Typography.Text>\n\t\t\t\t{renderCompareOps()} {t('text_condition2')} {renderMatchOpts()}{' '}\n\t\t\t\t{t('text_condition3')} {renderEvalWindows()}\n\t\t\t</Typography.Text>\n\t\t</Form.Item>\n\t);\n\n\tconst renderPromRuleOptions = (): JSX.Element => (\n\t\t<Form.Item>\n\t\t\t<Typography.Text>\n\t\t\t\t{t('text_condition1')}\n\t\t\t\t<InlineSelect\n\t\t\t\t\tgetPopupContainer={popupContainer}\n\t\t\t\t\tallowClear\n\t\t\t\t\tshowSearch\n\t\t\t\t\toptions={queryOptions}\n\t\t\t\t\tplaceholder={t('selected_query_placeholder')}\n\t\t\t\t\tvalue={alertDef.condition.selectedQueryName}\n\t\t\t\t\tonChange={onChangeSelectedQueryName}\n\t\t\t\t/>\n\t\t\t\t<Typography.Text>is</Typography.Text>\n\t\t\t\t{renderCompareOps()} {t('text_condition2')} {renderMatchOpts()}\n\t\t\t\t{t('text_condition3')} {renderPromEvalWindows()}\n\t\t\t</Typography.Text>\n\t\t</Form.Item>\n\t);\n\n\tconst onChange: InputNumberProps['onChange'] = (value): void => {\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tcondition: {\n\t\t\t\t...alertDef.condition,\n\t\t\t\top: alertDef.condition?.op || defaultCompareOp,\n\t\t\t\tmatchType: alertDef.condition?.matchType || defaultMatchType,\n\t\t\t\ttarget: Number(value) || 0,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst onChangeAlertUnit: SelectProps['onChange'] = (value) => {\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tcondition: {\n\t\t\t\t...alertDef.condition,\n\t\t\t\ttargetUnit: value as string,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst onChangeFrequency = (value: string | unknown): void => {\n\t\tconst freq = (value as string) || alertDef.frequency;\n\t\tsetAlertDef({\n\t\t\t...alertDef,\n\t\t\tfrequency: freq,\n\t\t});\n\t};\n\n\tconst renderAnomalyRuleOpts = (): JSX.Element => (\n\t\t<Form.Item>\n\t\t\t<Typography.Text className=\"rule-definition\">\n\t\t\t\t{t('text_condition1_anomaly')}\n\t\t\t\t<InlineSelect\n\t\t\t\t\tgetPopupContainer={popupContainer}\n\t\t\t\t\tallowClear\n\t\t\t\t\tshowSearch\n\t\t\t\t\toptions={queryOptions}\n\t\t\t\t\tplaceholder={t('selected_query_placeholder')}\n\t\t\t\t\tvalue={alertDef.condition.selectedQueryName}\n\t\t\t\t\tonChange={onChangeSelectedQueryName}\n\t\t\t\t/>\n\t\t\t\t{t('text_condition3')} {renderEvalWindows()}\n\t\t\t\t<Typography.Text>is</Typography.Text>\n\t\t\t\t{renderDeviationOpts()}\n\t\t\t\t<Typography.Text>deviations</Typography.Text>\n\t\t\t\t{renderCompareOps()}\n\t\t\t\t<Typography.Text>the predicted data</Typography.Text>\n\t\t\t\t{renderMatchOpts()}\n\t\t\t\tusing the {renderAlgorithms()} algorithm with {renderSeasonality()}{' '}\n\t\t\t\tseasonality\n\t\t\t</Typography.Text>\n\t\t</Form.Item>\n\t);\n\n\tconst renderFrequency = (): JSX.Element => (\n\t\t<InlineSelect\n\t\t\tgetPopupContainer={popupContainer}\n\t\t\tdefaultValue={defaultFrequency}\n\t\t\tstyle={{ minWidth: '120px' }}\n\t\t\tvalue={alertDef.frequency}\n\t\t\tonChange={onChangeFrequency}\n\t\t>\n\t\t\t<Select.Option value=\"1m0s\">{t('option_1min')}</Select.Option>\n\t\t\t<Select.Option value=\"5m0s\">{t('option_5min')}</Select.Option>\n\t\t\t<Select.Option value=\"10m0s\">{t('option_10min')}</Select.Option>\n\t\t\t<Select.Option value=\"15m0s\">{t('option_15min')}</Select.Option>\n\t\t\t<Select.Option value=\"30m0s\">{t('option_30min')}</Select.Option>\n\t\t\t<Select.Option value=\"1h0m0s\">{t('option_60min')}</Select.Option>\n\t\t\t<Select.Option value=\"3h0m0s\">{t('option_3hours')}</Select.Option>\n\t\t\t<Select.Option value=\"6h0m0s\">{t('option_6hours')}</Select.Option>\n\t\t\t<Select.Option value=\"12h0m0s\">{t('option_12hours')}</Select.Option>\n\t\t\t<Select.Option value=\"24h0m0s\">{t('option_24hours')}</Select.Option>\n\t\t</InlineSelect>\n\t);\n\n\tconst selectedCategory = getCategoryByOptionId(currentQuery?.unit || '');\n\n\tconst categorySelectOptions = getCategorySelectOptionByName(\n\t\tselectedCategory?.name,\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<StepHeading>{t('alert_form_step3')}</StepHeading>\n\t\t\t<FormContainer>\n\t\t\t\t{queryCategory === EQueryType.PROM && renderPromRuleOptions()}\n\t\t\t\t{queryCategory !== EQueryType.PROM &&\n\t\t\t\t\truleType === AlertDetectionTypes.ANOMALY_DETECTION_ALERT && (\n\t\t\t\t\t\t<>{renderAnomalyRuleOpts()}</>\n\t\t\t\t\t)}\n\n\t\t\t\t{queryCategory !== EQueryType.PROM &&\n\t\t\t\t\truleType === AlertDetectionTypes.THRESHOLD_ALERT &&\n\t\t\t\t\trenderThresholdRuleOpts()}\n\n\t\t\t\t<Space direction=\"vertical\" size=\"large\">\n\t\t\t\t\t{ruleType !== AlertDetectionTypes.ANOMALY_DETECTION_ALERT && (\n\t\t\t\t\t\t<Space direction=\"horizontal\" align=\"center\">\n\t\t\t\t\t\t\t<Form.Item noStyle name={['condition', 'target']}>\n\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\taddonBefore={t('field_threshold')}\n\t\t\t\t\t\t\t\t\tvalue={alertDef?.condition?.target}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tonWheel={(e): void => e.currentTarget.blur()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t<Form.Item noStyle>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tgetPopupContainer={popupContainer}\n\t\t\t\t\t\t\t\t\tallowClear\n\t\t\t\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\t\t\t\toptions={categorySelectOptions}\n\t\t\t\t\t\t\t\t\tplaceholder={t('field_unit')}\n\t\t\t\t\t\t\t\t\tvalue={alertDef.condition.targetUnit}\n\t\t\t\t\t\t\t\t\tonChange={onChangeAlertUnit}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t</Space>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Collapse>\n\t\t\t\t\t\t<Collapse.Panel header={t('More options')} key=\"1\">\n\t\t\t\t\t\t\t<Space direction=\"vertical\" size=\"large\">\n\t\t\t\t\t\t\t\t<VerticalLine>\n\t\t\t\t\t\t\t\t\t<Space direction=\"horizontal\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t<Typography.Text>{t('text_alert_frequency')}</Typography.Text>\n\t\t\t\t\t\t\t\t\t\t{renderFrequency()}\n\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t</VerticalLine>\n\n\t\t\t\t\t\t\t\t<VerticalLine>\n\t\t\t\t\t\t\t\t\t<Space direction=\"horizontal\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t<Form.Item noStyle name={['condition', 'alertOnAbsent']}>\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={alertDef?.condition?.alertOnAbsent}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e): void => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef.condition,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talertOnAbsent: e.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t<Typography.Text>{t('text_alert_on_absent')}</Typography.Text>\n\n\t\t\t\t\t\t\t\t\t\t<Form.Item noStyle name={['condition', 'absentFor']}>\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={alertDef?.condition?.absentFor}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value): void => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef.condition,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabsentFor: Number(value) || 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tonWheel={(e): void => e.currentTarget.blur()}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t<Typography.Text>{t('text_for')}</Typography.Text>\n\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t</VerticalLine>\n\n\t\t\t\t\t\t\t\t<VerticalLine>\n\t\t\t\t\t\t\t\t\t<Space direction=\"horizontal\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t<Form.Item noStyle name={['condition', 'requireMinPoints']}>\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={alertDef?.condition?.requireMinPoints}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e): void => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef.condition,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequireMinPoints: e.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t<Typography.Text>{t('text_require_min_points')}</Typography.Text>\n\n\t\t\t\t\t\t\t\t\t\t<Form.Item noStyle name={['condition', 'requiredNumPoints']}>\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={alertDef?.condition?.requiredNumPoints}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value): void => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAlertDef({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...alertDef.condition,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequiredNumPoints: Number(value) || 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tonWheel={(e): void => e.currentTarget.blur()}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t<Typography.Text>{t('text_num_points')}</Typography.Text>\n\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t</VerticalLine>\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t</Collapse.Panel>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Space>\n\t\t\t</FormContainer>\n\t\t</>\n\t);\n}\n\ninterface RuleOptionsProps {\n\talertDef: AlertDef;\n\tsetAlertDef: (a: AlertDef) => void;\n\tqueryCategory: EQueryType;\n\tqueryOptions: DefaultOptionType[];\n}\nexport default RuleOptions;\n","import './FormAlertRules.styles.scss';\n\nimport { ExclamationCircleOutlined, SaveOutlined } from '@ant-design/icons';\nimport { Button, FormInstance, Modal, SelectProps, Typography } from 'antd';\nimport saveAlertApi from 'api/alerts/save';\nimport testAlertApi from 'api/alerts/testAlert';\nimport logEvent from 'api/common/logEvent';\nimport { ALERTS_DATA_SOURCE_MAP } from 'constants/alerts';\nimport { FeatureKeys } from 'constants/features';\nimport { QueryParams } from 'constants/query';\nimport { PANEL_TYPES } from 'constants/queryBuilder';\nimport { REACT_QUERY_KEY } from 'constants/reactQueryKeys';\nimport ROUTES from 'constants/routes';\nimport QueryTypeTag from 'container/NewWidget/LeftContainer/QueryTypeTag';\nimport PlotTag from 'container/NewWidget/LeftContainer/WidgetGraph/PlotTag';\nimport { BuilderUnitsFilter } from 'container/QueryBuilder/filters';\nimport { useQueryBuilder } from 'hooks/queryBuilder/useQueryBuilder';\nimport { useShareBuilderUrl } from 'hooks/queryBuilder/useShareBuilderUrl';\nimport { useNotifications } from 'hooks/useNotifications';\nimport { useSafeNavigate } from 'hooks/useSafeNavigate';\nimport useUrlQuery from 'hooks/useUrlQuery';\nimport { mapQueryDataFromApi } from 'lib/newQueryBuilder/queryBuilderMappers/mapQueryDataFromApi';\nimport { mapQueryDataToApi } from 'lib/newQueryBuilder/queryBuilderMappers/mapQueryDataToApi';\nimport { isEmpty, isEqual } from 'lodash-es';\nimport { BellDot, ExternalLink } from 'lucide-react';\nimport Tabs2 from 'periscope/components/Tabs2';\nimport { useAppContext } from 'providers/App/App';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useQueryClient } from 'react-query';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { AppState } from 'store/reducers';\nimport { AlertTypes } from 'types/api/alerts/alertTypes';\nimport {\n\tAlertDef,\n\tdefaultEvalWindow,\n\tdefaultMatchType,\n} from 'types/api/alerts/def';\nimport {\n\tIBuilderQuery,\n\tQuery,\n\tQueryFunctionProps,\n} from 'types/api/queryBuilder/queryBuilderData';\nimport { EQueryType } from 'types/common/dashboard';\nimport { DataSource } from 'types/common/queryBuilder';\nimport { GlobalReducer } from 'types/reducer/globalTime';\n\nimport BasicInfo from './BasicInfo';\nimport ChartPreview from './ChartPreview';\nimport QuerySection from './QuerySection';\nimport RuleOptions from './RuleOptions';\nimport {\n\tActionButton,\n\tButtonContainer,\n\tMainFormContainer,\n\tStepContainer,\n\tStepHeading,\n} from './styles';\nimport { getSelectedQueryOptions } from './utils';\n\nexport enum AlertDetectionTypes {\n\tTHRESHOLD_ALERT = 'threshold_rule',\n\tANOMALY_DETECTION_ALERT = 'anomaly_rule',\n}\n\nconst ALERT_SETUP_GUIDE_URLS: Record<AlertTypes, string> = {\n\t[AlertTypes.METRICS_BASED_ALERT]:\n\t\t'https://Conoscense.io/docs/alerts-management/metrics-based-alerts/?utm_source=product&utm_medium=alert-creation-page',\n\t[AlertTypes.LOGS_BASED_ALERT]:\n\t\t'https://Conoscense.io/docs/alerts-management/log-based-alerts/?utm_source=product&utm_medium=alert-creation-page',\n\t[AlertTypes.TRACES_BASED_ALERT]:\n\t\t'https://Conoscense.io/docs/alerts-management/trace-based-alerts/?utm_source=product&utm_medium=alert-creation-page',\n\t[AlertTypes.EXCEPTIONS_BASED_ALERT]:\n\t\t'https://Conoscense.io/docs/alerts-management/exceptions-based-alerts/?utm_source=product&utm_medium=alert-creation-page',\n\t[AlertTypes.ANOMALY_BASED_ALERT]:\n\t\t'https://Conoscense.io/docs/alerts-management/anomaly-based-alerts/?utm_source=product&utm_medium=alert-creation-page',\n};\n\n// eslint-disable-next-line sonarjs/cognitive-complexity\nfunction FormAlertRules({\n\talertType,\n\tformInstance,\n\tinitialValue,\n\truleId,\n}: FormAlertRuleProps): JSX.Element {\n\t// init namespace for translations\n\tconst { t } = useTranslation('alerts');\n\tconst { featureFlags } = useAppContext();\n\tconst { safeNavigate } = useSafeNavigate();\n\tconst { selectedTime: globalSelectedInterval } = useSelector<\n\t\tAppState,\n\t\tGlobalReducer\n\t>((state) => state.globalTime);\n\n\tconst urlQuery = useUrlQuery();\n\tconst location = useLocation();\n\tconst queryParams = new URLSearchParams(location.search);\n\n\tconst dataSource = useMemo(\n\t\t() => urlQuery.get(QueryParams.alertType) as DataSource,\n\t\t[urlQuery],\n\t);\n\n\t// In case of alert the panel types should always be \"Graph\" only\n\tconst panelType = PANEL_TYPES.TIME_SERIES;\n\n\tconst {\n\t\tcurrentQuery,\n\t\tstagedQuery,\n\t\thandleSetQueryData,\n\t\thandleRunQuery,\n\t\thandleSetConfig,\n\t\tredirectWithQueryBuilderData,\n\t} = useQueryBuilder();\n\n\tuseEffect(() => {\n\t\thandleSetConfig(panelType || PANEL_TYPES.TIME_SERIES, dataSource);\n\t}, [handleSetConfig, dataSource, panelType]);\n\n\t// use query client\n\tconst ruleCache = useQueryClient();\n\n\tconst isNewRule = !ruleId || isEmpty(ruleId);\n\n\tconst [loading, setLoading] = useState(false);\n\tconst [queryStatus, setQueryStatus] = useState<string>('');\n\n\t// alertDef holds the form values to be posted\n\tconst [alertDef, setAlertDef] = useState<AlertDef>(initialValue);\n\tconst [yAxisUnit, setYAxisUnit] = useState<string>(currentQuery.unit || '');\n\n\tconst alertTypeFromURL = urlQuery.get(QueryParams.ruleType);\n\n\tconst [detectionMethod, setDetectionMethod] = useState<string | null>(null);\n\n\tuseEffect(() => {\n\t\tif (!isEqual(currentQuery.unit, yAxisUnit)) {\n\t\t\tsetYAxisUnit(currentQuery.unit || '');\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [currentQuery.unit]);\n\n\t// initQuery contains initial query when component was mounted\n\tconst initQuery = useMemo(() => initialValue.condition.compositeQuery, [\n\t\tinitialValue,\n\t]);\n\n\tconst queryOptions = useMemo(() => {\n\t\tconst queryConfig: Record<EQueryType, () => SelectProps['options']> = {\n\t\t\t[EQueryType.QUERY_BUILDER]: () => [\n\t\t\t\t...(getSelectedQueryOptions(currentQuery.builder.queryData) || []),\n\t\t\t\t...(getSelectedQueryOptions(currentQuery.builder.queryFormulas) || []),\n\t\t\t],\n\t\t\t[EQueryType.PROM]: () => getSelectedQueryOptions(currentQuery.promql),\n\t\t\t[EQueryType.CLICKHOUSE]: () =>\n\t\t\t\tgetSelectedQueryOptions(currentQuery.clickhouse_sql),\n\t\t};\n\n\t\treturn queryConfig[currentQuery.queryType]?.() || [];\n\t}, [currentQuery]);\n\n\tconst sq = useMemo(() => mapQueryDataFromApi(initQuery), [initQuery]);\n\n\tuseShareBuilderUrl(sq);\n\n\tconst handleDetectionMethodChange = (value: string): void => {\n\t\tsetAlertDef((def) => ({\n\t\t\t...def,\n\t\t\truleType: value,\n\t\t}));\n\n\t\tlogEvent(`Alert: Detection method changed`, {\n\t\t\tdetectionMethod: value,\n\t\t});\n\n\t\tsetDetectionMethod(value);\n\t};\n\n\tconst updateFunctions = (data: IBuilderQuery): QueryFunctionProps[] => {\n\t\tconst anomalyFunction = {\n\t\t\tname: 'anomaly',\n\t\t\targs: [],\n\t\t\tnamedArgs: { z_score_threshold: alertDef.condition.target || 3 },\n\t\t};\n\t\tconst functions = data.functions || [];\n\n\t\tif (alertDef.ruleType === AlertDetectionTypes.ANOMALY_DETECTION_ALERT) {\n\t\t\t// Add anomaly if not already present\n\t\t\tif (!functions.some((func) => func.name === 'anomaly')) {\n\t\t\t\tfunctions.push(anomalyFunction);\n\t\t\t} else {\n\t\t\t\tconst anomalyFuncIndex = functions.findIndex(\n\t\t\t\t\t(func) => func.name === 'anomaly',\n\t\t\t\t);\n\n\t\t\t\tif (anomalyFuncIndex !== -1) {\n\t\t\t\t\tconst anomalyFunc = {\n\t\t\t\t\t\t...functions[anomalyFuncIndex],\n\t\t\t\t\t\tnamedArgs: { z_score_threshold: alertDef.condition.target || 3 },\n\t\t\t\t\t};\n\t\t\t\t\tfunctions.splice(anomalyFuncIndex, 1);\n\t\t\t\t\tfunctions.push(anomalyFunc);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Remove anomaly if present\n\t\t\tconst index = functions.findIndex((func) => func.name === 'anomaly');\n\t\t\tif (index !== -1) {\n\t\t\t\tfunctions.splice(index, 1);\n\t\t\t}\n\t\t}\n\n\t\treturn functions;\n\t};\n\n\tuseEffect(() => {\n\t\tconst ruleType =\n\t\t\tdetectionMethod === AlertDetectionTypes.ANOMALY_DETECTION_ALERT\n\t\t\t\t? AlertDetectionTypes.ANOMALY_DETECTION_ALERT\n\t\t\t\t: AlertDetectionTypes.THRESHOLD_ALERT;\n\n\t\tqueryParams.set(QueryParams.ruleType, ruleType);\n\n\t\tconst generatedUrl = `${location.pathname}?${queryParams.toString()}`;\n\n\t\tsafeNavigate(generatedUrl);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [detectionMethod]);\n\n\tconst updateFunctionsBasedOnAlertType = (): void => {\n\t\tfor (let index = 0; index < currentQuery.builder.queryData.length; index++) {\n\t\t\tconst queryData = currentQuery.builder.queryData[index];\n\n\t\t\tconst updatedFunctions = updateFunctions(queryData);\n\t\t\tqueryData.functions = updatedFunctions;\n\t\t\thandleSetQueryData(index, queryData);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tupdateFunctionsBasedOnAlertType();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [\n\t\tdetectionMethod,\n\t\talertDef.condition.target,\n\t\tcurrentQuery.builder.queryData.length,\n\t]);\n\n\tuseEffect(() => {\n\t\tconst broadcastToSpecificChannels =\n\t\t\t(initialValue &&\n\t\t\t\tinitialValue.preferredChannels &&\n\t\t\t\tinitialValue.preferredChannels.length > 0) ||\n\t\t\tisNewRule;\n\n\t\tlet ruleType = AlertDetectionTypes.THRESHOLD_ALERT;\n\n\t\tif (initialValue.ruleType) {\n\t\t\truleType = initialValue.ruleType as AlertDetectionTypes;\n\t\t} else if (alertTypeFromURL === AlertDetectionTypes.ANOMALY_DETECTION_ALERT) {\n\t\t\truleType = AlertDetectionTypes.ANOMALY_DETECTION_ALERT;\n\t\t}\n\n\t\tsetAlertDef({\n\t\t\t...initialValue,\n\t\t\tbroadcastToAll: !broadcastToSpecificChannels,\n\t\t\truleType,\n\t\t});\n\n\t\tsetDetectionMethod(ruleType);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [initialValue, isNewRule]);\n\n\tuseEffect(() => {\n\t\t// Set selectedQueryName based on the length of queryOptions\n\t\tconst selectedQueryName = alertDef?.condition?.selectedQueryName;\n\t\tif (\n\t\t\t!selectedQueryName ||\n\t\t\t!queryOptions.some((option) => option.value === selectedQueryName)\n\t\t) {\n\t\t\tsetAlertDef((def) => ({\n\t\t\t\t...def,\n\t\t\t\tcondition: {\n\t\t\t\t\t...def.condition,\n\t\t\t\t\tselectedQueryName:\n\t\t\t\t\t\tqueryOptions.length > 0 ? String(queryOptions[0].value) : undefined,\n\t\t\t\t},\n\t\t\t}));\n\t\t}\n\t}, [alertDef, currentQuery?.queryType, queryOptions]);\n\n\tconst onCancelHandler = useCallback(() => {\n\t\turlQuery.delete(QueryParams.compositeQuery);\n\t\turlQuery.delete(QueryParams.panelTypes);\n\t\turlQuery.delete(QueryParams.ruleId);\n\t\turlQuery.delete(QueryParams.relativeTime);\n\t\tsafeNavigate(`${ROUTES.LIST_ALL_ALERT}?${urlQuery.toString()}`);\n\t}, [safeNavigate, urlQuery]);\n\n\t// onQueryCategoryChange handles changes to query category\n\t// in state as well as sets additional defaults\n\tconst onQueryCategoryChange = (val: EQueryType): void => {\n\t\tconst element = document.getElementById('top');\n\t\tif (element) {\n\t\t\telement.scrollIntoView({ behavior: 'smooth' });\n\t\t}\n\t\tif (val === EQueryType.PROM) {\n\t\t\tsetAlertDef({\n\t\t\t\t...alertDef,\n\t\t\t\tcondition: {\n\t\t\t\t\t...alertDef.condition,\n\t\t\t\t\tmatchType: defaultMatchType,\n\t\t\t\t},\n\t\t\t\tevalWindow: defaultEvalWindow,\n\t\t\t});\n\t\t}\n\t\tconst query: Query = { ...currentQuery, queryType: val };\n\n\t\t// update step interval is removed from here as if the user enters\n\t\t// any value we will use that rather than auto update\n\t\tredirectWithQueryBuilderData(query);\n\t};\n\tconst { notifications } = useNotifications();\n\n\tconst validatePromParams = useCallback((): boolean => {\n\t\tlet retval = true;\n\t\tif (currentQuery.queryType !== EQueryType.PROM) return retval;\n\n\t\tif (!currentQuery.promql || currentQuery.promql.length === 0) {\n\t\t\tnotifications.error({\n\t\t\t\tmessage: 'Error',\n\t\t\t\tdescription: t('promql_required'),\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\n\t\tcurrentQuery.promql.forEach((item) => {\n\t\t\tif (item.query === '') {\n\t\t\t\tnotifications.error({\n\t\t\t\t\tmessage: 'Error',\n\t\t\t\t\tdescription: t('promql_required'),\n\t\t\t\t});\n\t\t\t\tretval = false;\n\t\t\t}\n\t\t});\n\n\t\treturn retval;\n\t}, [t, currentQuery, notifications]);\n\n\tconst validateChQueryParams = useCallback((): boolean => {\n\t\tlet retval = true;\n\t\tif (currentQuery.queryType !== EQueryType.CLICKHOUSE) return retval;\n\n\t\tif (\n\t\t\t!currentQuery.clickhouse_sql ||\n\t\t\tcurrentQuery.clickhouse_sql.length === 0\n\t\t) {\n\t\t\tnotifications.error({\n\t\t\t\tmessage: 'Error',\n\t\t\t\tdescription: t('chquery_required'),\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\n\t\tcurrentQuery.clickhouse_sql.forEach((item) => {\n\t\t\tif (item.query === '') {\n\t\t\t\tnotifications.error({\n\t\t\t\t\tmessage: 'Error',\n\t\t\t\t\tdescription: t('chquery_required'),\n\t\t\t\t});\n\t\t\t\tretval = false;\n\t\t\t}\n\t\t});\n\n\t\treturn retval;\n\t}, [t, currentQuery, notifications]);\n\n\tconst validateQBParams = useCallback((): boolean => {\n\t\tif (currentQuery.queryType !== EQueryType.QUERY_BUILDER) return true;\n\n\t\tif (\n\t\t\t!currentQuery.builder.queryData ||\n\t\t\tcurrentQuery.builder.queryData?.length === 0\n\t\t) {\n\t\t\tnotifications.error({\n\t\t\t\tmessage: 'Error',\n\t\t\t\tdescription: t('condition_required'),\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\n\t\tif (\n\t\t\talertDef.ruleType !== AlertDetectionTypes.ANOMALY_DETECTION_ALERT &&\n\t\t\talertDef.condition?.target !== 0 &&\n\t\t\t!alertDef.condition?.target\n\t\t) {\n\t\t\tnotifications.error({\n\t\t\t\tmessage: 'Error',\n\t\t\t\tdescription: t('target_missing'),\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}, [t, alertDef, currentQuery, notifications]);\n\n\tconst isFormValid = useCallback((): boolean => {\n\t\tif (!alertDef.alert || alertDef.alert === '') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!validatePromParams()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!validateChQueryParams()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn validateQBParams();\n\t}, [validateQBParams, validateChQueryParams, alertDef, validatePromParams]);\n\n\tconst preparePostData = (): AlertDef => {\n\t\tconst postableAlert: AlertDef = {\n\t\t\t...alertDef,\n\t\t\tpreferredChannels: alertDef.broadcastToAll ? [] : alertDef.preferredChannels,\n\t\t\talertType:\n\t\t\t\talertType === AlertTypes.ANOMALY_BASED_ALERT\n\t\t\t\t\t? AlertTypes.METRICS_BASED_ALERT\n\t\t\t\t\t: alertType,\n\t\t\tsource: window?.location.toString(),\n\t\t\truleType:\n\t\t\t\tcurrentQuery.queryType === EQueryType.PROM\n\t\t\t\t\t? 'promql_rule'\n\t\t\t\t\t: alertDef.ruleType,\n\t\t\tcondition: {\n\t\t\t\t...alertDef.condition,\n\t\t\t\tcompositeQuery: {\n\t\t\t\t\tbuilderQueries: {\n\t\t\t\t\t\t...mapQueryDataToApi(currentQuery.builder.queryData, 'queryName').data,\n\t\t\t\t\t\t...mapQueryDataToApi(currentQuery.builder.queryFormulas, 'queryName')\n\t\t\t\t\t\t\t.data,\n\t\t\t\t\t},\n\t\t\t\t\tpromQueries: mapQueryDataToApi(currentQuery.promql, 'name').data,\n\t\t\t\t\tchQueries: mapQueryDataToApi(currentQuery.clickhouse_sql, 'name').data,\n\t\t\t\t\tqueryType: currentQuery.queryType,\n\t\t\t\t\tpanelType: panelType || initQuery.panelType,\n\t\t\t\t\tunit: currentQuery.unit,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tif (alertDef.ruleType === AlertDetectionTypes.ANOMALY_DETECTION_ALERT) {\n\t\t\tpostableAlert.condition.algorithm = alertDef.condition.algorithm;\n\t\t\tpostableAlert.condition.seasonality = alertDef.condition.seasonality;\n\t\t}\n\n\t\treturn postableAlert;\n\t};\n\n\tconst memoizedPreparePostData = useCallback(preparePostData, [\n\t\tcurrentQuery,\n\t\talertDef,\n\t\talertType,\n\t\tinitQuery,\n\t\tpanelType,\n\t]);\n\n\tconst saveRule = useCallback(async () => {\n\t\tif (!isFormValid()) {\n\t\t\treturn;\n\t\t}\n\t\tconst postableAlert = memoizedPreparePostData();\n\t\tsetLoading(true);\n\n\t\tlet logData = {\n\t\t\tstatus: 'error',\n\t\t\tstatusMessage: t('unexpected_error'),\n\t\t};\n\n\t\ttry {\n\t\t\tconst apiReq =\n\t\t\t\truleId && !isEmpty(ruleId)\n\t\t\t\t\t? { data: postableAlert, id: ruleId }\n\t\t\t\t\t: { data: postableAlert };\n\n\t\t\tconst response = await saveAlertApi(apiReq);\n\n\t\t\tif (response.statusCode === 200) {\n\t\t\t\tlogData = {\n\t\t\t\t\tstatus: 'success',\n\t\t\t\t\tstatusMessage:\n\t\t\t\t\t\t!ruleId || isEmpty(ruleId) ? t('rule_created') : t('rule_edited'),\n\t\t\t\t};\n\n\t\t\t\tnotifications.success({\n\t\t\t\t\tmessage: 'Success',\n\t\t\t\t\tdescription: logData.statusMessage,\n\t\t\t\t});\n\n\t\t\t\t// invalidate rule in cache\n\t\t\t\truleCache.invalidateQueries([\n\t\t\t\t\tREACT_QUERY_KEY.ALERT_RULE_DETAILS,\n\t\t\t\t\t`${ruleId}`,\n\t\t\t\t]);\n\n\t\t\t\t// eslint-disable-next-line sonarjs/no-identical-functions\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\turlQuery.delete(QueryParams.compositeQuery);\n\t\t\t\t\turlQuery.delete(QueryParams.panelTypes);\n\t\t\t\t\turlQuery.delete(QueryParams.ruleId);\n\t\t\t\t\turlQuery.delete(QueryParams.relativeTime);\n\t\t\t\t\tsafeNavigate(`${ROUTES.LIST_ALL_ALERT}?${urlQuery.toString()}`);\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\tlogData = {\n\t\t\t\t\tstatus: 'error',\n\t\t\t\t\tstatusMessage: response.error || t('unexpected_error'),\n\t\t\t\t};\n\n\t\t\t\tnotifications.error({\n\t\t\t\t\tmessage: 'Error',\n\t\t\t\t\tdescription: logData.statusMessage,\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlogData = {\n\t\t\t\tstatus: 'error',\n\t\t\t\tstatusMessage: t('unexpected_error'),\n\t\t\t};\n\n\t\t\tnotifications.error({\n\t\t\t\tmessage: 'Error',\n\t\t\t\tdescription: logData.statusMessage,\n\t\t\t});\n\t\t}\n\n\t\tsetLoading(false);\n\n\t\tlogEvent('Alert: Save alert', {\n\t\t\t...logData,\n\t\t\tdataSource: ALERTS_DATA_SOURCE_MAP[postableAlert?.alertType as AlertTypes],\n\t\t\tchannelNames: postableAlert?.preferredChannels,\n\t\t\tbroadcastToAll: postableAlert?.broadcastToAll,\n\t\t\tisNewRule: !ruleId || isEmpty(ruleId),\n\t\t\truleId,\n\t\t\tqueryType: currentQuery.queryType,\n\t\t\talertId: postableAlert?.id,\n\t\t\talertName: postableAlert?.alert,\n\t\t\truleType: postableAlert?.ruleType,\n\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [\n\t\tisFormValid,\n\t\tmemoizedPreparePostData,\n\t\truleId,\n\t\tnotifications,\n\t\tt,\n\t\truleCache,\n\t\turlQuery,\n\t]);\n\n\tconst onSaveHandler = useCallback(async () => {\n\t\tconst content = (\n\t\t\t<Typography.Text>\n\t\t\t\t{' '}\n\t\t\t\t{t('confirm_save_content_part1')}{' '}\n\t\t\t\t<QueryTypeTag queryType={currentQuery.queryType} />{' '}\n\t\t\t\t{t('confirm_save_content_part2')}\n\t\t\t</Typography.Text>\n\t\t);\n\t\tModal.confirm({\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\ttitle: t('confirm_save_title'),\n\t\t\tcentered: true,\n\t\t\tcontent,\n\t\t\tonOk: saveRule,\n\t\t\tclassName: 'create-alert-modal',\n\t\t});\n\t}, [t, saveRule, currentQuery]);\n\n\tconst onTestRuleHandler = useCallback(async () => {\n\t\tif (!isFormValid()) {\n\t\t\treturn;\n\t\t}\n\t\tconst postableAlert = memoizedPreparePostData();\n\n\t\tlet statusResponse = { status: 'failed', message: '' };\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst response = await testAlertApi({ data: postableAlert });\n\n\t\t\tif (response.statusCode === 200) {\n\t\t\t\tconst { payload } = response;\n\t\t\t\tif (payload?.alertCount === 0) {\n\t\t\t\t\tnotifications.error({\n\t\t\t\t\t\tmessage: 'Error',\n\t\t\t\t\t\tdescription: t('no_alerts_found'),\n\t\t\t\t\t});\n\t\t\t\t\tstatusResponse = { status: 'failed', message: t('no_alerts_found') };\n\t\t\t\t} else {\n\t\t\t\t\tnotifications.success({\n\t\t\t\t\t\tmessage: 'Success',\n\t\t\t\t\t\tdescription: t('rule_test_fired'),\n\t\t\t\t\t});\n\t\t\t\t\tstatusResponse = { status: 'success', message: t('rule_test_fired') };\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnotifications.error({\n\t\t\t\t\tmessage: 'Error',\n\t\t\t\t\tdescription: response.error || t('unexpected_error'),\n\t\t\t\t});\n\t\t\t\tstatusResponse = {\n\t\t\t\t\tstatus: 'failed',\n\t\t\t\t\tmessage: response.error || t('unexpected_error'),\n\t\t\t\t};\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnotifications.error({\n\t\t\t\tmessage: 'Error',\n\t\t\t\tdescription: t('unexpected_error'),\n\t\t\t});\n\t\t\tstatusResponse = { status: 'failed', message: t('unexpected_error') };\n\t\t}\n\t\tsetLoading(false);\n\t\tlogEvent('Alert: Test notification', {\n\t\t\tdataSource: ALERTS_DATA_SOURCE_MAP[alertDef?.alertType as AlertTypes],\n\t\t\tchannelNames: postableAlert?.preferredChannels,\n\t\t\tbroadcastToAll: postableAlert?.broadcastToAll,\n\t\t\tisNewRule: !ruleId || isEmpty(ruleId),\n\t\t\truleId,\n\t\t\tqueryType: currentQuery.queryType,\n\t\t\tstatus: statusResponse.status,\n\t\t\tstatusMessage: statusResponse.message,\n\t\t\truleType: postableAlert.ruleType,\n\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [t, isFormValid, memoizedPreparePostData, notifications]);\n\n\tconst renderBasicInfo = (): JSX.Element => (\n\t\t<BasicInfo\n\t\t\talertDef={alertDef}\n\t\t\tsetAlertDef={setAlertDef}\n\t\t\tisNewRule={isNewRule}\n\t\t/>\n\t);\n\n\tconst renderQBChartPreview = (): JSX.Element => (\n\t\t<ChartPreview\n\t\t\theadline={\n\t\t\t\t<PlotTag\n\t\t\t\t\tqueryType={currentQuery.queryType}\n\t\t\t\t\tpanelType={panelType || PANEL_TYPES.TIME_SERIES}\n\t\t\t\t/>\n\t\t\t}\n\t\t\tname=\"\"\n\t\t\tquery={stagedQuery}\n\t\t\tselectedInterval={globalSelectedInterval}\n\t\t\talertDef={alertDef}\n\t\t\tyAxisUnit={yAxisUnit || ''}\n\t\t\tgraphType={panelType || PANEL_TYPES.TIME_SERIES}\n\t\t\tsetQueryStatus={setQueryStatus}\n\t\t/>\n\t);\n\n\tconst renderPromAndChQueryChartPreview = (): JSX.Element => (\n\t\t<ChartPreview\n\t\t\theadline={\n\t\t\t\t<PlotTag\n\t\t\t\t\tqueryType={currentQuery.queryType}\n\t\t\t\t\tpanelType={panelType || PANEL_TYPES.TIME_SERIES}\n\t\t\t\t/>\n\t\t\t}\n\t\t\tname=\"Chart Preview\"\n\t\t\tquery={stagedQuery}\n\t\t\talertDef={alertDef}\n\t\t\tselectedInterval={globalSelectedInterval}\n\t\t\tyAxisUnit={yAxisUnit || ''}\n\t\t\tgraphType={panelType || PANEL_TYPES.TIME_SERIES}\n\t\t\tsetQueryStatus={setQueryStatus}\n\t\t/>\n\t);\n\n\tconst isAlertNameMissing = !formInstance.getFieldValue('alert');\n\n\tconst onUnitChangeHandler = (value: string): void => {\n\t\tsetYAxisUnit(value);\n\t\t// reset target unit\n\t\tsetAlertDef((def) => ({\n\t\t\t...def,\n\t\t\tcondition: {\n\t\t\t\t...def.condition,\n\t\t\t\ttargetUnit: undefined,\n\t\t\t},\n\t\t}));\n\t};\n\n\tconst isChannelConfigurationValid =\n\t\talertDef?.broadcastToAll ||\n\t\t(alertDef.preferredChannels && alertDef.preferredChannels.length > 0);\n\n\tconst isRuleCreated = !ruleId || isEmpty(ruleId);\n\n\tfunction handleRedirection(option: AlertTypes): void {\n\t\tlet url;\n\t\tif (\n\t\t\toption === AlertTypes.METRICS_BASED_ALERT &&\n\t\t\talertTypeFromURL === AlertDetectionTypes.ANOMALY_DETECTION_ALERT\n\t\t) {\n\t\t\turl = ALERT_SETUP_GUIDE_URLS[AlertTypes.ANOMALY_BASED_ALERT];\n\t\t} else {\n\t\t\turl = ALERT_SETUP_GUIDE_URLS[option];\n\t\t}\n\n\t\tif (url) {\n\t\t\tlogEvent('Alert: Check example alert clicked', {\n\t\t\t\tdataSource: ALERTS_DATA_SOURCE_MAP[alertDef?.alertType as AlertTypes],\n\t\t\t\tisNewRule: !ruleId || isEmpty(ruleId),\n\t\t\t\truleId,\n\t\t\t\tqueryType: currentQuery.queryType,\n\t\t\t\tlink: url,\n\t\t\t});\n\t\t\twindow.open(url, '_blank');\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (!isRuleCreated) {\n\t\t\tlogEvent('Alert: Edit page visited', {\n\t\t\t\truleId,\n\t\t\t\tdataSource: ALERTS_DATA_SOURCE_MAP[alertType as AlertTypes],\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst tabs = [\n\t\t{\n\t\t\tvalue: AlertDetectionTypes.THRESHOLD_ALERT,\n\t\t\tlabel: 'Threshold Alert',\n\t\t},\n\t\t{\n\t\t\tvalue: AlertDetectionTypes.ANOMALY_DETECTION_ALERT,\n\t\t\tlabel: 'Anomaly Detection Alert',\n\t\t\tisBeta: true,\n\t\t},\n\t];\n\n\tconst isAnomalyDetectionEnabled =\n\t\tfeatureFlags?.find((flag) => flag.name === FeatureKeys.ANOMALY_DETECTION)\n\t\t\t?.active || false;\n\n\treturn (\n\t\t<>\n\t\t\t{Element}\n\n\t\t\t<div id=\"top\">\n\t\t\t\t<div className=\"overview-header\">\n\t\t\t\t\t<div className=\"alert-type-container\">\n\t\t\t\t\t\t{isNewRule && (\n\t\t\t\t\t\t\t<Typography.Title level={5} className=\"alert-type-title\">\n\t\t\t\t\t\t\t\t<BellDot size={14} />\n\n\t\t\t\t\t\t\t\t{alertDef.alertType === AlertTypes.ANOMALY_BASED_ALERT &&\n\t\t\t\t\t\t\t\t\t'Anomaly Detection Alert'}\n\t\t\t\t\t\t\t\t{alertDef.alertType === AlertTypes.METRICS_BASED_ALERT &&\n\t\t\t\t\t\t\t\t\t'Metrics Based Alert'}\n\t\t\t\t\t\t\t\t{alertDef.alertType === AlertTypes.LOGS_BASED_ALERT &&\n\t\t\t\t\t\t\t\t\t'Logs Based Alert'}\n\t\t\t\t\t\t\t\t{alertDef.alertType === AlertTypes.TRACES_BASED_ALERT &&\n\t\t\t\t\t\t\t\t\t'Traces Based Alert'}\n\t\t\t\t\t\t\t\t{alertDef.alertType === AlertTypes.EXCEPTIONS_BASED_ALERT &&\n\t\t\t\t\t\t\t\t\t'Exceptions Based Alert'}\n\t\t\t\t\t\t\t</Typography.Title>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"periscope-btn\"\n\t\t\t\t\t\tonClick={(): void => handleRedirection(alertDef.alertType as AlertTypes)}\n\t\t\t\t\t\ticon={<ExternalLink size={14} />}\n\t\t\t\t\t>\n\t\t\t\t\t\tAlert Setup Guide\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n\t\t\t\t<MainFormContainer\n\t\t\t\t\tinitialValues={initialValue}\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tform={formInstance}\n\t\t\t\t\tclassName=\"main-container\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"chart-preview-container\">\n\t\t\t\t\t\t{currentQuery.queryType === EQueryType.QUERY_BUILDER &&\n\t\t\t\t\t\t\trenderQBChartPreview()}\n\t\t\t\t\t\t{currentQuery.queryType === EQueryType.PROM &&\n\t\t\t\t\t\t\trenderPromAndChQueryChartPreview()}\n\t\t\t\t\t\t{currentQuery.queryType === EQueryType.CLICKHOUSE &&\n\t\t\t\t\t\t\trenderPromAndChQueryChartPreview()}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<StepContainer>\n\t\t\t\t\t\t<BuilderUnitsFilter\n\t\t\t\t\t\t\tonChange={onUnitChangeHandler}\n\t\t\t\t\t\t\tyAxisUnit={yAxisUnit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StepContainer>\n\n\t\t\t\t\t<div className=\"steps-container\">\n\t\t\t\t\t\t{alertDef.alertType === AlertTypes.METRICS_BASED_ALERT &&\n\t\t\t\t\t\t\tisAnomalyDetectionEnabled && (\n\t\t\t\t\t\t\t\t<div className=\"detection-method-container\">\n\t\t\t\t\t\t\t\t\t<StepHeading> {t('alert_form_step1')}</StepHeading>\n\n\t\t\t\t\t\t\t\t\t<Tabs2\n\t\t\t\t\t\t\t\t\t\tkey={detectionMethod}\n\t\t\t\t\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\t\t\t\t\tinitialSelectedTab={detectionMethod || ''}\n\t\t\t\t\t\t\t\t\t\tonSelectTab={handleDetectionMethodChange}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"detection-method-description\">\n\t\t\t\t\t\t\t\t\t\t{detectionMethod === AlertDetectionTypes.ANOMALY_DETECTION_ALERT\n\t\t\t\t\t\t\t\t\t\t\t? t('anomaly_detection_alert_desc')\n\t\t\t\t\t\t\t\t\t\t\t: t('threshold_alert_desc')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<QuerySection\n\t\t\t\t\t\t\tqueryCategory={currentQuery.queryType}\n\t\t\t\t\t\t\tsetQueryCategory={onQueryCategoryChange}\n\t\t\t\t\t\t\talertType={alertType || AlertTypes.METRICS_BASED_ALERT}\n\t\t\t\t\t\t\trunQuery={(): void => handleRunQuery(true)}\n\t\t\t\t\t\t\talertDef={alertDef}\n\t\t\t\t\t\t\tpanelType={panelType || PANEL_TYPES.TIME_SERIES}\n\t\t\t\t\t\t\tkey={currentQuery.queryType}\n\t\t\t\t\t\t\truleId={ruleId}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<RuleOptions\n\t\t\t\t\t\t\tqueryCategory={currentQuery.queryType}\n\t\t\t\t\t\t\talertDef={alertDef}\n\t\t\t\t\t\t\tsetAlertDef={setAlertDef}\n\t\t\t\t\t\t\tqueryOptions={queryOptions}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{renderBasicInfo()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ButtonContainer>\n\t\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t\tloading={loading || false}\n\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\tonClick={onSaveHandler}\n\t\t\t\t\t\t\ticon={<SaveOutlined />}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tisAlertNameMissing ||\n\t\t\t\t\t\t\t\t!isChannelConfigurationValid ||\n\t\t\t\t\t\t\t\tqueryStatus === 'error'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isNewRule ? t('button_createrule') : t('button_savechanges')}\n\t\t\t\t\t\t</ActionButton>\n\n\t\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t\tloading={loading || false}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tisAlertNameMissing ||\n\t\t\t\t\t\t\t\t!isChannelConfigurationValid ||\n\t\t\t\t\t\t\t\tqueryStatus === 'error'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttype=\"default\"\n\t\t\t\t\t\t\tonClick={onTestRuleHandler}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{t('button_testrule')}\n\t\t\t\t\t\t</ActionButton>\n\t\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t\tdisabled={loading || false}\n\t\t\t\t\t\t\ttype=\"default\"\n\t\t\t\t\t\t\tonClick={onCancelHandler}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(!ruleId || isEmpty(ruleId)) && t('button_cancelchanges')}\n\t\t\t\t\t\t\t{ruleId && !isEmpty(ruleId) && t('button_discard')}\n\t\t\t\t\t\t</ActionButton>\n\t\t\t\t\t</ButtonContainer>\n\t\t\t\t</MainFormContainer>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nFormAlertRules.defaultProps = {\n\talertType: AlertTypes.METRICS_BASED_ALERT,\n};\n\ninterface FormAlertRuleProps {\n\talertType?: AlertTypes;\n\tformInstance: FormInstance;\n\tinitialValue: AlertDef;\n\truleId: string;\n}\n\nexport default FormAlertRules;\n","import { createMachine } from 'xstate';\n\nexport const ResourceAttributesFilterMachine =\n\t/** @xstate-layout N4IgpgJg5mDOIC5QBECGsAWAjA9qgThAAQDKYBAxhkQIIB2xAYgJYA2ALmPgHQAqqUANJgAngGIAcgFEAGr0SgADjljN2zHHQUgAHogAcAFgAM3AOz6ATAEYAzJdsA2Y4cOWAnABoQIxAFpDR2tuQ319AFYTcKdbFycAX3jvNExcAmIySmp6JjZOHn4hUTFNACFWAFd8bWVVdU1tPQQzY1MXY2tDdzNHM3dHd0NvXwR7biMTa313S0i+63DE5PRsPEJScnwqWgYiFg4uPgFhcQAlKRIpeSQQWrUNLRumx3Czbg8TR0sbS31jfUcw38fW47gBHmm4XCVms3SWIBSq3SGyyO1yBx4AHlFFxUOwcPhJLJrkoVPcGk9ENYFuF3i5YR0wtEHECEAEgiEmV8zH1DLYzHZ4Yi0utMltsrt9vluNjcfjCWVKtUbnd6o9QE1rMYBtxbGFvsZ3NrZj1WdYOfotUZLX0XEFHEKViKMpttjk9nlDrL8HiCWJzpcSbcyWrGoh3NCQj0zK53P1ph1WeFLLqnJZ2s5vmZLA6kginWsXaj3VLDoUAGqoSpgEp0cpVGohh5hhDWDy0sz8zruakzamWVm-Qyg362V5-AZOayO1KFlHitEejFHKCV6v+i5XRt1ZuU1s52zjNOOaZfdOWIY+RDZ0Hc6ZmKEXqyLPPCudit2Sz08ACSEFYNbSHI27kuquiIOEjiONwjJgrM3RWJYZisgEIJgnYPTmuEdi2OaiR5nQOAQHA2hvsiH4Sui0qFCcIGhnuLSmP0YJuJ2xjJsmKELG8XZTK0tjdHG06vgW5GupRS7St6vrKqSO4UhqVL8TBWp8o4eqdl0A5Xmy3G6gK56-B4uERDOSKiuJi6lgUAhrhUYB0buimtrEKZBDYrxaS0OZca8+ltheybOI4hivGZzrzp+VGHH+AGOQp4EIHy+ghNYnawtG4TsbYvk8QKfHGAJfQ9uF76WSW37xWBTSGJ0qXpd0vRZdEKGPqC2YeO2-zfO4+HxEAA */\n\tcreateMachine({\n\t\ttsTypes: {} as import('./Labels.machine.typegen').Typegen0,\n\t\tinitial: 'Idle',\n\t\tstates: {\n\t\t\tLabelKey: {\n\t\t\t\ton: {\n\t\t\t\t\tNEXT: {\n\t\t\t\t\t\tactions: 'onSelectLabelValue',\n\t\t\t\t\t\ttarget: 'LabelValue',\n\t\t\t\t\t},\n\t\t\t\t\tonBlur: {\n\t\t\t\t\t\tactions: 'onSelectLabelValue',\n\t\t\t\t\t\ttarget: 'LabelValue',\n\t\t\t\t\t},\n\t\t\t\t\tRESET: {\n\t\t\t\t\t\ttarget: 'Idle',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tLabelValue: {\n\t\t\t\ton: {\n\t\t\t\t\tNEXT: {\n\t\t\t\t\t\tactions: ['onValidateQuery'],\n\t\t\t\t\t},\n\t\t\t\t\tonBlur: {\n\t\t\t\t\t\tactions: ['onValidateQuery'],\n\t\t\t\t\t\t// target: 'Idle',\n\t\t\t\t\t},\n\t\t\t\t\tRESET: {\n\t\t\t\t\t\ttarget: 'Idle',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tIdle: {\n\t\t\t\ton: {\n\t\t\t\t\tNEXT: {\n\t\t\t\t\t\tactions: 'onSelectLabelKey',\n\t\t\t\t\t\tdescription: 'Enter a label key',\n\t\t\t\t\t\ttarget: 'LabelKey',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tid: 'Label Key Values',\n\t});\n","import { QueryChipContainer, QueryChipItem } from './styles';\nimport { ILabelRecord } from './types';\n\ninterface QueryChipProps {\n\tqueryData: ILabelRecord;\n\tonRemove: (id: string) => void;\n}\n\nexport default function QueryChip({\n\tqueryData,\n\tonRemove,\n}: QueryChipProps): JSX.Element {\n\tconst { key, value } = queryData;\n\treturn (\n\t\t<QueryChipContainer>\n\t\t\t<QueryChipItem\n\t\t\t\tclosable={key !== 'severity' && key !== 'description'}\n\t\t\t\tonClose={(): void => onRemove(key)}\n\t\t\t>\n\t\t\t\t{key}: {value}\n\t\t\t</QueryChipItem>\n\t\t</QueryChipContainer>\n\t);\n}\n","import {\n\tCloseCircleFilled,\n\tExclamationCircleOutlined,\n} from '@ant-design/icons';\nimport { useMachine } from '@xstate/react';\nimport { Button, Input, message, Modal } from 'antd';\nimport { useIsDarkMode } from 'hooks/useDarkMode';\nimport { map } from 'lodash-es';\nimport { ChangeEvent, useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Labels } from 'types/api/alerts/def';\nimport { v4 as uuid } from 'uuid';\n\nimport { ResourceAttributesFilterMachine } from './Labels.machine';\nimport QueryChip from './QueryChip';\nimport { QueryChipItem, SearchContainer } from './styles';\nimport { ILabelRecord } from './types';\nimport { createQuery, flattenLabels, prepareLabels } from './utils';\n\ninterface LabelSelectProps {\n\tonSetLabels: (q: Labels) => void;\n\tinitialValues: Labels | undefined;\n}\n\nfunction LabelSelect({\n\tonSetLabels,\n\tinitialValues,\n}: LabelSelectProps): JSX.Element | null {\n\tconst { t } = useTranslation('alerts');\n\tconst isDarkMode = useIsDarkMode();\n\n\tconst [currentVal, setCurrentVal] = useState('');\n\tconst [staging, setStaging] = useState<string[]>([]);\n\tconst [queries, setQueries] = useState<ILabelRecord[]>(\n\t\tinitialValues ? flattenLabels(initialValues) : [],\n\t);\n\n\tconst dispatchChanges = (updatedRecs: ILabelRecord[]): void => {\n\t\tonSetLabels(prepareLabels(updatedRecs, initialValues));\n\t\tsetQueries(updatedRecs);\n\t};\n\n\tconst [state, send] = useMachine(ResourceAttributesFilterMachine, {\n\t\tactions: {\n\t\t\tonSelectLabelKey: () => {},\n\t\t\tonSelectLabelValue: () => {\n\t\t\t\tif (currentVal !== '') {\n\t\t\t\t\tsetStaging((prevState) => [...prevState, currentVal]);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetCurrentVal('');\n\t\t\t},\n\t\t\tonValidateQuery: (): void => {\n\t\t\t\tif (currentVal === '') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst generatedQuery = createQuery([...staging, currentVal]);\n\n\t\t\t\tif (generatedQuery) {\n\t\t\t\t\tdispatchChanges([...queries, generatedQuery]);\n\t\t\t\t\tsetStaging([]);\n\t\t\t\t\tsetCurrentVal('');\n\t\t\t\t\tsend('RESET');\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t});\n\n\tconst handleFocus = (): void => {\n\t\tif (state.value === 'Idle') {\n\t\t\tsend('NEXT');\n\t\t}\n\t};\n\n\tconst handleBlur = useCallback((): void => {\n\t\tif (staging.length === 1 && staging[0] !== undefined) {\n\t\t\tsend('onBlur');\n\t\t}\n\t}, [send, staging]);\n\n\tuseEffect(() => {\n\t\thandleBlur();\n\t}, [handleBlur]);\n\n\tconst handleLabelChange = (event: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetCurrentVal(event.target?.value.replace(':', ''));\n\t};\n\n\tconst handleClose = (key: string): void => {\n\t\tdispatchChanges(queries.filter((queryData) => queryData.key !== key));\n\t};\n\n\tconst handleClearAll = (): void => {\n\t\tModal.confirm({\n\t\t\ttitle: 'Confirm',\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: t('remove_label_confirm'),\n\t\t\tonOk() {\n\t\t\t\tsend('RESET');\n\t\t\t\tdispatchChanges([]);\n\t\t\t\tsetStaging([]);\n\t\t\t\tmessage.success(t('remove_label_success'));\n\t\t\t},\n\t\t\tokText: t('button_yes'),\n\t\t\tcancelText: t('button_no'),\n\t\t});\n\t};\n\tconst renderPlaceholder = useCallback((): string => {\n\t\tif (state.value === 'LabelKey') return 'Enter a label key then press ENTER.';\n\t\tif (state.value === 'LabelValue')\n\t\t\treturn `Enter a value for label key(${staging[0]}) then press ENTER.`;\n\t\treturn t('placeholder_label_key_pair');\n\t}, [t, state, staging]);\n\treturn (\n\t\t<SearchContainer isDarkMode={isDarkMode} disabled={false}>\n\t\t\t<div style={{ display: 'inline-flex', flexWrap: 'wrap' }}>\n\t\t\t\t{queries.length > 0 &&\n\t\t\t\t\tmap(\n\t\t\t\t\t\tqueries,\n\t\t\t\t\t\t(query): JSX.Element => (\n\t\t\t\t\t\t\t<QueryChip key={query.key} queryData={query} onRemove={handleClose} />\n\t\t\t\t\t\t),\n\t\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{map(staging, (item) => (\n\t\t\t\t\t<QueryChipItem key={uuid()}>{item}</QueryChipItem>\n\t\t\t\t))}\n\t\t\t</div>\n\n\t\t\t<div style={{ display: 'flex', width: '100%' }}>\n\t\t\t\t<Input\n\t\t\t\t\tplaceholder={renderPlaceholder()}\n\t\t\t\t\tonChange={handleLabelChange}\n\t\t\t\t\tonKeyUp={(e): void => {\n\t\t\t\t\t\tif (e.key === 'Enter' || e.code === 'Enter' || e.key === ':') {\n\t\t\t\t\t\t\tsend('NEXT');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (state.value === 'Idle') {\n\t\t\t\t\t\t\tsend('NEXT');\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tbordered={false}\n\t\t\t\t\tvalue={currentVal as never}\n\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\tonFocus={handleFocus}\n\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t/>\n\n\t\t\t\t{queries.length || staging.length || currentVal ? (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClearAll}\n\t\t\t\t\t\ticon={<CloseCircleFilled />}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</SearchContainer>\n\t);\n}\n\nexport default LabelSelect;\n","import { grey } from '@ant-design/colors';\nimport { Tag } from 'antd';\nimport styled from 'styled-components';\n\ninterface SearchContainerProps {\n\tisDarkMode: boolean;\n\tdisabled: boolean;\n}\n\nexport const SearchContainer = styled.div<SearchContainerProps>`\n\tborder-radius: 4px;\n\tbackground: ${({ isDarkMode }): string => (isDarkMode ? '#000' : '#fff')};\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0.2rem;\n\tborder: 1px solid #ccc5;\n\t${({ disabled }): string => (disabled ? `cursor: not-allowed;` : '')}\n`;\n\nexport const QueryChipContainer = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 0.5rem;\n\t&:hover {\n\t\t& > * {\n\t\t\tbackground: ${grey.primary}44;\n\t\t}\n\t}\n`;\n\nexport const QueryChipItem = styled(Tag)`\n\tmargin-right: 0.1rem;\n`;\n","import { Labels } from 'types/api/alerts/def';\n\nimport { ILabelRecord } from './types';\n\nconst hiddenLabels = ['severity', 'description'];\n\nexport const createQuery = (\n\tselectedItems: Array<string | string[]> = [],\n): ILabelRecord | null => {\n\tif (selectedItems.length === 2) {\n\t\treturn {\n\t\t\tkey: selectedItems[0] as string,\n\t\t\tvalue: selectedItems[1] as string,\n\t\t};\n\t}\n\treturn null;\n};\n\nexport const flattenLabels = (labels: Labels): ILabelRecord[] => {\n\tconst recs: ILabelRecord[] = [];\n\n\tObject.keys(labels).forEach((key) => {\n\t\tif (!hiddenLabels.includes(key)) {\n\t\t\trecs.push({\n\t\t\t\tkey,\n\t\t\t\tvalue: labels[key],\n\t\t\t});\n\t\t}\n\t});\n\n\treturn recs;\n};\n\nexport const prepareLabels = (\n\trecs: ILabelRecord[],\n\talertLabels: Labels | undefined,\n): Labels => {\n\tconst labels: Labels = {};\n\n\trecs.forEach((rec) => {\n\t\tif (!hiddenLabels.includes(rec.key)) {\n\t\t\tlabels[rec.key] = rec.value;\n\t\t}\n\t});\n\tif (alertLabels) {\n\t\tObject.keys(alertLabels).forEach((key) => {\n\t\t\tif (hiddenLabels.includes(key)) {\n\t\t\t\tlabels[key] = alertLabels[key];\n\t\t\t}\n\t\t});\n\t}\n\n\treturn labels;\n};\n","import { Button, Card, Col, Form, Input, Select, Typography } from 'antd';\nimport styled from 'styled-components';\n\nconst { TextArea } = Input;\nconst { Item } = Form;\n\nexport const StyledLeftContainer = styled(Col)`\n\t&&& {\n\t\tmargin-right: 1rem;\n\t}\n`;\n\nexport const MainFormContainer = styled(Form)``;\n\nexport const ButtonContainer = styled.div`\n\t&&& {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-start;\n\t\talign-items: center;\n\t\tmargin-top: 1rem;\n\t\tmargin-bottom: 3rem;\n\t}\n`;\n\nexport const ActionButton = styled(Button)`\n\tmargin-right: 1rem;\n`;\n\nexport const QueryButton = styled(Button)`\n\t&&& {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-right: 1rem;\n\t}\n`;\n\nexport const QueryContainer = styled(Card)`\n\t&&& {\n\t\tmargin-top: 1rem;\n\t\tmin-height: 23.5%;\n\t}\n`;\n\nexport const Container = styled.div`\n\tmargin-top: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nexport const StepHeading = styled.p`\n\tmargin-top: 1rem;\n\tfont-weight: bold;\n`;\n\nexport const InlineSelect = styled(Select)`\n\tdisplay: inline-block;\n\twidth: 10% !important;\n\tmargin-left: 0.3em;\n\tmargin-right: 0.3em;\n`;\n\nexport const SeveritySelect = styled(Select)`\n\twidth: 25% !important;\n`;\n\nexport const VerticalLine = styled.div`\n\tborder-left: 2px solid #e8e8e8; /* Adjust color and thickness as desired */\n\tpadding-left: 20px; /* Adjust spacing to content as needed */\n\tmargin-left: 20px; /* Adjust margin as desired */\n\theight: 100%; /* Adjust based on your layout needs */\n`;\n\nexport const InputSmall = styled(Input)`\n\twidth: 40% !important;\n`;\n\nexport const FormContainer = styled(Card)`\n\tmargin-top: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-radius: 4px;\n\n\t.ant-card-body {\n\t\tpadding: 12px;\n\t}\n`;\n\nexport const TextareaMedium = styled(TextArea)`\n\twidth: 70%;\n`;\n\nexport const FormItemMedium = styled(Item)`\n\twidth: 70%;\n`;\n\nexport const ChannelSelectTip = styled(Typography.Text)`\n\tcolor: hsla(0, 0%, 100%, 0.3);\n`;\n\nexport const StepContainer = styled.div`\n\tmargin-top: 2rem;\n`;\n","import { SelectProps } from 'antd';\nimport { Time } from 'container/TopNav/DateTimeSelection/config';\nimport getStartEndRangeTime from 'lib/getStartEndRangeTime';\nimport getStep from 'lib/getStep';\nimport {\n\tIBuilderFormula,\n\tIBuilderQuery,\n\tIClickHouseQuery,\n\tIPromQLQuery,\n} from 'types/api/queryBuilder/queryBuilderData';\n\n// toChartInterval converts eval window to chart selection time interval\nexport const toChartInterval = (evalWindow: string | undefined): Time => {\n\tswitch (evalWindow) {\n\t\tcase '1m0s':\n\t\t\treturn '1m';\n\t\tcase '5m0s':\n\t\t\treturn '5m';\n\t\tcase '10m0s':\n\t\t\treturn '10m';\n\t\tcase '15m0s':\n\t\t\treturn '15m';\n\t\tcase '30m0s':\n\t\t\treturn '30m';\n\t\tcase '1h0m0s':\n\t\t\treturn '1h';\n\t\tcase '3h0m0s':\n\t\t\treturn '3h';\n\t\tcase '4h0m0s':\n\t\t\treturn '4h';\n\t\tcase '6h0m0s':\n\t\t\treturn '6h';\n\t\tcase '12h0m0s':\n\t\t\treturn '12h';\n\t\tcase '24h0m0s':\n\t\t\treturn '1d';\n\t\tdefault:\n\t\t\treturn '5m';\n\t}\n};\n\nexport const getUpdatedStepInterval = (evalWindow?: string): number => {\n\tconst { start, end } = getStartEndRangeTime({\n\t\ttype: 'GLOBAL_TIME',\n\t\tinterval: toChartInterval(evalWindow),\n\t});\n\treturn getStep({\n\t\tstart,\n\t\tend,\n\t\tinputFormat: 'ns',\n\t});\n};\n\nexport const getSelectedQueryOptions = (\n\tqueries: Array<\n\t\tIBuilderQuery | IBuilderFormula | IClickHouseQuery | IPromQLQuery\n\t>,\n): SelectProps['options'] =>\n\tqueries\n\t\t.filter((query) => !query.disabled)\n\t\t.map((query) => ({\n\t\t\tlabel: 'queryName' in query ? query.queryName : query.name,\n\t\t\tvalue: 'queryName' in query ? query.queryName : query.name,\n\t\t}));\n","import { ToggleGraphProps } from 'components/Graph/types';\nimport { getComponentForPanelType } from 'constants/panelTypes';\nimport { PANEL_TYPES } from 'constants/queryBuilder';\nimport { GRID_TABLE_CONFIG } from 'container/GridTableComponent/config';\nimport { FC, forwardRef, memo, useMemo } from 'react';\n\nimport { GridPanelSwitchProps, PropsTypePropsMap } from './types';\n\nconst GridPanelSwitch = forwardRef<\n\tToggleGraphProps | undefined,\n\tGridPanelSwitchProps\n>(\n\t(\n\t\t{\n\t\t\tpanelType,\n\t\t\tdata,\n\t\t\tyAxisUnit,\n\t\t\tpanelData,\n\t\t\tquery,\n\t\t\toptions,\n\t\t\tthresholds,\n\t\t\tdataSource,\n\t\t},\n\t\tref,\n\t): JSX.Element | null => {\n\t\tconst currentProps: PropsTypePropsMap = useMemo(() => {\n\t\t\tconst result: PropsTypePropsMap = {\n\t\t\t\t[PANEL_TYPES.TIME_SERIES]: {\n\t\t\t\t\tdata,\n\t\t\t\t\toptions,\n\t\t\t\t\tref,\n\t\t\t\t},\n\t\t\t\t[PANEL_TYPES.VALUE]: {\n\t\t\t\t\tdata,\n\t\t\t\t\tyAxisUnit,\n\t\t\t\t\tthresholds,\n\t\t\t\t},\n\t\t\t\t[PANEL_TYPES.TABLE]: {\n\t\t\t\t\t...GRID_TABLE_CONFIG,\n\t\t\t\t\tdata: panelData,\n\t\t\t\t\tquery,\n\t\t\t\t\tthresholds,\n\t\t\t\t\tsticky: true,\n\t\t\t\t},\n\t\t\t\t[PANEL_TYPES.LIST]: null,\n\t\t\t\t[PANEL_TYPES.PIE]: null,\n\t\t\t\t[PANEL_TYPES.TRACE]: null,\n\t\t\t\t[PANEL_TYPES.BAR]: {\n\t\t\t\t\tdata,\n\t\t\t\t\toptions,\n\t\t\t\t\tref,\n\t\t\t\t},\n\t\t\t\t[PANEL_TYPES.HISTOGRAM]: null,\n\t\t\t\t[PANEL_TYPES.EMPTY_WIDGET]: null,\n\t\t\t};\n\n\t\t\treturn result;\n\t\t}, [data, options, ref, yAxisUnit, thresholds, panelData, query]);\n\n\t\tconst Component = getComponentForPanelType(panelType, dataSource) as FC<\n\t\t\tPropsTypePropsMap[typeof panelType]\n\t\t>;\n\t\tconst componentProps = useMemo(() => currentProps[panelType], [\n\t\t\tpanelType,\n\t\t\tcurrentProps,\n\t\t]);\n\n\t\tif (!Component || !componentProps) return null;\n\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\treturn <Component {...componentProps} />;\n\t},\n);\n\nGridPanelSwitch.displayName = 'GridPanelSwitch';\n\nexport default memo(GridPanelSwitch);\n","import './Tabs2.styles.scss';\n\nimport { Color } from '@signozhq/design-tokens';\nimport { Button, Tag } from 'antd';\nimport { TimelineFilter } from 'container/AlertHistory/types';\nimport { Undo } from 'lucide-react';\nimport { useState } from 'react';\n\ninterface Tab {\n\tvalue: string;\n\tlabel: string | JSX.Element;\n\tdisabled?: boolean;\n\ticon?: string | JSX.Element;\n\tisBeta?: boolean;\n}\n\ninterface TimelineTabsProps {\n\ttabs: Tab[];\n\tonSelectTab?: (selectedTab: TimelineFilter) => void;\n\tinitialSelectedTab?: string;\n\thasResetButton?: boolean;\n\tbuttonMinWidth?: string;\n}\n\nfunction Tabs2({\n\ttabs,\n\tonSelectTab,\n\tinitialSelectedTab,\n\thasResetButton,\n\tbuttonMinWidth = '114px',\n}: TimelineTabsProps): JSX.Element {\n\tconst [selectedTab, setSelectedTab] = useState<string>(\n\t\tinitialSelectedTab || tabs[0].value,\n\t);\n\n\tconst handleTabClick = (tabValue: string): void => {\n\t\tsetSelectedTab(tabValue);\n\t\tif (onSelectTab) {\n\t\t\tonSelectTab(tabValue as TimelineFilter);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"tabs-wrapper\">\n\t\t\t{hasResetButton && selectedTab !== tabs[0].value && (\n\t\t\t\t<Button\n\t\t\t\t\tvalue=\"Reset\"\n\t\t\t\t\tclassName=\"tab reset-button\"\n\t\t\t\t\tonClick={(): void => handleTabClick(tabs[0].value)}\n\t\t\t\t\ticon={<Undo size={14} color={Color.TEXT_VANILLA_400} />}\n\t\t\t\t>\n\t\t\t\t\tReset\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t\t<Button.Group>\n\t\t\t\t{tabs.map((tab) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={tab.value}\n\t\t\t\t\t\tvalue={tab.value}\n\t\t\t\t\t\tclassName={`tab ${selectedTab === tab.value ? 'selected' : ''}`}\n\t\t\t\t\t\tonClick={(): void => handleTabClick(tab.value)}\n\t\t\t\t\t\tdisabled={tab.disabled}\n\t\t\t\t\t\ticon={tab.icon}\n\t\t\t\t\t\tstyle={{ minWidth: buttonMinWidth }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tab.label}\n\n\t\t\t\t\t\t{tab.isBeta && (\n\t\t\t\t\t\t\t<Tag bordered={false} color=\"geekblue\">\n\t\t\t\t\t\t\t\tBeta\n\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Button>\n\t\t\t\t))}\n\t\t\t</Button.Group>\n\t\t</div>\n\t);\n}\n\nTabs2.defaultProps = {\n\tinitialSelectedTab: '',\n\tonSelectTab: (): void => {},\n\thasResetButton: false,\n\tbuttonMinWidth: '114px',\n};\n\nexport default Tabs2;\n","import Tabs2 from './Tabs2';\n\nexport default Tabs2;\n","// this list must exactly match with the backend\nexport enum AlertTypes {\n\tANOMALY_BASED_ALERT = 'ANOMALY_BASED_ALERT',\n\tMETRICS_BASED_ALERT = 'METRIC_BASED_ALERT',\n\tLOGS_BASED_ALERT = 'LOGS_BASED_ALERT',\n\tTRACES_BASED_ALERT = 'TRACES_BASED_ALERT',\n\tEXCEPTIONS_BASED_ALERT = 'EXCEPTIONS_BASED_ALERT',\n}\n","import { AlertLabelsProps } from 'pages/AlertDetails/AlertHeader/AlertLabels/AlertLabels';\nimport { ICompositeMetricQuery } from 'types/api/alerts/compositeQuery';\n\n// default match type for threshold\nexport const defaultMatchType = '1';\n\n// default eval window\nexport const defaultEvalWindow = '5m0s';\n\nexport const defaultFrequency = '1m0s';\n\n// default compare op: above\nexport const defaultCompareOp = '1';\n\nexport const defaultAlgorithm = 'standard';\n\nexport const defaultSeasonality = 'hourly';\n\nexport interface AlertDef {\n\tid?: string;\n\talertType?: string;\n\talert: string;\n\truleType?: string;\n\tfrequency?: string;\n\tcondition: RuleCondition;\n\tlabels?: Labels;\n\tannotations?: Labels;\n\tevalWindow?: string;\n\tsource?: string;\n\tdisabled?: boolean;\n\tpreferredChannels?: string[];\n\tbroadcastToAll?: boolean;\n\tversion?: string;\n}\n\nexport interface RuleCondition {\n\tcompositeQuery: ICompositeMetricQuery;\n\top?: string;\n\ttarget?: number;\n\tmatchType?: string;\n\ttargetUnit?: string;\n\tselectedQueryName?: string;\n\talertOnAbsent?: boolean | undefined;\n\tabsentFor?: number | undefined;\n\trequireMinPoints?: boolean | undefined;\n\trequiredNumPoints?: number | undefined;\n\talgorithm?: string;\n\tseasonality?: string;\n}\nexport interface Labels {\n\t[key: string]: string;\n}\n\nexport interface AlertRuleStats {\n\ttotalCurrentTriggers: number;\n\ttotalPastTriggers: number;\n\tcurrentTriggersSeries: CurrentTriggersSeries;\n\tpastTriggersSeries: CurrentTriggersSeries | null;\n\tcurrentAvgResolutionTime: number;\n\tpastAvgResolutionTime: number;\n\tcurrentAvgResolutionTimeSeries: CurrentTriggersSeries;\n\tpastAvgResolutionTimeSeries: any | null;\n}\n\ninterface CurrentTriggersSeries {\n\tlabels: Labels;\n\tlabelsArray: any | null;\n\tvalues: StatsTimeSeriesItem[];\n}\n\nexport interface StatsTimeSeriesItem {\n\ttimestamp: number;\n\tvalue: string;\n}\n\nexport type AlertRuleStatsPayload = {\n\tdata: AlertRuleStats;\n};\n\nexport interface AlertRuleTopContributors {\n\tfingerprint: number;\n\tlabels: Labels;\n\tcount: number;\n\trelatedLogsLink: string;\n\trelatedTracesLink: string;\n}\nexport type AlertRuleTopContributorsPayload = {\n\tdata: AlertRuleTopContributors[];\n};\n\nexport interface AlertRuleTimelineTableResponse {\n\truleID: string;\n\truleName: string;\n\toverallState: string;\n\toverallStateChanged: boolean;\n\tstate: string;\n\tstateChanged: boolean;\n\tunixMilli: number;\n\tlabels: Labels;\n\tfingerprint: number;\n\tvalue: number;\n\trelatedTracesLink: string;\n\trelatedLogsLink: string;\n}\nexport type AlertRuleTimelineTableResponsePayload = {\n\tdata: {\n\t\titems: AlertRuleTimelineTableResponse[];\n\t\ttotal: number;\n\t\tlabels: AlertLabelsProps['labels'];\n\t};\n};\ntype AlertState = 'firing' | 'normal' | 'no-data' | 'muted';\n\nexport interface AlertRuleTimelineGraphResponse {\n\tstart: number;\n\tend: number;\n\tstate: AlertState;\n}\nexport type AlertRuleTimelineGraphResponsePayload = {\n\tdata: AlertRuleTimelineGraphResponse[];\n};\n","export const requireErrorMessage = (fieldName: string): string =>\n\t`Missing ${fieldName}`;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".anomaly-alert-evaluation-view{display:flex;flex-direction:row;justify-content:space-between;gap:8px;width:100%;height:100%}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-chart-section{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-chart-section.has-multi-series-data{width:calc(100% - 240px)}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-chart-section .anomaly-alert-evaluation-view-no-data-container{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection{display:flex;flex-direction:column;gap:8px;width:240px;padding:0px 8px;height:100%}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list{display:flex;flex-direction:column;gap:8px;height:100%}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-search{margin-bottom:16px}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-title{margin-top:12px;font-size:13px !important;font-weight:400}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-items{display:flex;flex-direction:column;gap:8px;height:100%;overflow-y:auto}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-items .anomaly-alert-evaluation-view-series-list-item{display:flex;flex-direction:row;gap:8px;cursor:pointer}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-items .anomaly-alert-evaluation-view-series-list-item .anomaly-alert-evaluation-view-series-list-item-color{width:6px;height:6px;border-radius:50%;display:inline-flex;margin-right:8px;vertical-align:middle}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-items::-webkit-scrollbar{width:.1rem}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-items::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-items::-webkit-scrollbar-thumb{background:#888;border-radius:.625rem}.anomaly-alert-evaluation-view .anomaly-alert-evaluation-view-series-selection .anomaly-alert-evaluation-view-series-list .anomaly-alert-evaluation-view-series-list-items::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.anomaly-alert-evaluation-view .uplot .u-title{text-align:center;font-size:18px;font-weight:400;display:flex;height:40px;font-size:13px;align-items:center}.anomaly-alert-evaluation-view .uplot .u-legend{display:flex;margin-top:16px}.anomaly-alert-evaluation-view .uplot .u-legend tbody{width:100%}.anomaly-alert-evaluation-view .uplot .u-legend tbody .u-series{display:inline-flex}.uplot-tooltip{background-color:rgba(0,0,0,.9);box-shadow:0 2px 4px rgba(0,0,0,.1);color:#ddd;font-size:13px;line-height:1.4;padding:8px 12px;pointer-events:none;position:absolute;z-index:100;max-height:500px;width:280px;overflow-y:auto;display:none}.uplot-tooltip::-webkit-scrollbar{width:.3rem}.uplot-tooltip::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.uplot-tooltip::-webkit-scrollbar-thumb{background:#888;border-radius:.625rem}.uplot-tooltip::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.uplot-tooltip-title{font-weight:bold;margin-bottom:4px}.uplot-tooltip-series{display:flex;gap:4px;padding:4px 0px;align-items:center}.uplot-tooltip-series-name{margin-right:4px}.uplot-tooltip-band{font-style:italic;color:#666}.uplot-tooltip-marker{display:inline-block;width:6px;height:6px;border-radius:50%;margin-right:8px;vertical-align:middle}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/AnomalyAlertEvaluationView/AnomalyAlertEvaluationView.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,+BACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,OAAA,CACA,UAAA,CACA,WAAA,CAEA,4EACC,WAAA,CACA,UAAA,CAEA,YAAA,CACA,sBAAA,CACA,kBAAA,CAEA,kGACC,wBAAA,CAGD,6HACC,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,OAAA,CAIF,+EACC,YAAA,CACA,qBAAA,CACA,OAAA,CACA,WAAA,CACA,eAAA,CACA,WAAA,CAEA,0HACC,YAAA,CACA,qBAAA,CACA,OAAA,CACA,WAAA,CAEA,4KACC,kBAAA,CAGD,2KACC,eAAA,CACA,yBAAA,CACA,eAAA,CAGD,2KACC,YAAA,CACA,qBAAA,CACA,OAAA,CACA,WAAA,CACA,eAAA,CAEA,2NACC,YAAA,CACA,kBAAA,CACA,OAAA,CAYA,cAAA,CAVA,iRACC,SAAA,CACA,UAAA,CACA,iBAAA,CAEA,mBAAA,CACA,gBAAA,CACA,qBAAA,CAMF,8LACC,WAAA,CAED,qMACC,wBAAA,CAED,oMACC,eAAA,CACA,qBAAA,CAED,oMACC,wBAAA,CAOH,+CACC,iBAAA,CACA,cAAA,CACA,eAAA,CACA,YAAA,CACA,WAAA,CACA,cAAA,CACA,kBAAA,CAGD,gDACC,YAAA,CACA,eAAA,CAEA,sDACC,UAAA,CAEA,gEACC,mBAAA,CAOL,eACC,+BAAA,CACA,mCAAA,CACA,UAAA,CACA,cAAA,CACA,eAAA,CACA,gBAAA,CACA,mBAAA,CACA,iBAAA,CACA,WAAA,CACA,gBAAA,CACA,WAAA,CACA,eAAA,CACA,YAAA,CAEA,kCACC,WAAA,CAED,yCACC,wBAAA,CAED,wCACC,eAAA,CACA,qBAAA,CAED,wCACC,wBAAA,CAIF,qBACC,gBAAA,CACA,iBAAA,CAGD,sBACC,YAAA,CACA,OAAA,CACA,eAAA,CACA,kBAAA,CAGD,2BACC,gBAAA,CAGD,oBACC,iBAAA,CACA,UAAA,CAGD,sBACC,oBAAA,CACA,SAAA,CACA,UAAA,CACA,iBAAA,CACA,gBAAA,CACA,qBAAA\",\"sourcesContent\":[\".anomaly-alert-evaluation-view {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tjustify-content: space-between;\\n\\tgap: 8px;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\n\\t.anomaly-alert-evaluation-view-chart-section {\\n\\t\\theight: 100%;\\n\\t\\twidth: 100%;\\n\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: center;\\n\\t\\talign-items: center;\\n\\n\\t\\t&.has-multi-series-data {\\n\\t\\t\\twidth: calc(100% - 240px);\\n\\t\\t}\\n\\n\\t\\t.anomaly-alert-evaluation-view-no-data-container {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\t\\t\\tjustify-content: center;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 8px;\\n\\t\\t}\\n\\t}\\n\\n\\t.anomaly-alert-evaluation-view-series-selection {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tgap: 8px;\\n\\t\\twidth: 240px;\\n\\t\\tpadding: 0px 8px;\\n\\t\\theight: 100%;\\n\\n\\t\\t.anomaly-alert-evaluation-view-series-list {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\t\\t\\tgap: 8px;\\n\\t\\t\\theight: 100%;\\n\\n\\t\\t\\t.anomaly-alert-evaluation-view-series-list-search {\\n\\t\\t\\t\\tmargin-bottom: 16px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.anomaly-alert-evaluation-view-series-list-title {\\n\\t\\t\\t\\tmargin-top: 12px;\\n\\t\\t\\t\\tfont-size: 13px !important;\\n\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.anomaly-alert-evaluation-view-series-list-items {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\tgap: 8px;\\n\\t\\t\\t\\theight: 100%;\\n\\t\\t\\t\\toverflow-y: auto;\\n\\n\\t\\t\\t\\t.anomaly-alert-evaluation-view-series-list-item {\\n\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\tflex-direction: row;\\n\\t\\t\\t\\t\\tgap: 8px;\\n\\n\\t\\t\\t\\t\\t.anomaly-alert-evaluation-view-series-list-item-color {\\n\\t\\t\\t\\t\\t\\twidth: 6px;\\n\\t\\t\\t\\t\\t\\theight: 6px;\\n\\t\\t\\t\\t\\t\\tborder-radius: 50%;\\n\\n\\t\\t\\t\\t\\t\\tdisplay: inline-flex;\\n\\t\\t\\t\\t\\t\\tmargin-right: 8px;\\n\\t\\t\\t\\t\\t\\tvertical-align: middle;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&::-webkit-scrollbar {\\n\\t\\t\\t\\t\\twidth: 0.1rem;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&::-webkit-scrollbar-corner {\\n\\t\\t\\t\\t\\tbackground: transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&::-webkit-scrollbar-thumb {\\n\\t\\t\\t\\t\\tbackground: rgb(136, 136, 136);\\n\\t\\t\\t\\t\\tborder-radius: 0.625rem;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&::-webkit-scrollbar-track {\\n\\t\\t\\t\\t\\tbackground: transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.uplot {\\n\\t\\t.u-title {\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tfont-size: 18px;\\n\\t\\t\\tfont-weight: 400;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\theight: 40px;\\n\\t\\t\\tfont-size: 13px;\\n\\t\\t\\talign-items: center;\\n\\t\\t}\\n\\n\\t\\t.u-legend {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tmargin-top: 16px;\\n\\n\\t\\t\\ttbody {\\n\\t\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t\\t.u-series {\\n\\t\\t\\t\\t\\tdisplay: inline-flex;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.uplot-tooltip {\\n\\tbackground-color: rgba(0, 0, 0, 0.9);\\n\\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n\\tcolor: #ddd;\\n\\tfont-size: 13px;\\n\\tline-height: 1.4;\\n\\tpadding: 8px 12px;\\n\\tpointer-events: none;\\n\\tposition: absolute;\\n\\tz-index: 100;\\n\\tmax-height: 500px;\\n\\twidth: 280px;\\n\\toverflow-y: auto;\\n\\tdisplay: none; /* Hide tooltip by default */\\n\\n\\t&::-webkit-scrollbar {\\n\\t\\twidth: 0.3rem;\\n\\t}\\n\\t&::-webkit-scrollbar-corner {\\n\\t\\tbackground: transparent;\\n\\t}\\n\\t&::-webkit-scrollbar-thumb {\\n\\t\\tbackground: rgb(136, 136, 136);\\n\\t\\tborder-radius: 0.625rem;\\n\\t}\\n\\t&::-webkit-scrollbar-track {\\n\\t\\tbackground: transparent;\\n\\t}\\n}\\n\\n.uplot-tooltip-title {\\n\\tfont-weight: bold;\\n\\tmargin-bottom: 4px;\\n}\\n\\n.uplot-tooltip-series {\\n\\tdisplay: flex;\\n\\tgap: 4px;\\n\\tpadding: 4px 0px;\\n\\talign-items: center;\\n}\\n\\n.uplot-tooltip-series-name {\\n\\tmargin-right: 4px;\\n}\\n\\n.uplot-tooltip-band {\\n\\tfont-style: italic;\\n\\tcolor: #666;\\n}\\n\\n.uplot-tooltip-marker {\\n\\tdisplay: inline-block;\\n\\twidth: 6px;\\n\\theight: 6px;\\n\\tborder-radius: 50%;\\n\\tmargin-right: 8px;\\n\\tvertical-align: middle;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".alert-chart-container{height:57vh;width:100%}.alert-chart-container .threshold-alert-uplot-chart-container{height:calc(100% - 24px)}.alert-chart-container .ant-card-body{padding:12px}.alert-chart-container .anomaly-alert-evaluation-view-loading-container{height:100%;display:flex;justify-content:center;align-items:center}.alert-chart-container .anomaly-alert-evaluation-view-error-container{height:100%;display:flex;justify-content:center;align-items:center}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/FormAlertRules/ChartPreview/ChartPreview.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,uBACC,WAAA,CACA,UAAA,CAEA,8DACC,wBAAA,CAGD,sCACC,YAAA,CAGD,wEACC,WAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAGD,sEACC,WAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA\",\"sourcesContent\":[\".alert-chart-container {\\n\\theight: 57vh;\\n\\twidth: 100%;\\n\\n\\t.threshold-alert-uplot-chart-container {\\n\\t\\theight: calc(100% - 24px);\\n\\t}\\n\\n\\t.ant-card-body {\\n\\t\\tpadding: 12px;\\n\\t}\\n\\n\\t.anomaly-alert-evaluation-view-loading-container {\\n\\t\\theight: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: center;\\n\\t\\talign-items: center;\\n\\t}\\n\\n\\t.anomaly-alert-evaluation-view-error-container {\\n\\t\\theight: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: center;\\n\\t\\talign-items: center;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".create-alert-modal .ant-modal-content{background-color:var(--bg-ink-300)}.create-alert-modal .ant-modal-content .ant-modal-confirm-title{color:var(--bg-vanilla-100)}.create-alert-modal .ant-modal-content .ant-modal-confirm-content .ant-typography{color:var(--bg-vanilla-100)}.create-alert-modal .ant-modal-content .ant-modal-confirm-btns button:nth-of-type(1){background-color:var(--bg-slate-400);border:none;color:var(--bg-vanilla-100)}.steps-container{width:80%}.qb-chart-preview-container{margin-bottom:1rem;display:flex;flex-direction:row;gap:1rem}.overview-header{margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center}.overview-header .alert-type-container{display:flex;flex-direction:row;align-items:center;gap:8px}.overview-header .alert-type-container .alert-type-title{display:flex;flex-direction:row;align-items:center;gap:8px}.overview-header .alert-type-container .ant-typography{margin:0}.chart-preview-container{position:relative;display:flex;flex-direction:row;gap:1rem}.chart-preview-container .ant-card{flex:1}.detection-method-container{margin:24px 0}.detection-method-container .ant-tabs-nav{margin-bottom:0}.detection-method-container .ant-tabs-nav .ant-tabs-tab{padding:12px 0}.detection-method-container .detection-method-description{padding:8px 0;font-size:12px}.info-help-btns{display:grid;grid-template-columns:auto auto;gap:12px;margin-top:20px}.info-help-btns .doc-redirection-btn{color:var(--bg-aqua-500) !important;border-color:var(--bg-aqua-500) !important}.info-help-btns .facing-issue-btn{width:100% !important}.lightMode .main-container .plot-tag{background:var(--bg-vanilla-300)}.lightMode .ant-modal-content{background-color:var(--bg-vanilla-100)}.lightMode .ant-modal-content .ant-modal-confirm-title{color:var(--bg-ink-500)}.lightMode .ant-modal-content .ant-modal-confirm-content .ant-typography{color:var(--bg-ink-500)}.lightMode .ant-modal-content .ant-modal-confirm-btns button:nth-of-type(1){background-color:var(--bg-vanilla-300);border:none;color:var(--bg-ink-500)}.lightMode .info-help-btns .doc-redirection-btn{color:var(--bg-aqua-600) !important;border-color:var(--bg-aqua-600) !important}.create-notification-btn{box-shadow:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/FormAlertRules/FormAlertRules.styles.scss\"],\"names\":[],\"mappings\":\"AACC,uCACC,kCAAA,CACA,gEACC,2BAAA,CAIA,kFACC,2BAAA,CAKD,qFACC,oCAAA,CACA,WAAA,CACA,2BAAA,CAMJ,iBACC,SAAA,CAGD,4BACC,kBAAA,CACA,YAAA,CACA,kBAAA,CACA,QAAA,CAGD,iBACC,kBAAA,CACA,YAAA,CACA,6BAAA,CACA,kBAAA,CAEA,uCACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,OAAA,CAEA,yDACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,OAAA,CAGD,uDACC,QAAA,CAKH,yBACC,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,QAAA,CAEA,mCACC,MAAA,CAIF,4BACC,aAAA,CAEA,0CACC,eAAA,CAEA,wDACC,cAAA,CAIF,0DACC,aAAA,CACA,cAAA,CAIF,gBACC,YAAA,CACA,+BAAA,CACA,QAAA,CACA,eAAA,CAEA,qCACC,mCAAA,CACA,0CAAA,CAGD,kCACC,qBAAA,CAMA,qCACC,gCAAA,CAGF,8BACC,sCAAA,CACA,uDACC,uBAAA,CAIA,yEACC,uBAAA,CAKD,4EACC,sCAAA,CACA,WAAA,CACA,uBAAA,CAMF,gDACC,mCAAA,CACA,0CAAA,CAKH,yBACC,eAAA\",\"sourcesContent\":[\".create-alert-modal {\\n\\t.ant-modal-content {\\n\\t\\tbackground-color: var(--bg-ink-300);\\n\\t\\t.ant-modal-confirm-title {\\n\\t\\t\\tcolor: var(--bg-vanilla-100);\\n\\t\\t}\\n\\n\\t\\t.ant-modal-confirm-content {\\n\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-100);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.ant-modal-confirm-btns {\\n\\t\\t\\tbutton:nth-of-type(1) {\\n\\t\\t\\t\\tbackground-color: var(--bg-slate-400);\\n\\t\\t\\t\\tborder: none;\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-100);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.steps-container {\\n\\twidth: 80%;\\n}\\n\\n.qb-chart-preview-container {\\n\\tmargin-bottom: 1rem;\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tgap: 1rem;\\n}\\n\\n.overview-header {\\n\\tmargin-bottom: 1rem;\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n\\n\\t.alert-type-container {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: row;\\n\\t\\talign-items: center;\\n\\t\\tgap: 8px;\\n\\n\\t\\t.alert-type-title {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: row;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 8px;\\n\\t\\t}\\n\\n\\t\\t.ant-typography {\\n\\t\\t\\tmargin: 0;\\n\\t\\t}\\n\\t}\\n}\\n\\n.chart-preview-container {\\n\\tposition: relative;\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tgap: 1rem;\\n\\n\\t.ant-card {\\n\\t\\tflex: 1;\\n\\t}\\n}\\n\\n.detection-method-container {\\n\\tmargin: 24px 0;\\n\\n\\t.ant-tabs-nav {\\n\\t\\tmargin-bottom: 0;\\n\\n\\t\\t.ant-tabs-tab {\\n\\t\\t\\tpadding: 12px 0;\\n\\t\\t}\\n\\t}\\n\\n\\t.detection-method-description {\\n\\t\\tpadding: 8px 0;\\n\\t\\tfont-size: 12px;\\n\\t}\\n}\\n\\n.info-help-btns {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: auto auto;\\n\\tgap: 12px;\\n\\tmargin-top: 20px;\\n\\n\\t.doc-redirection-btn {\\n\\t\\tcolor: var(--bg-aqua-500) !important;\\n\\t\\tborder-color: var(--bg-aqua-500) !important;\\n\\t}\\n\\n\\t.facing-issue-btn {\\n\\t\\twidth: 100% !important;\\n\\t}\\n}\\n\\n.lightMode {\\n\\t.main-container {\\n\\t\\t.plot-tag {\\n\\t\\t\\tbackground: var(--bg-vanilla-300);\\n\\t\\t}\\n\\t}\\n\\t.ant-modal-content {\\n\\t\\tbackground-color: var(--bg-vanilla-100);\\n\\t\\t.ant-modal-confirm-title {\\n\\t\\t\\tcolor: var(--bg-ink-500);\\n\\t\\t}\\n\\n\\t\\t.ant-modal-confirm-content {\\n\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\tcolor: var(--bg-ink-500);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.ant-modal-confirm-btns {\\n\\t\\t\\tbutton:nth-of-type(1) {\\n\\t\\t\\t\\tbackground-color: var(--bg-vanilla-300);\\n\\t\\t\\t\\tborder: none;\\n\\t\\t\\t\\tcolor: var(--bg-ink-500);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.info-help-btns {\\n\\t\\t.doc-redirection-btn {\\n\\t\\t\\tcolor: var(--bg-aqua-600) !important;\\n\\t\\t\\tborder-color: var(--bg-aqua-600) !important;\\n\\t\\t}\\n\\t}\\n}\\n\\n.create-notification-btn {\\n\\tbox-shadow: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".alert-tabs .ant-tabs-tab{border:none !important;margin-left:0px !important;padding:0px !important}.alert-tabs .ant-tabs-tab .nav-btns{display:flex;align-items:center;justify-content:center}.alert-tabs .ant-tabs-tab .nav-btns .prom-ql-icon{height:14px;width:14px}.alert-tabs .ant-tabs-tab .ant-btn-default{border-color:rgba(0,0,0,0)}.alert-tabs .ant-tabs-tab-active .nav-btns{background:var(--bg-slate-400) !important}.alert-tabs .ant-tabs-nav{margin:0px;margin-bottom:.5rem}.alert-tabs .ant-tabs-nav::before{border-bottom:none !important}.alert-tabs .ant-tabs-nav-list{border:1px solid var(--bg-slate-200)}.alert-tabs .ant-tabs-tab+.ant-tabs-tab{border-left:1px solid var(--bg-slate-200) !important}.alert-tabs .stage-run-query{display:flex;align-items:center}.alert-tabs .ant-tabs-tab-btn{padding:0 !important}.lightMode .alert-tabs .ant-tabs-nav-list{border:1px solid var(--bg-vanilla-300)}.lightMode .alert-tabs .ant-tabs-tab+.ant-tabs-tab{border-left:1px solid var(--bg-vanilla-200) !important}.lightMode .alert-tabs .ant-tabs-tab-active .nav-btns{background:var(--bg-vanilla-300) !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/FormAlertRules/QuerySection.styles.scss\"],\"names\":[],\"mappings\":\"AACC,0BACC,sBAAA,CACA,0BAAA,CACA,sBAAA,CAEA,oCACC,YAAA,CACA,kBAAA,CACA,sBAAA,CAEA,kDACC,WAAA,CACA,UAAA,CAGF,2CACC,0BAAA,CAID,2CACC,yCAAA,CAIF,0BACC,UAAA,CACA,mBAAA,CAED,kCACC,6BAAA,CAED,+BACC,oCAAA,CAED,wCACC,oDAAA,CAGD,6BACC,YAAA,CACA,kBAAA,CAGD,8BACC,oBAAA,CAMA,0CACC,sCAAA,CAED,mDACC,sDAAA,CAGA,sDACC,2CAAA\",\"sourcesContent\":[\".alert-tabs {\\n\\t.ant-tabs-tab {\\n\\t\\tborder: none !important;\\n\\t\\tmargin-left: 0px !important;\\n\\t\\tpadding: 0px !important;\\n\\n\\t\\t.nav-btns {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tjustify-content: center;\\n\\n\\t\\t\\t.prom-ql-icon {\\n\\t\\t\\t\\theight: 14px;\\n\\t\\t\\t\\twidth: 14px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.ant-btn-default {\\n\\t\\t\\tborder-color: transparent;\\n\\t\\t}\\n\\t}\\n\\t.ant-tabs-tab-active {\\n\\t\\t.nav-btns {\\n\\t\\t\\tbackground: var(--bg-slate-400) !important;\\n\\t\\t}\\n\\t}\\n\\n\\t.ant-tabs-nav {\\n\\t\\tmargin: 0px;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t}\\n\\t.ant-tabs-nav::before {\\n\\t\\tborder-bottom: none !important;\\n\\t}\\n\\t.ant-tabs-nav-list {\\n\\t\\tborder: 1px solid var(--bg-slate-200);\\n\\t}\\n\\t.ant-tabs-tab + .ant-tabs-tab {\\n\\t\\tborder-left: 1px solid var(--bg-slate-200) !important;\\n\\t}\\n\\n\\t.stage-run-query {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t}\\n\\n\\t.ant-tabs-tab-btn {\\n\\t\\tpadding: 0 !important;\\n\\t}\\n}\\n\\n.lightMode {\\n\\t.alert-tabs {\\n\\t\\t.ant-tabs-nav-list {\\n\\t\\t\\tborder: 1px solid var(--bg-vanilla-300);\\n\\t\\t}\\n\\t\\t.ant-tabs-tab + .ant-tabs-tab {\\n\\t\\t\\tborder-left: 1px solid var(--bg-vanilla-200) !important;\\n\\t\\t}\\n\\t\\t.ant-tabs-tab-active {\\n\\t\\t\\t.nav-btns {\\n\\t\\t\\t\\tbackground: var(--bg-vanilla-300) !important;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".rule-definition{display:flex;flex-wrap:wrap;gap:8px;align-items:center}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/FormAlertRules/RuleOptions.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,iBACC,YAAA,CACA,cAAA,CACA,OAAA,CACA,kBAAA\",\"sourcesContent\":[\".rule-definition {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\tgap: 8px;\\n\\talign-items: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".tabs-wrapper{display:flex;align-items:center;gap:12px}.tabs-wrapper .tab.ant-btn-default{box-shadow:none;display:flex;align-items:center;gap:10px;color:var(--text-vanilla-400);background:var(--bg-ink-400);font-size:13px;line-height:18px;letter-spacing:-0.07px;padding:6px 24px;border-color:var(--bg-slate-400);justify-content:center}.tabs-wrapper .tab.reset-button{padding:6px 12px}.tabs-wrapper .tab.reset-button .ant-btn-icon{margin:0}.tabs-wrapper .tab.selected{color:var(--text-vanilla-100);background:var(--bg-slate-400)}.lightMode .tabs-wrapper .tab.ant-btn-default{color:var(--text-ink-400);background:var(--bg-vanilla-300);border-color:var(--bg-vanilla-300)}.lightMode .tabs-wrapper .tab.selected{color:var(--text-robin-500);background:var(--bg-vanilla-100)}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/periscope/components/Tabs2/Tabs2.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,cACC,YAAA,CACA,kBAAA,CACA,QAAA,CAGC,mCACC,eAAA,CACA,YAAA,CACA,kBAAA,CACA,QAAA,CACA,6BAAA,CACA,4BAAA,CACA,cAAA,CACA,gBAAA,CACA,sBAAA,CACA,gBAAA,CACA,gCAAA,CACA,sBAAA,CAED,gCAIC,gBAAA,CAHA,8CACC,QAAA,CAIF,4BACC,6BAAA,CACA,8BAAA,CAQA,8CACC,yBAAA,CACA,gCAAA,CACA,kCAAA,CAED,uCACC,2BAAA,CACA,gCAAA\",\"sourcesContent\":[\".tabs-wrapper {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: 12px;\\n\\n\\t.tab {\\n\\t\\t&.ant-btn-default {\\n\\t\\t\\tbox-shadow: none;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 10px;\\n\\t\\t\\tcolor: var(--text-vanilla-400);\\n\\t\\t\\tbackground: var(--bg-ink-400);\\n\\t\\t\\tfont-size: 13px;\\n\\t\\t\\tline-height: 18px;\\n\\t\\t\\tletter-spacing: -0.07px;\\n\\t\\t\\tpadding: 6px 24px;\\n\\t\\t\\tborder-color: var(--bg-slate-400);\\n\\t\\t\\tjustify-content: center;\\n\\t\\t}\\n\\t\\t&.reset-button {\\n\\t\\t\\t.ant-btn-icon {\\n\\t\\t\\t\\tmargin: 0;\\n\\t\\t\\t}\\n\\t\\t\\tpadding: 6px 12px;\\n\\t\\t}\\n\\t\\t&.selected {\\n\\t\\t\\tcolor: var(--text-vanilla-100);\\n\\t\\t\\tbackground: var(--bg-slate-400);\\n\\t\\t}\\n\\t}\\n}\\n\\n.lightMode {\\n\\t.tabs-wrapper {\\n\\t\\t.tab {\\n\\t\\t\\t&.ant-btn-default {\\n\\t\\t\\t\\tcolor: var(--text-ink-400);\\n\\t\\t\\t\\tbackground: var(--bg-vanilla-300);\\n\\t\\t\\t\\tborder-color: var(--bg-vanilla-300);\\n\\t\\t\\t}\\n\\t\\t\\t&.selected {\\n\\t\\t\\t\\tcolor: var(--text-robin-500);\\n\\t\\t\\t\\tbackground: var(--bg-vanilla-100);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./AnomalyAlertEvaluationView.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./ChartPreview.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./FormAlertRules.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./QuerySection.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./RuleOptions.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./Tabs2.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["create","async","response","axios","post","props","data","statusCode","error","message","status","payload","_default","reactHotLoader","leaveModule","reactHotLoaderGlobal","default","undefined","register","module","put","concat","id","save","isEmpty","testAlert","ErrorResponseHandler","getAll","get","httpStatusCode","ErrorResponseHandlerV2","ALERTS_DATA_SOURCE_MAP","AlertTypes","ANOMALY_BASED_ALERT","DataSource","METRICS","METRICS_BASED_ALERT","LOGS_BASED_ALERT","LOGS","TRACES_BASED_ALERT","TRACES","EXCEPTIONS_BASED_ALERT","PANEL_TYPES_COMPONENT_MAP","PANEL_TYPES","TIME_SERIES","Uplot","VALUE","GridValueComponent","TABLE","GridTableComponent","TRACE","LIST","LogsPanelComponent","EMPTY_WIDGET","BAR","getComponentForPanelType","panelType","dataSource","TracesTableComponent","PIE","HISTOGRAM","AVAILABLE_EXPORT_PANEL_TYPES","Search","Input","UplotChart","_ref","options","chartRef","plotInstance","useRef","useEffect","current","destroy","length","uPlot","_jsx","ref","AnomalyAlertEvaluationView","_ref2","yAxisUnit","spline","paths","_spline","isDarkMode","useIsDarkMode","seriesData","setSeriesData","useState","selectedSeries","setSelectedSeries","filteredSeriesKeys","setFilteredSeriesKeys","allSeries","setAllSeries","graphRef","dimensions","useResizeObserver","chartData","getUplotChartDataForAnomalyDetection","Object","keys","seriesKeys","handleSeriesChange","series","bandsPlugin","hooks","draw","u","_u$series$","ctx","xData","yUpperData","yLowerData","strokeStyle","stroke","color","fillStyle","replace","beginPath","firstX","valToPos","firstUpperY","moveTo","i","x","y","lineTo","closePath","fill","initialData","map","key","timezone","useTimezone","width","height","plugins","tooltipPlugin","value","focus","alpha","legend","show","live","isolate","cursor","lock","prox","bias","points","size","seriesIdx","label","spanGaps","dash","seriesKey","scales","time","getYAxisScaleForAnomalyDetection","grid","axes","getAxes","tzDate","timestamp","Date","handleSearchValueChange","useDebouncedFn","event","_event$target","searchText","filteredSeries","filter","toLowerCase","includes","handleSearch","target","_jsxs","className","children","LineChart","strokeWidth","Typography","placeholder","allowClear","onChange","Checkbox","type","name","checked","style","backgroundColor","__signature__","tooltip","tooltipLeftOffset","tooltipTopOffset","isMouseOverPlot","formatValue","Number","isNaN","parseFloat","toFixed","dayjs","tz","format","DATE_TIME_FORMATS","US_DATETIME_SECONDS","String","init","document","createElement","display","over","appendChild","addEventListener","e","rect","getBoundingClientRect","left","clientX","top","clientY","idx","posToIdx","xVal","formattedXDate","mainValue","upperBand","lowerBand","tooltipContent","formattedYVal","generateColor","themeColors","chartcolors","lightModeColor","marker","innerHTML","updateTooltip","Option","Select","BasicInfo","_data$data","isNewRule","alertDef","setAlertDef","t","useTranslation","isLoading","isError","refetch","useQuery","queryFn","user","useAppContext","addNewChannelPermission","useComponentPermission","role","shouldBroadCastToAllChannels","setShouldBroadCastToAllChannels","hasPreferredChannels","preferredChannels","noChannels","handleCreateNewChannels","useCallback","logEvent","alertType","ruleId","window","open","ROUTES","CHANNELS_NEW","hasLoggedEvent","_data$data2","numberOfChannels","_Fragment","StepHeading","FormContainer","Form","Item","labelAlign","SeveritySelect","getPopupContainer","popupContainer","defaultValue","s","labels","severity","required","rules","requireErrorMessage","InputSmall","alert","TextareaMedium","annotations","description","FormItemMedium","LabelSelect","onSetLabels","l","initialValues","Tooltip","title","placement","Switch","shouldBroadcast","broadcastToAll","disabled","ChannelSelect","onDropdownOpen","currentValue","channels","hasError","onSelectChannels","Button","onClick","icon","PlusOutlined","ChQuerySection","currentQuery","useQueryBuilder","ClickHouseQueryBuilder","queryIndex","queryData","clickhouse_sql","deletable","notifications","useNotifications","getErrorCode","getErrorMessage","StyledSelect","mode","notFoundContent","Spin","onDropdownVisibleChange","handleChange","optionLabelProp","renderOptions","push","StyledCreateChannelOption","forEach","o","defaultProps","styled","_templateObject","_taggedTemplateLiteral","div","_templateObject2","dataFormatConfig","DataFormats","BytesIEC","BytesSI","BitsIEC","BitsSI","KibiBytes","KiloBytes","MebiBytes","MegaBytes","GibiBytes","GigaBytes","TebiBytes","TeraBytes","PebiBytes","PetaBytes","throughputConfig","ThroughputFormats","CountsPerSec","OpsPerSec","RequestsPerSec","ReadsPerSec","WritesPerSec","IOOpsPerSec","CountsPerMin","OpsPerMin","ReadsPerMin","WritesPerMin","timeUnitsConfig","TimeFormats","Hertz","Nanoseconds","Microseconds","Milliseconds","Seconds","Minutes","Hours","Days","DurationMs","DurationS","DurationHms","DurationDhms","Timeticks","ClockMs","ClockS","dataRateUnitsConfig","DataRateFormats","PacketsPerSec","BytesPerSecIEC","BytesPerSecSI","BitsPerSecIEC","BitsPerSecSI","KibiBytesPerSec","KibiBitsPerSec","KiloBytesPerSec","KiloBitsPerSec","MebiBytesPerSec","MebiBitsPerSec","MegaBytesPerSec","MegaBitsPerSec","GibiBytesPerSec","GibiBitsPerSec","GigaBytesPerSec","GigaBitsPerSec","TebiBytesPerSec","TebiBitsPerSec","TeraBytesPerSec","TeraBitsPerSec","PebiBytesPerSec","PebiBitsPerSec","PetaBytesPerSec","PetaBitsPerSec","miscUnitsConfig","MiscellaneousFormats","None","Short","Percent","PercentUnit","Humidity","Decibel","Hexadecimal0x","Hexadecimal","ScientificNotation","LocaleFormat","Pixels","ChartPreview","_queryResponse$data3","_queryResponse$data4","_featureFlags$find","_queryResponse$data5","_queryResponse$data6","_queryResponse$data7","query","graphType","selectedTime","selectedInterval","headline","userQueryKey","allowSelectedIntervalForStepGen","setQueryStatus","dispatch","useDispatch","threshold","condition","minTimeScale","setMinTimeScale","maxTimeScale","setMaxTimeScale","minTime","maxTime","globalSelectedInterval","useSelector","state","globalTime","featureFlags","handleBackNavigation","searchParams","URLSearchParams","location","search","startTime","QueryParams","endTime","UpdateTimeInterval","parseInt","getTimeString","removeEventListener","canQuery","useMemo","_query$promql","_query$clickhouse_sql","_query$clickhouse_sql2","queryType","EQueryType","PROM","promql","CLICKHOUSE","QUERY_BUILDER","builder","queryName","queryResponse","useGetQueryRange","initialQueriesMap","metrics","getGraphType","params","originalGraphType","version","DEFAULT_ENTITY_VERSION","queryKey","JSON","stringify","ruleType","retry","enabled","getTimeRange","_queryResponse$data","sortedSeriesData","getSortedSeriesData","result","containerDimensions","urlQuery","useUrlQuery","useLocation","optionName","getFormatNameByOptionId","targetUnit","onDragSelect","start","end","startTimestamp","Math","trunc","endTimestamp","GetMinMax","set","toString","generatedUrl","pathname","history","_queryResponse$data2","getUPlotChartOptions","apiResponse","thresholds","index","keyIndex","moveThreshold","selectedGraph","thresholdValue","thresholdLabel","getThresholdLabel","thresholdUnit","softMax","softMin","getUPlotChartData","isAnomalyDetectionAlert","AlertDetectionTypes","ANOMALY_DETECTION_ALERT","chartDataAvailable","isAnomalyDetectionEnabled","find","flag","FeatureKeys","ANOMALY_DETECTION","active","ChartContainer","Spinner","tip","FailedMessageContainer","InfoCircleOutlined","GridPanelSwitch","panelData","newResult","resultType","NotFoundContainer","red","Card","_templateObject3","covertIntoDataFormats","sourceUnit","values","BooleanFormats","sourceMultiplier","targetDivider","intermediateValue","round","unit","PromqlSection","PromQLQueryBuilder","QuerySection","queryCategory","setQueryCategory","runQuery","currentTab","setCurrentTab","handleQueryCategoryChange","tabs","Atom","Terminal","items","PromQLIcon","fillColor","Color","BG_VANILLA_200","BG_INK_300","registerShortcut","deregisterShortcut","useKeyboardHotkeys","QBShortcuts","StageAndRunQuery","typ","Tabs","defaultActiveKey","activeKey","tabBarExtraContent","gap","alignItems","Play","renderTabs","c","QueryBuilder","config","queryVariant","initialDataSource","showFunctions","ENTITY_VERSION_V4","renderQuerySection","RuleOptions","_alertDef$condition6","_alertDef$condition7","_alertDef$condition8","_alertDef$condition9","_alertDef$condition10","queryOptions","onChangeSelectedQueryName","selectedQueryName","renderCompareOps","_alertDef$condition2","InlineSelect","defaultCompareOp","op","minWidth","newOp","renderMatchOpts","_alertDef$condition3","defaultMatchType","matchType","_alertDef$condition","m","handleMatchOptChange","onChangeEvalWindow","ew","evalWindow","onChangeAlgorithm","alg","algorithm","onChangeSeasonality","seasonality","renderEvalWindows","defaultEvalWindow","renderDeviationOpts","onChangeDeviation","onChangeFrequency","freq","frequency","selectedCategory","getCategoryByOptionId","categorySelectOptions","getCategorySelectOptionByName","Text","showSearch","defaultAlgorithm","defaultSeasonality","THRESHOLD_ALERT","Space","direction","align","noStyle","InputNumber","addonBefore","_alertDef$condition4","_alertDef$condition5","onWheel","currentTarget","blur","Collapse","Panel","header","VerticalLine","defaultFrequency","alertOnAbsent","min","absentFor","requireMinPoints","requiredNumPoints","ALERT_SETUP_GUIDE_URLS","FormAlertRules","formInstance","initialValue","safeNavigate","useSafeNavigate","queryParams","stagedQuery","handleSetQueryData","handleRunQuery","handleSetConfig","redirectWithQueryBuilderData","ruleCache","useQueryClient","loading","setLoading","queryStatus","setYAxisUnit","alertTypeFromURL","detectionMethod","setDetectionMethod","isEqual","initQuery","compositeQuery","_queryConfig$currentQ","queryConfig","getSelectedQueryOptions","queryFormulas","call","sq","mapQueryDataFromApi","useShareBuilderUrl","updateFunctions","anomalyFunction","args","namedArgs","z_score_threshold","functions","some","func","anomalyFuncIndex","findIndex","anomalyFunc","splice","updateFunctionsBasedOnAlertType","updatedFunctions","broadcastToSpecificChannels","option","def","onCancelHandler","delete","panelTypes","relativeTime","LIST_ALL_ALERT","validatePromParams","retval","item","validateChQueryParams","validateQBParams","_currentQuery$builder","isFormValid","memoizedPreparePostData","preparePostData","_window","postableAlert","source","builderQueries","mapQueryDataToApi","promQueries","chQueries","saveRule","logData","statusMessage","apiReq","saveAlertApi","success","invalidateQueries","REACT_QUERY_KEY","ALERT_RULE_DETAILS","setTimeout","channelNames","alertId","alertName","onSaveHandler","content","QueryTypeTag","Modal","confirm","ExclamationCircleOutlined","centered","onOk","onTestRuleHandler","statusResponse","testAlertApi","alertCount","renderPromAndChQueryChartPreview","PlotTag","isAlertNameMissing","getFieldValue","isChannelConfigurationValid","isRuleCreated","isBeta","Element","Title","level","BellDot","url","link","handleRedirection","ExternalLink","MainFormContainer","layout","form","StepContainer","BuilderUnitsFilter","Tabs2","initialSelectedTab","onSelectTab","val","element","getElementById","scrollIntoView","behavior","ButtonContainer","ActionButton","SaveOutlined","ResourceAttributesFilterMachine","createMachine","tsTypes","initial","states","LabelKey","on","NEXT","actions","onBlur","RESET","LabelValue","Idle","QueryChip","onRemove","QueryChipContainer","QueryChipItem","closable","onClose","currentVal","setCurrentVal","staging","setStaging","queries","setQueries","flattenLabels","dispatchChanges","updatedRecs","prepareLabels","send","useMachine","onSelectLabelKey","onSelectLabelValue","prevState","onValidateQuery","generatedQuery","createQuery","handleBlur","handleClose","renderPlaceholder","SearchContainer","flexWrap","uuid","onKeyUp","code","bordered","flex","onFocus","handleFocus","handleClearAll","okText","cancelText","CloseCircleFilled","span","grey","primary","Tag","hiddenLabels","selectedItems","arguments","recs","alertLabels","rec","TextArea","StyledLeftContainer","Col","_templateObject4","QueryButton","_templateObject5","QueryContainer","_templateObject6","Container","_templateObject7","p","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","ChannelSelectTip","_templateObject16","_templateObject17","toChartInterval","getUpdatedStepInterval","getStartEndRangeTime","interval","getStep","inputFormat","forwardRef","currentProps","GRID_TABLE_CONFIG","sticky","Component","componentProps","displayName","memo","hasResetButton","buttonMinWidth","selectedTab","setSelectedTab","handleTabClick","tabValue","Undo","TEXT_VANILLA_400","Group","tab","fieldName","___CSS_LOADER_EXPORT___","api","__esModule","exports","locals"],"sourceRoot":""}