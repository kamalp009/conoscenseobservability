{"version":3,"file":"BillingPage.9cba69879e546786bf84.js","mappings":"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","sources":["webpack://frontend/./node_modules/@ant-design/icons-svg/es/asn/CheckCircleOutlined.js","webpack://frontend/./node_modules/@ant-design/icons/es/icons/CheckCircleOutlined.js","webpack://frontend/./src/api/billing/getUsage.ts","webpack://frontend/./src/container/BillingContainer/BillingContainer.tsx","webpack://frontend/./src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.tsx","webpack://frontend/./src/container/BillingContainer/BillingUsageGraph/generateCsvData.ts","webpack://frontend/./src/container/BillingContainer/BillingUsageGraph/utils.ts","webpack://frontend/./src/hooks/useAxiosError.tsx","webpack://frontend/./src/pages/Billing/BillingPage.tsx","webpack://frontend/./src/pages/Billing/index.tsx","webpack://frontend/./src/container/BillingContainer/BillingContainer.styles.scss","webpack://frontend/./src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.styles.scss","webpack://frontend/./src/pages/Billing/BillingPage.styles.scss","webpack://frontend/./src/container/BillingContainer/BillingContainer.styles.scss?32e7","webpack://frontend/./src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.styles.scss?3f24","webpack://frontend/./src/pages/Billing/BillingPage.styles.scss?7ed4","webpack://frontend/./node_modules/lodash-es/_basePick.js","webpack://frontend/./node_modules/lodash-es/pick.js"],"sourcesContent":["// This icon file is generated automatically.\nvar CheckCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"check-circle\", \"theme\": \"outlined\" };\nexport default CheckCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/CheckCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar CheckCircleOutlined = function CheckCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CheckCircleOutlinedSvg\n  }));\n};\nCheckCircleOutlined.displayName = 'CheckCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(CheckCircleOutlined);","import axios from 'api';\nimport { ErrorResponseHandler } from 'api/ErrorResponseHandler';\nimport { AxiosError } from 'axios';\nimport { ErrorResponse, SuccessResponse } from 'types/api';\n\nexport interface UsageResponsePayloadProps {\n\tbillingPeriodStart: Date;\n\tbillingPeriodEnd: Date;\n\tdetails: {\n\t\ttotal: number;\n\t\tbaseFee: number;\n\t\tbreakdown: [];\n\t\tbillTotal: number;\n\t};\n\tdiscount: number;\n\tsubscriptionStatus?: string;\n}\n\nconst getUsage = async (\n\tlicenseKey: string,\n): Promise<SuccessResponse<UsageResponsePayloadProps> | ErrorResponse> => {\n\ttry {\n\t\tconst response = await axios.get(`/billing?licenseKey=${licenseKey}`);\n\n\t\treturn {\n\t\t\tstatusCode: 200,\n\t\t\terror: null,\n\t\t\tmessage: response.data.status,\n\t\t\tpayload: response.data.data,\n\t\t};\n\t} catch (error) {\n\t\treturn ErrorResponseHandler(error as AxiosError);\n\t}\n};\n\nexport default getUsage;\n","/* eslint-disable @typescript-eslint/no-loop-func */\nimport './BillingContainer.styles.scss';\n\nimport { CheckCircleOutlined, CloudDownloadOutlined } from '@ant-design/icons';\nimport { Color } from '@signozhq/design-tokens';\nimport {\n\tAlert,\n\tButton,\n\tCard,\n\tCol,\n\tFlex,\n\tRow,\n\tSkeleton,\n\tTable,\n\tTag,\n\tTypography,\n} from 'antd';\nimport { ColumnsType } from 'antd/es/table';\nimport getUsage, { UsageResponsePayloadProps } from 'api/billing/getUsage';\nimport logEvent from 'api/common/logEvent';\nimport updateCreditCardApi from 'api/v1/checkout/create';\nimport manageCreditCardApi from 'api/v1/portal/create';\nimport Spinner from 'components/Spinner';\nimport { SOMETHING_WENT_WRONG } from 'constants/api';\nimport { REACT_QUERY_KEY } from 'constants/reactQueryKeys';\nimport useAxiosError from 'hooks/useAxiosError';\nimport { useGetTenantLicense } from 'hooks/useGetTenantLicense';\nimport { useNotifications } from 'hooks/useNotifications';\nimport { isEmpty, pick } from 'lodash-es';\nimport { useAppContext } from 'providers/App/App';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useMutation, useQuery } from 'react-query';\nimport { SuccessResponseV2 } from 'types/api';\nimport { CheckoutSuccessPayloadProps } from 'types/api/billing/checkout';\nimport { getFormattedDate, getRemainingDays } from 'utils/timeUtils';\n\nimport { BillingUsageGraph } from './BillingUsageGraph/BillingUsageGraph';\nimport { prepareCsvData } from './BillingUsageGraph/utils';\n\ninterface DataType {\n\tkey: string;\n\tname: string;\n\tunit: string;\n\tdataIngested: string;\n\tpricePerUnit: string;\n\tcost: string;\n}\n\nenum SubscriptionStatus {\n\tPastDue = 'past_due',\n\tActive = 'active',\n}\n\nconst renderSkeletonInput = (): JSX.Element => (\n\t<Skeleton.Input\n\t\tstyle={{ marginTop: '10px', height: '40px', width: '100%' }}\n\t\tactive\n\t/>\n);\n\nconst dummyData: DataType[] = [\n\t{\n\t\tkey: '1',\n\t\tname: 'Logs',\n\t\tunit: '',\n\t\tdataIngested: '',\n\t\tpricePerUnit: '',\n\t\tcost: '',\n\t},\n\t{\n\t\tkey: '2',\n\t\tname: 'Traces',\n\t\tunit: '',\n\t\tdataIngested: '',\n\t\tpricePerUnit: '',\n\t\tcost: '',\n\t},\n\t{\n\t\tkey: '3',\n\t\tname: 'Metrics',\n\t\tunit: '',\n\t\tdataIngested: '',\n\t\tpricePerUnit: '',\n\t\tcost: '',\n\t},\n];\n\nconst dummyColumns: ColumnsType<DataType> = [\n\t{\n\t\ttitle: '',\n\t\tdataIndex: 'name',\n\t\tkey: 'name',\n\t\trender: renderSkeletonInput,\n\t},\n\t{\n\t\ttitle: 'Unit',\n\t\tdataIndex: 'unit',\n\t\tkey: 'unit',\n\t\trender: renderSkeletonInput,\n\t},\n\t{\n\t\ttitle: 'Data Ingested',\n\t\tdataIndex: 'dataIngested',\n\t\tkey: 'dataIngested',\n\t\trender: renderSkeletonInput,\n\t},\n\t{\n\t\ttitle: 'Price per Unit',\n\t\tdataIndex: 'pricePerUnit',\n\t\tkey: 'pricePerUnit',\n\t\trender: renderSkeletonInput,\n\t},\n\t{\n\t\ttitle: 'Cost (Billing period to date)',\n\t\tdataIndex: 'cost',\n\t\tkey: 'cost',\n\t\trender: renderSkeletonInput,\n\t},\n];\n\n// eslint-disable-next-line sonarjs/cognitive-complexity\nexport default function BillingContainer(): JSX.Element {\n\tconst { t } = useTranslation(['billings']);\n\tconst daysRemainingStr = t('days_remaining');\n\tconst [headerText, setHeaderText] = useState('');\n\tconst [billAmount, setBillAmount] = useState(0);\n\tconst [daysRemaining, setDaysRemaining] = useState(0);\n\tconst [isFreeTrial, setIsFreeTrial] = useState(false);\n\tconst [data, setData] = useState<any[]>([]);\n\tconst [apiResponse, setApiResponse] = useState<\n\t\tPartial<UsageResponsePayloadProps>\n\t>({});\n\n\tconst {\n\t\tuser,\n\t\torg,\n\t\ttrialInfo,\n\t\tisFetchingActiveLicense,\n\t\tactiveLicense,\n\t\tactiveLicenseFetchError,\n\t} = useAppContext();\n\tconst { notifications } = useNotifications();\n\n\tconst handleError = useAxiosError();\n\n\tconst { isCloudUser: isCloudUserVal } = useGetTenantLicense();\n\n\tconst processUsageData = useCallback(\n\t\t(data: any): void => {\n\t\t\tif (isEmpty(data?.payload)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tdetails: { breakdown = [], billTotal },\n\t\t\t\tbillingPeriodStart,\n\t\t\t\tbillingPeriodEnd,\n\t\t\t} = data?.payload || {};\n\t\t\tconst formattedUsageData: any[] = [];\n\n\t\t\tif (breakdown && Array.isArray(breakdown)) {\n\t\t\t\tfor (let index = 0; index < breakdown.length; index += 1) {\n\t\t\t\t\tconst element = breakdown[index];\n\n\t\t\t\t\telement?.tiers.forEach(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\ttier: { quantity: number; unitPrice: number; tierCost: number },\n\t\t\t\t\t\t\ti: number,\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tformattedUsageData.push({\n\t\t\t\t\t\t\t\tkey: `${index}${i}`,\n\t\t\t\t\t\t\t\tname: i === 0 ? element?.type : '',\n\t\t\t\t\t\t\t\tdataIngested: `${tier.quantity} ${element?.unit}`,\n\t\t\t\t\t\t\t\tpricePerUnit: tier.unitPrice,\n\t\t\t\t\t\t\t\tcost: `$ ${tier.tierCost}`,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetData(formattedUsageData);\n\n\t\t\tif (!trialInfo?.onTrial) {\n\t\t\t\tconst remainingDays = getRemainingDays(billingPeriodEnd) - 1;\n\n\t\t\t\tsetHeaderText(\n\t\t\t\t\t`Your current billing period is from ${getFormattedDate(\n\t\t\t\t\t\tbillingPeriodStart,\n\t\t\t\t\t)} to ${getFormattedDate(billingPeriodEnd)}`,\n\t\t\t\t);\n\t\t\t\tsetDaysRemaining(remainingDays > 0 ? remainingDays : 0);\n\t\t\t\tsetBillAmount(billTotal);\n\t\t\t}\n\n\t\t\tsetApiResponse(data?.payload || {});\n\t\t},\n\t\t[trialInfo?.onTrial],\n\t);\n\n\tconst isSubscriptionPastDue =\n\t\tapiResponse.subscriptionStatus === SubscriptionStatus.PastDue;\n\n\tconst {\n\t\tisLoading,\n\t\tisFetching: isFetchingBillingData,\n\t\tdata: billingData,\n\t} = useQuery([REACT_QUERY_KEY.GET_BILLING_USAGE, user?.id], {\n\t\tqueryFn: () => getUsage(activeLicense?.key || ''),\n\t\tonError: handleError,\n\t\tenabled: activeLicense !== null,\n\t\tonSuccess: processUsageData,\n\t});\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\t!isFetchingActiveLicense &&\n\t\t\t!activeLicenseFetchError &&\n\t\t\ttrialInfo?.onTrial\n\t\t) {\n\t\t\tconst remainingDays = getRemainingDays(trialInfo?.trialEnd);\n\n\t\t\tsetIsFreeTrial(true);\n\t\t\tsetBillAmount(0);\n\t\t\tsetDaysRemaining(remainingDays > 0 ? remainingDays : 0);\n\t\t\tsetHeaderText(\n\t\t\t\t`You are in free trial period. Your free trial will end on ${getFormattedDate(\n\t\t\t\t\ttrialInfo?.trialEnd,\n\t\t\t\t)}`,\n\t\t\t);\n\t\t}\n\t}, [\n\t\tactiveLicense,\n\t\ttrialInfo?.onTrial,\n\t\ttrialInfo?.trialEnd,\n\t\tisFetchingActiveLicense,\n\t\tactiveLicenseFetchError,\n\t]);\n\n\tconst columns: ColumnsType<DataType> = [\n\t\t{\n\t\t\ttitle: '',\n\t\t\tdataIndex: 'name',\n\t\t\tkey: 'name',\n\t\t\trender: (text): JSX.Element => <div>{text}</div>,\n\t\t},\n\t\t{\n\t\t\ttitle: 'Data Ingested',\n\t\t\tdataIndex: 'dataIngested',\n\t\t\tkey: 'dataIngested',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Price per Unit',\n\t\t\tdataIndex: 'pricePerUnit',\n\t\t\tkey: 'pricePerUnit',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Cost (Billing period to date)',\n\t\t\tdataIndex: 'cost',\n\t\t\tkey: 'cost',\n\t\t},\n\t];\n\n\tconst renderTableSkeleton = (): JSX.Element => (\n\t\t<Table\n\t\t\tdataSource={dummyData}\n\t\t\tpagination={false}\n\t\t\tcolumns={dummyColumns}\n\t\t\tlocale={{\n\t\t\t\temptyText: dummyData.map((u) => (\n\t\t\t\t\t<Skeleton.Input\n\t\t\t\t\t\tkey={u.key}\n\t\t\t\t\t\tstyle={{ marginTop: '10px', height: '50px', width: '100%' }}\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\t\t\t\t)),\n\t\t\t}}\n\t\t/>\n\t);\n\n\tconst handleBillingOnSuccess = (\n\t\tdata: SuccessResponseV2<CheckoutSuccessPayloadProps>,\n\t): void => {\n\t\tif (data?.data?.redirectURL) {\n\t\t\tconst newTab = document.createElement('a');\n\t\t\tnewTab.href = data.data.redirectURL;\n\t\t\tnewTab.target = '_blank';\n\t\t\tnewTab.rel = 'noopener noreferrer';\n\t\t\tnewTab.click();\n\t\t}\n\t};\n\n\tconst handleBillingOnError = (): void => {\n\t\tnotifications.error({\n\t\t\tmessage: SOMETHING_WENT_WRONG,\n\t\t});\n\t};\n\n\tconst { mutate: updateCreditCard, isLoading: isLoadingBilling } = useMutation(\n\t\tupdateCreditCardApi,\n\t\t{\n\t\t\tonSuccess: (data) => {\n\t\t\t\thandleBillingOnSuccess(data);\n\t\t\t},\n\t\t\tonError: handleBillingOnError,\n\t\t},\n\t);\n\n\tconst {\n\t\tmutate: manageCreditCard,\n\t\tisLoading: isLoadingManageBilling,\n\t} = useMutation(manageCreditCardApi, {\n\t\tonSuccess: (data) => {\n\t\t\thandleBillingOnSuccess(data);\n\t\t},\n\t\tonError: handleBillingOnError,\n\t});\n\n\tconst handleBilling = useCallback(async () => {\n\t\tif (!trialInfo?.trialConvertedToSubscription) {\n\t\t\tlogEvent('Billing : Upgrade Plan', {\n\t\t\t\tuser: pick(user, ['email', 'userId', 'name']),\n\t\t\t\torg,\n\t\t\t});\n\n\t\t\tupdateCreditCard({\n\t\t\t\turl: window.location.origin,\n\t\t\t});\n\t\t} else {\n\t\t\tlogEvent('Billing : Manage Billing', {\n\t\t\t\tuser: pick(user, ['email', 'userId', 'name']),\n\t\t\t\torg,\n\t\t\t});\n\n\t\t\tmanageCreditCard({\n\t\t\t\turl: window.location.origin,\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [\n\t\tisFreeTrial,\n\t\ttrialInfo?.trialConvertedToSubscription,\n\t\tmanageCreditCard,\n\t\tupdateCreditCard,\n\t]);\n\n\tconst BillingUsageGraphCallback = useCallback(\n\t\t() =>\n\t\t\t!isLoading && !isFetchingBillingData ? (\n\t\t\t\t<>\n\t\t\t\t\t<BillingUsageGraph data={apiResponse} billAmount={billAmount} />\n\t\t\t\t\t<div className=\"billing-update-note\">\n\t\t\t\t\t\tNote: Billing metrics are updated once every 24 hours.\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Card className=\"empty-graph-card\" bordered={false}>\n\t\t\t\t\t<Spinner size=\"large\" tip=\"Loading...\" height=\"35vh\" />\n\t\t\t\t</Card>\n\t\t\t),\n\t\t[apiResponse, billAmount, isLoading, isFetchingBillingData],\n\t);\n\n\tconst { Text } = Typography;\n\tconst subscriptionPastDueMessage = (): JSX.Element => (\n\t\t<Typography>\n\t\t\t{`We were not able to process payments for your account. Please update your card details `}\n\t\t\t<Text type=\"danger\" onClick={handleBilling} style={{ cursor: 'pointer' }}>\n\t\t\t\t{t('here')}\n\t\t\t</Text>\n\t\t\t{` if your payment information has changed. Email us at `}\n\t\t\t<Text type=\"secondary\">cloud-support@signoz.io</Text>\n\t\t\t{` otherwise. Be sure to provide this information immediately to avoid interruption to your service.`}\n\t\t</Typography>\n\t);\n\n\tconst handleCsvDownload = useCallback((): void => {\n\t\ttry {\n\t\t\tconst csv = prepareCsvData(apiResponse);\n\n\t\t\tif (!csv.csvData || !csv.fileName) {\n\t\t\t\tthrow new Error('Invalid CSV data or file name.');\n\t\t\t}\n\n\t\t\tconst csvBlob = new Blob([csv.csvData], { type: 'text/csv;charset=utf-8;' });\n\t\t\tconst csvUrl = URL.createObjectURL(csvBlob);\n\t\t\tconst downloadLink = document.createElement('a');\n\n\t\t\tdownloadLink.href = csvUrl;\n\t\t\tdownloadLink.download = csv.fileName;\n\t\t\tdocument.body.appendChild(downloadLink); // Required for Firefox\n\t\t\tdownloadLink.click();\n\n\t\t\t// Clean up\n\t\t\tdownloadLink.remove();\n\t\t\tURL.revokeObjectURL(csvUrl); // Release the memory associated with the object URL\n\t\t\tnotifications.success({\n\t\t\t\tmessage: 'Download successful',\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.error('Error downloading the CSV file:', error);\n\t\t\tnotifications.error({\n\t\t\t\tmessage: SOMETHING_WENT_WRONG,\n\t\t\t});\n\t\t}\n\t}, [apiResponse, notifications]);\n\n\tconst showGracePeriodMessage =\n\t\t!isLoading &&\n\t\t!trialInfo?.trialConvertedToSubscription &&\n\t\t!trialInfo?.onTrial &&\n\t\ttrialInfo?.gracePeriodEnd;\n\n\treturn (\n\t\t<div className=\"billing-container\">\n\t\t\t<Flex vertical style={{ marginBottom: 16 }}>\n\t\t\t\t<Typography.Text style={{ fontWeight: 500, fontSize: 18 }}>\n\t\t\t\t\t{t('billing')}\n\t\t\t\t</Typography.Text>\n\t\t\t\t<Typography.Text color={Color.BG_VANILLA_400}>\n\t\t\t\t\t{t('manage_billing_and_costs')}\n\t\t\t\t</Typography.Text>\n\t\t\t</Flex>\n\n\t\t\t<Card\n\t\t\t\tbordered={false}\n\t\t\t\tstyle={{ minHeight: 150, marginBottom: 16 }}\n\t\t\t\tclassName=\"page-info\"\n\t\t\t>\n\t\t\t\t<Flex justify=\"space-between\" align=\"center\">\n\t\t\t\t\t<Flex vertical>\n\t\t\t\t\t\t<Typography.Title level={5} style={{ marginTop: 2, fontWeight: 500 }}>\n\t\t\t\t\t\t\t{isCloudUserVal ? t('teams_cloud') : t('teams')}{' '}\n\t\t\t\t\t\t\t{isFreeTrial ? <Tag color=\"success\"> Free Trial </Tag> : ''}\n\t\t\t\t\t\t</Typography.Title>\n\n\t\t\t\t\t\t{!isLoading && !isFetchingBillingData && !showGracePeriodMessage ? (\n\t\t\t\t\t\t\t<Typography.Text style={{ fontSize: 12, color: Color.BG_VANILLA_400 }}>\n\t\t\t\t\t\t\t\t{daysRemaining} {daysRemainingStr}\n\t\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex gap={20}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"dashed\"\n\t\t\t\t\t\t\tsize=\"middle\"\n\t\t\t\t\t\t\tloading={isLoadingBilling || isLoadingManageBilling}\n\t\t\t\t\t\t\tdisabled={isLoading || isFetchingBillingData}\n\t\t\t\t\t\t\tonClick={handleCsvDownload}\n\t\t\t\t\t\t\ticon={<CloudDownloadOutlined />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDownload CSV\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdata-testid=\"header-billing-button\"\n\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\tsize=\"middle\"\n\t\t\t\t\t\t\tloading={isLoadingBilling || isLoadingManageBilling}\n\t\t\t\t\t\t\tdisabled={isLoading}\n\t\t\t\t\t\t\tonClick={handleBilling}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{trialInfo?.trialConvertedToSubscription\n\t\t\t\t\t\t\t\t? t('manage_billing')\n\t\t\t\t\t\t\t\t: t('upgrade_plan')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Flex>\n\n\t\t\t\t{trialInfo?.onTrial && trialInfo?.trialConvertedToSubscription && (\n\t\t\t\t\t<Typography.Text\n\t\t\t\t\t\tellipsis\n\t\t\t\t\t\tstyle={{ fontWeight: '300', color: '#49aa19', fontSize: 12 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('card_details_recieved_and_billing_info')}\n\t\t\t\t\t</Typography.Text>\n\t\t\t\t)}\n\n\t\t\t\t{!isLoading && !isFetchingBillingData && !showGracePeriodMessage\n\t\t\t\t\t? headerText && (\n\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\tmessage={headerText}\n\t\t\t\t\t\t\t\ttype=\"info\"\n\t\t\t\t\t\t\t\tshowIcon\n\t\t\t\t\t\t\t\tstyle={{ marginTop: 12 }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t  )\n\t\t\t\t\t: null}\n\n\t\t\t\t{isLoading || isFetchingBillingData ? (\n\t\t\t\t\t<Skeleton.Input active style={{ height: 20, marginTop: 20 }} />\n\t\t\t\t) : null}\n\n\t\t\t\t{!isLoading &&\n\t\t\t\t!isFetchingBillingData &&\n\t\t\t\tbillingData &&\n\t\t\t\ttrialInfo?.gracePeriodEnd &&\n\t\t\t\tshowGracePeriodMessage ? (\n\t\t\t\t\t<Alert\n\t\t\t\t\t\tmessage={`Your data is safe with us until ${getFormattedDate(\n\t\t\t\t\t\t\ttrialInfo?.gracePeriodEnd || Date.now(),\n\t\t\t\t\t\t)}. Please upgrade plan now to retain your data.`}\n\t\t\t\t\t\ttype=\"info\"\n\t\t\t\t\t\tshowIcon\n\t\t\t\t\t\tstyle={{ marginTop: 12 }}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t{isSubscriptionPastDue &&\n\t\t\t\t\t(!isLoading && !isFetchingBillingData ? (\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tmessage={subscriptionPastDueMessage()}\n\t\t\t\t\t\t\ttype=\"error\"\n\t\t\t\t\t\t\tshowIcon\n\t\t\t\t\t\t\tstyle={{ marginTop: 12 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Skeleton.Input active style={{ height: 20, marginTop: 20 }} />\n\t\t\t\t\t))}\n\t\t\t</Card>\n\n\t\t\t<BillingUsageGraphCallback />\n\n\t\t\t<div className=\"billing-details\">\n\t\t\t\t{!isLoading && !isFetchingBillingData && (\n\t\t\t\t\t<Table\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tdataSource={data}\n\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t\tbordered={false}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{(isLoading || isFetchingBillingData) && renderTableSkeleton()}\n\t\t\t</div>\n\n\t\t\t{!trialInfo?.trialConvertedToSubscription && (\n\t\t\t\t<div className=\"upgrade-plan-benefits\">\n\t\t\t\t\t<Row\n\t\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\t\talign=\"middle\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgutter={[16, 16]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Col span={20} className=\"plan-benefits\">\n\t\t\t\t\t\t\t<Typography.Text className=\"plan-benefit\">\n\t\t\t\t\t\t\t\t<CheckCircleOutlined />\n\t\t\t\t\t\t\t\t{t('upgrade_now_text')}\n\t\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t\t<Typography.Text className=\"plan-benefit\">\n\t\t\t\t\t\t\t\t<CheckCircleOutlined />\n\t\t\t\t\t\t\t\t{t('Your billing will start only after the trial period')}\n\t\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t\t<Typography.Text className=\"plan-benefit\">\n\t\t\t\t\t\t\t\t<CheckCircleOutlined />\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{t('checkout_plans')} &nbsp;\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://signoz.io/pricing/\"\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#f99781',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('here')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={4} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdata-testid=\"upgrade-plan-button\"\n\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"middle\"\n\t\t\t\t\t\t\t\tloading={isLoadingBilling || isLoadingManageBilling}\n\t\t\t\t\t\t\t\tonClick={handleBilling}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('upgrade_plan')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import './BillingUsageGraph.styles.scss';\nimport '../../../lib/uPlotLib/uPlotLib.styles.scss';\n\nimport { Color } from '@signozhq/design-tokens';\nimport { Card, Flex, Typography } from 'antd';\nimport Uplot from 'components/Uplot';\nimport { useIsDarkMode } from 'hooks/useDarkMode';\nimport { useResizeObserver } from 'hooks/useDimensions';\nimport tooltipPlugin from 'lib/uPlotLib/plugins/tooltipPlugin';\nimport getAxes from 'lib/uPlotLib/utils/getAxes';\nimport getRenderer from 'lib/uPlotLib/utils/getRenderer';\nimport { getUPlotChartData } from 'lib/uPlotLib/utils/getUplotChartData';\nimport { getXAxisScale } from 'lib/uPlotLib/utils/getXAxisScale';\nimport { getYAxisScale } from 'lib/uPlotLib/utils/getYAxisScale';\nimport { useMemo, useRef } from 'react';\nimport uPlot from 'uplot';\n\nimport {\n\tconvertDataToMetricRangePayload,\n\tfillMissingValuesForQuantities,\n} from './utils';\n\ninterface BillingUsageGraphProps {\n\tdata: any;\n\tbillAmount: number;\n}\nconst paths = (\n\tu: any,\n\tseriesIdx: number,\n\tidx0: number,\n\tidx1: number,\n\textendGap: boolean,\n\tbuildClip: boolean,\n): uPlot.Series.PathBuilder => {\n\tconst s = u.series[seriesIdx];\n\tconst style = s.drawStyle;\n\tconst interp = s.lineInterpolation;\n\n\tconst renderer = getRenderer(style, interp);\n\n\treturn renderer(u, seriesIdx, idx0, idx1, extendGap, buildClip);\n};\n\nconst calculateStartEndTime = (\n\tdata: any,\n): { startTime: number; endTime: number } => {\n\tconst timestamps: number[] = [];\n\tdata?.details?.breakdown?.forEach((breakdown: any) => {\n\t\tbreakdown?.dayWiseBreakdown?.breakdown?.forEach((entry: any) => {\n\t\t\ttimestamps.push(entry?.timestamp);\n\t\t});\n\t});\n\tconst billingTime = [data?.billingPeriodStart, data?.billingPeriodEnd];\n\tconst startTime: number = Math.min(...timestamps, ...billingTime);\n\tconst endTime: number = Math.max(...timestamps, ...billingTime);\n\treturn { startTime, endTime };\n};\n\nexport function BillingUsageGraph(props: BillingUsageGraphProps): JSX.Element {\n\tconst { data, billAmount } = props;\n\t// Added this to fix the issue where breakdown with one day data are causing the bars to spread across multiple days\n\tdata?.details?.breakdown?.forEach((breakdown: any) => {\n\t\tif (breakdown?.dayWiseBreakdown?.breakdown?.length === 1) {\n\t\t\tconst currentDay = breakdown.dayWiseBreakdown.breakdown[0];\n\t\t\tconst nextDay = {\n\t\t\t\t...currentDay,\n\t\t\t\ttimestamp: currentDay.timestamp + 86400,\n\t\t\t\tcount: 0,\n\t\t\t\tsize: 0,\n\t\t\t\tquantity: 0,\n\t\t\t\ttotal: 0,\n\t\t\t};\n\t\t\tbreakdown.dayWiseBreakdown.breakdown.push(nextDay);\n\t\t}\n\t});\n\tconst graphCompatibleData = useMemo(\n\t\t() => convertDataToMetricRangePayload(data),\n\t\t[data],\n\t);\n\tconst chartData = getUPlotChartData(graphCompatibleData);\n\tconst graphRef = useRef<HTMLDivElement>(null);\n\tconst isDarkMode = useIsDarkMode();\n\tconst containerDimensions = useResizeObserver(graphRef);\n\n\tconst { startTime, endTime } = useMemo(() => calculateStartEndTime(data), [\n\t\tdata,\n\t]);\n\n\tconst getGraphSeries = (color: string, label: string): any => ({\n\t\tdrawStyle: 'bars',\n\t\tpaths,\n\t\tlineInterpolation: 'spline',\n\t\tshow: true,\n\t\tlabel,\n\t\tfill: color,\n\t\tstroke: color,\n\t\twidth: 2,\n\t\tspanGaps: true,\n\t\tpoints: {\n\t\t\tsize: 5,\n\t\t\tshow: false,\n\t\t\tstroke: color,\n\t\t},\n\t});\n\n\tconst uPlotSeries: any = useMemo(\n\t\t() => [\n\t\t\t{ label: 'Timestamp', stroke: 'purple' },\n\t\t\tgetGraphSeries(\n\t\t\t\t'#7CEDBE',\n\t\t\t\tgraphCompatibleData.data.result[0]?.legend as string,\n\t\t\t),\n\t\t\tgetGraphSeries(\n\t\t\t\t'#4E74F8',\n\t\t\t\tgraphCompatibleData.data.result[1]?.legend as string,\n\t\t\t),\n\t\t\tgetGraphSeries(\n\t\t\t\t'#F24769',\n\t\t\t\tgraphCompatibleData.data.result[2]?.legend as string,\n\t\t\t),\n\t\t],\n\t\t[graphCompatibleData.data.result],\n\t);\n\n\tconst axesOptions = getAxes({ isDarkMode, yAxisUnit: '' });\n\n\tconst optionsForChart: uPlot.Options = useMemo(\n\t\t() => ({\n\t\t\tid: 'billing-usage-breakdown',\n\t\t\tseries: uPlotSeries,\n\t\t\twidth: containerDimensions.width,\n\t\t\theight: containerDimensions.height - 30,\n\t\t\taxes: [\n\t\t\t\t{\n\t\t\t\t\t...axesOptions[0],\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\t...axesOptions.grid,\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\tstroke: isDarkMode ? Color.BG_VANILLA_400 : Color.BG_INK_400,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t...axesOptions[1],\n\t\t\t\t\tstroke: isDarkMode ? Color.BG_SLATE_200 : Color.BG_INK_400,\n\t\t\t\t},\n\t\t\t],\n\t\t\tscales: {\n\t\t\t\tx: {\n\t\t\t\t\t...getXAxisScale(startTime - 86400, endTime), // Minus 86400 from startTime to decrease a day to have a buffer start\n\t\t\t\t},\n\t\t\t\ty: {\n\t\t\t\t\t...getYAxisScale({\n\t\t\t\t\t\tseries: graphCompatibleData?.data?.newResult?.data?.result,\n\t\t\t\t\t\tyAxisUnit: '',\n\t\t\t\t\t\tsoftMax: null,\n\t\t\t\t\t\tsoftMin: null,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tshow: true,\n\t\t\t\tlive: false,\n\t\t\t\tisolate: true,\n\t\t\t},\n\t\t\tcursor: {\n\t\t\t\tlock: false,\n\t\t\t\tfocus: {\n\t\t\t\t\tprox: 1e6,\n\t\t\t\t\tbias: 1,\n\t\t\t\t},\n\t\t\t},\n\t\t\tfocus: {\n\t\t\t\talpha: 0.3,\n\t\t\t},\n\t\t\tpadding: [32, 32, 16, 16],\n\t\t\tplugins: [\n\t\t\t\ttooltipPlugin({\n\t\t\t\t\tapiResponse: fillMissingValuesForQuantities(\n\t\t\t\t\t\tgraphCompatibleData,\n\t\t\t\t\t\tchartData[0],\n\t\t\t\t\t),\n\t\t\t\t\tyAxisUnit: '',\n\t\t\t\t\tisBillingUsageGraphs: true,\n\t\t\t\t\tisDarkMode,\n\t\t\t\t}),\n\t\t\t],\n\t\t}),\n\t\t[\n\t\t\taxesOptions,\n\t\t\tchartData,\n\t\t\tcontainerDimensions.height,\n\t\t\tcontainerDimensions.width,\n\t\t\tendTime,\n\t\t\tgraphCompatibleData,\n\t\t\tisDarkMode,\n\t\t\tstartTime,\n\t\t\tuPlotSeries,\n\t\t],\n\t);\n\n\tconst numberFormatter = new Intl.NumberFormat('en-US');\n\n\treturn (\n\t\t<Card bordered={false} className=\"billing-graph-card\">\n\t\t\t<Flex justify=\"space-between\">\n\t\t\t\t<Flex vertical gap={6}>\n\t\t\t\t\t<Typography.Text className=\"total-spent-title\">\n\t\t\t\t\t\tTOTAL SPENT\n\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t<Typography.Text color={Color.BG_VANILLA_100} className=\"total-spent\">\n\t\t\t\t\t\t${numberFormatter.format(billAmount)}\n\t\t\t\t\t</Typography.Text>\n\t\t\t\t</Flex>\n\t\t\t</Flex>\n\t\t\t<div ref={graphRef} style={{ height: '100%', paddingBottom: 48 }}>\n\t\t\t\t<Uplot data={chartData} options={optionsForChart} />\n\t\t\t</div>\n\t\t</Card>\n\t);\n}\n","import { DATE_TIME_FORMATS } from 'constants/dateTimeFormats';\nimport dayjs from 'dayjs';\n\nexport interface QuantityData {\n\tmetric: string;\n\tvalues: [number, number][];\n\tqueryName: string;\n\tlegend: string;\n\tquantity: number[];\n\tunit: string;\n}\n\ninterface DataPoint {\n\tdate: string;\n\tmetric: {\n\t\ttotal: number;\n\t\tcost: number;\n\t};\n\ttrace: {\n\t\ttotal: number;\n\t\tcost: number;\n\t};\n\tlog: {\n\t\ttotal: number;\n\t\tcost: number;\n\t};\n}\n\ninterface CsvData {\n\tDate: string;\n\t'Metrics Vol (Mn samples)': number;\n\t'Metrics Cost ($)': number;\n\t'Traces Vol (GBs)': number;\n\t'Traces Cost ($)': number;\n\t'Logs Vol (GBs)': number;\n\t'Logs Cost ($)': number;\n}\n\nconst formatDate = (timestamp: number): string =>\n\tdayjs.unix(timestamp).format(DATE_TIME_FORMATS.US_DATE);\n\nconst getQuantityData = (\n\tdata: QuantityData[],\n\tmetricName: string,\n): QuantityData => {\n\tconst defaultData: QuantityData = {\n\t\tmetric: metricName,\n\t\tvalues: [],\n\t\tqueryName: metricName,\n\t\tlegend: metricName,\n\t\tquantity: [],\n\t\tunit: '',\n\t};\n\treturn data.find((d) => d.metric === metricName) || defaultData;\n};\n\nconst generateCsvData = (quantityData: QuantityData[]): any[] => {\n\tconst convertData = (data: QuantityData[]): DataPoint[] => {\n\t\tconst metricsData = getQuantityData(data, 'Metrics');\n\t\tconst tracesData = getQuantityData(data, 'Traces');\n\t\tconst logsData = getQuantityData(data, 'Logs');\n\n\t\tconst timestamps = metricsData.values.map((value) => value[0]);\n\n\t\treturn timestamps.map((timestamp, index) => {\n\t\t\tconst date = formatDate(timestamp);\n\n\t\t\treturn {\n\t\t\t\tdate,\n\t\t\t\tmetric: {\n\t\t\t\t\ttotal: metricsData.quantity[index] ?? 0,\n\t\t\t\t\tcost: metricsData.values[index]?.[1] ?? 0,\n\t\t\t\t},\n\t\t\t\ttrace: {\n\t\t\t\t\ttotal: tracesData.quantity[index] ?? 0,\n\t\t\t\t\tcost: tracesData.values[index]?.[1] ?? 0,\n\t\t\t\t},\n\t\t\t\tlog: {\n\t\t\t\t\ttotal: logsData.quantity[index] ?? 0,\n\t\t\t\t\tcost: logsData.values[index]?.[1] ?? 0,\n\t\t\t\t},\n\t\t\t};\n\t\t});\n\t};\n\n\tconst formattedData = convertData(quantityData);\n\n\t// Calculate totals\n\tconst totals = formattedData.reduce(\n\t\t(acc, dataPoint) => {\n\t\t\tacc.metric.total += dataPoint.metric.total;\n\t\t\tacc.metric.cost += dataPoint.metric.cost;\n\t\t\tacc.trace.total += dataPoint.trace.total;\n\t\t\tacc.trace.cost += dataPoint.trace.cost;\n\t\t\tacc.log.total += dataPoint.log.total;\n\t\t\tacc.log.cost += dataPoint.log.cost;\n\t\t\treturn acc;\n\t\t},\n\t\t{\n\t\t\tmetric: { total: 0, cost: 0 },\n\t\t\ttrace: { total: 0, cost: 0 },\n\t\t\tlog: { total: 0, cost: 0 },\n\t\t},\n\t);\n\n\tconst csvData: CsvData[] = formattedData.map((dataPoint) => ({\n\t\tDate: dataPoint.date,\n\t\t'Metrics Vol (Mn samples)': parseFloat(dataPoint.metric.total.toFixed(2)),\n\t\t'Metrics Cost ($)': parseFloat(dataPoint.metric.cost.toFixed(2)),\n\t\t'Traces Vol (GBs)': parseFloat(dataPoint.trace.total.toFixed(2)),\n\t\t'Traces Cost ($)': parseFloat(dataPoint.trace.cost.toFixed(2)),\n\t\t'Logs Vol (GBs)': parseFloat(dataPoint.log.total.toFixed(2)),\n\t\t'Logs Cost ($)': parseFloat(dataPoint.log.cost.toFixed(2)),\n\t}));\n\n\t// Add totals row\n\tcsvData.push({\n\t\tDate: 'Total',\n\t\t'Metrics Vol (Mn samples)': parseFloat(totals.metric.total.toFixed(2)),\n\t\t'Metrics Cost ($)': parseFloat(totals.metric.cost.toFixed(2)),\n\t\t'Traces Vol (GBs)': parseFloat(totals.trace.total.toFixed(2)),\n\t\t'Traces Cost ($)': parseFloat(totals.trace.cost.toFixed(2)),\n\t\t'Logs Vol (GBs)': parseFloat(totals.log.total.toFixed(2)),\n\t\t'Logs Cost ($)': parseFloat(totals.log.cost.toFixed(2)),\n\t});\n\n\treturn csvData;\n};\n\nexport default generateCsvData;\n","import { UsageResponsePayloadProps } from 'api/billing/getUsage';\nimport { DATE_TIME_FORMATS } from 'constants/dateTimeFormats';\nimport dayjs from 'dayjs';\nimport { getUPlotChartData } from 'lib/uPlotLib/utils/getUplotChartData';\nimport { isEmpty, isNull } from 'lodash-es';\nimport { unparse } from 'papaparse';\nimport { MetricRangePayloadProps } from 'types/api/metrics/getQueryRange';\n\nimport generateCsvData, { QuantityData } from './generateCsvData';\n\nexport const convertDataToMetricRangePayload = (\n\tdata: any,\n): MetricRangePayloadProps => {\n\tconst emptyStateData = {\n\t\tdata: {\n\t\t\tnewResult: { data: { result: [], resultType: '' } },\n\t\t\tresult: [],\n\t\t\tresultType: '',\n\t\t},\n\t};\n\tif (isEmpty(data)) {\n\t\treturn emptyStateData;\n\t}\n\tconst {\n\t\tdetails: { breakdown = [] },\n\t} = data || {};\n\n\tif (isNull(breakdown) || breakdown.length === 0) {\n\t\treturn emptyStateData;\n\t}\n\n\tconst payload = breakdown.map((info: any) => {\n\t\tconst metric = info.type;\n\t\tconst sortedBreakdownData = (info?.dayWiseBreakdown?.breakdown || []).sort(\n\t\t\t(a: any, b: any) => a.timestamp - b.timestamp,\n\t\t);\n\t\tconst values = (sortedBreakdownData || []).map((categoryInfo: any) => [\n\t\t\tcategoryInfo.timestamp,\n\t\t\tcategoryInfo.total,\n\t\t]);\n\t\tconst queryName = info.type;\n\t\tconst legend = info.type;\n\t\tconst { unit } = info;\n\t\tconst quantity = sortedBreakdownData.map(\n\t\t\t(categoryInfo: any) => categoryInfo.quantity,\n\t\t);\n\t\treturn { metric, values, queryName, legend, quantity, unit };\n\t});\n\n\tconst sortedData = payload.sort((a: any, b: any) => {\n\t\tconst sumA = a.values.reduce((acc: any, val: any) => acc + val[1], 0);\n\t\tconst avgA = a.values.length ? sumA / a.values.length : 0;\n\t\tconst sumB = b.values.reduce((acc: any, val: any) => acc + val[1], 0);\n\t\tconst avgB = b.values.length ? sumB / b.values.length : 0;\n\n\t\treturn sumA === sumB ? avgB - avgA : sumB - sumA;\n\t});\n\n\treturn {\n\t\tdata: {\n\t\t\tnewResult: { data: { result: sortedData, resultType: '' } },\n\t\t\tresult: sortedData,\n\t\t\tresultType: '',\n\t\t},\n\t};\n};\n\nexport function quantityDataArr(data: any, timestampArray: number[]): any[] {\n\tconst { result } = data.data;\n\n\tconst transformedResultArr: any[] = [];\n\tresult.forEach((item: any) => {\n\t\tconst timestampToQuantityMap: { [timestamp: number]: number } = {};\n\t\titem.values.forEach((val: number[], index: number) => {\n\t\t\ttimestampToQuantityMap[val[0]] = item.quantity[index];\n\t\t});\n\n\t\tconst quantityArray = timestampArray.map(\n\t\t\t(timestamp: number) => timestampToQuantityMap[timestamp] ?? null,\n\t\t);\n\t\ttransformedResultArr.push({ ...item, quantity: quantityArray });\n\t});\n\treturn transformedResultArr;\n}\n\nexport function fillMissingValuesForQuantities(\n\tdata: any,\n\ttimestampArray: number[],\n): MetricRangePayloadProps {\n\tconst transformedResultArr = quantityDataArr(data, timestampArray);\n\n\treturn {\n\t\tdata: {\n\t\t\tnewResult: { data: { result: transformedResultArr, resultType: '' } },\n\t\t\tresult: transformedResultArr,\n\t\t\tresultType: '',\n\t\t},\n\t};\n}\n\nconst formatDate = (timestamp: number): string =>\n\tdayjs.unix(timestamp).format(DATE_TIME_FORMATS.US_DATE);\n\nexport function csvFileName(csvData: QuantityData[]): string {\n\tif (!csvData.length) {\n\t\treturn `billing-usage.csv`;\n\t}\n\n\tconst { values } = csvData[0];\n\n\tconst timestamps = values.map((item) => item[0]);\n\tconst startDate = formatDate(Math.min(...timestamps));\n\tconst endDate = formatDate(Math.max(...timestamps));\n\n\treturn `billing_usage_(${startDate}-${endDate}).csv`;\n}\n\nexport function prepareCsvData(\n\tdata: Partial<UsageResponsePayloadProps>,\n): {\n\tcsvData: string;\n\tfileName: string;\n} {\n\tconst graphCompatibleData = convertDataToMetricRangePayload(data);\n\tconst chartData = getUPlotChartData(graphCompatibleData);\n\tconst quantityMapArr = quantityDataArr(graphCompatibleData, chartData[0]);\n\n\treturn {\n\t\tcsvData: unparse(generateCsvData(quantityMapArr)),\n\t\tfileName: csvFileName(quantityMapArr),\n\t};\n}\n","import axios from 'axios';\n\nimport { useNotifications } from './useNotifications';\n\nconst useAxiosError = (): UseAxiosError => {\n\tconst { notifications } = useNotifications();\n\n\treturn (error: unknown): void => {\n\t\tif (axios.isAxiosError(error)) {\n\t\t\tnotifications.error({\n\t\t\t\tmessage: error.message,\n\t\t\t});\n\t\t}\n\t};\n};\n\ntype UseAxiosError = (error: unknown) => void;\n\nexport default useAxiosError;\n","import './BillingPage.styles.scss';\n\nimport BillingContainer from 'container/BillingContainer/BillingContainer';\n\nfunction BillingPage(): JSX.Element {\n\treturn (\n\t\t<div className=\"billingPageContainer\">\n\t\t\t<BillingContainer />\n\t\t</div>\n\t);\n}\n\nexport default BillingPage;\n","import BillingPage from './BillingPage';\n\nexport default BillingPage;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".billing-container{margin-bottom:40px;padding-top:36px;width:65%}.billing-container .billing-summary{margin:24px 8px}.billing-container .billing-details{margin:24px 0px}.billing-container .billing-details .ant-table-title{color:var(--bg-vanilla-400);background-color:#1b1c20}.billing-container .billing-details .ant-table-cell{background-color:var(--bg-ink-400);border-color:var(--bg-slate-500)}.billing-container .billing-details .ant-table-tbody td{border-color:var(--bg-slate-500)}.billing-container .upgrade-plan-benefits{margin:0px 8px;border:1px solid #333;border-radius:5px;padding:0 48px}.billing-container .upgrade-plan-benefits .plan-benefits .plan-benefit{display:flex;align-items:center;gap:16px;margin:16px 0}.billing-container .empty-graph-card .ant-card-body{height:40vh;display:flex;justify-content:center;align-items:center}.billing-container .billing-update-note{text-align:left;font-size:13px;color:var(--bg-vanilla-200);margin-top:16px}.ant-skeleton.ant-skeleton-element.ant-skeleton-active{width:100%;min-width:100%}.ant-skeleton.ant-skeleton-element .ant-skeleton-input{min-width:100% !important}.lightMode .billing-container .billing-details .ant-table-cell{background:var(--bg-vanilla-100);border-color:var(--bg-vanilla-200)}.lightMode .billing-container .billing-details .ant-table-tbody td{border-color:var(--bg-vanilla-200)}.lightMode .billing-container .billing-update-note{color:var(--bg-ink-200)}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/BillingContainer/BillingContainer.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,mBACC,kBAAA,CACA,gBAAA,CACA,SAAA,CAEA,oCACC,eAAA,CAGD,oCACC,eAAA,CAEA,qDACC,2BAAA,CACA,wBAAA,CAGD,oDACC,kCAAA,CACA,gCAAA,CAIA,wDACC,gCAAA,CAKH,0CACC,cAAA,CACA,qBAAA,CACA,iBAAA,CACA,cAAA,CAEC,uEACC,YAAA,CACA,kBAAA,CACA,QAAA,CACA,aAAA,CAMF,oDACC,WAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAIF,wCACC,eAAA,CACA,cAAA,CACA,2BAAA,CACA,eAAA,CAIF,uDACC,UAAA,CACA,cAAA,CAGD,uDACC,yBAAA,CAME,+DACC,gCAAA,CACA,kCAAA,CAIA,mEACC,kCAAA,CAKH,mDACC,uBAAA\",\"sourcesContent\":[\".billing-container {\\n\\tmargin-bottom: 40px;\\n\\tpadding-top: 36px;\\n\\twidth: 65%;\\n\\n\\t.billing-summary {\\n\\t\\tmargin: 24px 8px;\\n\\t}\\n\\n\\t.billing-details {\\n\\t\\tmargin: 24px 0px;\\n\\n\\t\\t.ant-table-title {\\n\\t\\t\\tcolor: var(--bg-vanilla-400);\\n\\t\\t\\tbackground-color: rgb(27, 28, 32);\\n\\t\\t}\\n\\n\\t\\t.ant-table-cell {\\n\\t\\t\\tbackground-color: var(--bg-ink-400);\\n\\t\\t\\tborder-color: var(--bg-slate-500);\\n\\t\\t}\\n\\n\\t\\t.ant-table-tbody {\\n\\t\\t\\ttd {\\n\\t\\t\\t\\tborder-color: var(--bg-slate-500);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.upgrade-plan-benefits {\\n\\t\\tmargin: 0px 8px;\\n\\t\\tborder: 1px solid #333;\\n\\t\\tborder-radius: 5px;\\n\\t\\tpadding: 0 48px;\\n\\t\\t.plan-benefits {\\n\\t\\t\\t.plan-benefit {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\tgap: 16px;\\n\\t\\t\\t\\tmargin: 16px 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.empty-graph-card {\\n\\t\\t.ant-card-body {\\n\\t\\t\\theight: 40vh;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tjustify-content: center;\\n\\t\\t\\talign-items: center;\\n\\t\\t}\\n\\t}\\n\\n\\t.billing-update-note {\\n\\t\\ttext-align: left;\\n\\t\\tfont-size: 13px;\\n\\t\\tcolor: var(--bg-vanilla-200);\\n\\t\\tmargin-top: 16px;\\n\\t}\\n}\\n\\n.ant-skeleton.ant-skeleton-element.ant-skeleton-active {\\n\\twidth: 100%;\\n\\tmin-width: 100%;\\n}\\n\\n.ant-skeleton.ant-skeleton-element .ant-skeleton-input {\\n\\tmin-width: 100% !important;\\n}\\n\\n.lightMode {\\n\\t.billing-container {\\n\\t\\t.billing-details {\\n\\t\\t\\t.ant-table-cell {\\n\\t\\t\\t\\tbackground: var(--bg-vanilla-100);\\n\\t\\t\\t\\tborder-color: var(--bg-vanilla-200);\\n\\t\\t\\t}\\n\\n\\t\\t\\t.ant-table-tbody {\\n\\t\\t\\t\\ttd {\\n\\t\\t\\t\\t\\tborder-color: var(--bg-vanilla-200);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.billing-update-note {\\n\\t\\t\\tcolor: var(--bg-ink-200);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".billing-graph-card .ant-card-body{height:40vh}.billing-graph-card .ant-card-body .uplot-graph-container{padding:8px}.billing-graph-card .total-spent{font-family:\\\"SF Mono\\\" monospace;font-size:16px;font-style:normal;font-weight:600;line-height:24px}.billing-graph-card .total-spent-title{font-size:12px;font-weight:500;line-height:22px;letter-spacing:.48px;color:rgba(255,255,255,.5)}.lightMode .total-spent-title{color:var(--bg-ink-100)}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.styles.scss\"],\"names\":[],\"mappings\":\"AACC,mCACC,WAAA,CACA,0DACC,WAAA,CAGF,iCACC,+BAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CAGD,uCACC,cAAA,CACA,eAAA,CACA,gBAAA,CACA,oBAAA,CACA,0BAAA,CAKD,8BACC,uBAAA\",\"sourcesContent\":[\".billing-graph-card {\\n\\t.ant-card-body {\\n\\t\\theight: 40vh;\\n\\t\\t.uplot-graph-container {\\n\\t\\t\\tpadding: 8px;\\n\\t\\t}\\n\\t}\\n\\t.total-spent {\\n\\t\\tfont-family: 'SF Mono' monospace;\\n\\t\\tfont-size: 16px;\\n\\t\\tfont-style: normal;\\n\\t\\tfont-weight: 600;\\n\\t\\tline-height: 24px;\\n\\t}\\n\\n\\t.total-spent-title {\\n\\t\\tfont-size: 12px;\\n\\t\\tfont-weight: 500;\\n\\t\\tline-height: 22px;\\n\\t\\tletter-spacing: 0.48px;\\n\\t\\tcolor: rgba(255, 255, 255, 0.5);\\n\\t}\\n}\\n\\n.lightMode {\\n\\t.total-spent-title {\\n\\t\\tcolor: var(--bg-ink-100);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".billingPageContainer{display:flex;width:100%;color:#fff;justify-content:center;align-items:center}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/Billing/BillingPage.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACC,YAAA,CACA,UAAA,CACA,UAAA,CACA,sBAAA,CACA,kBAAA\",\"sourcesContent\":[\".billingPageContainer {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\tcolor: #fff;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./BillingContainer.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./BillingUsageGraph.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./BillingPage.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nexport default basePick;\n","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nexport default pick;\n"],"names":["CheckCircleOutlined","props","ref","A","icon","displayName","getUsage","async","response","axios","get","concat","licenseKey","statusCode","error","message","data","status","payload","ErrorResponseHandler","_default","reactHotLoader","leaveModule","reactHotLoaderGlobal","default","undefined","register","module","SubscriptionStatus","renderSkeletonInput","_jsx","Skeleton","Input","style","marginTop","height","width","active","dummyData","key","name","unit","dataIngested","pricePerUnit","cost","dummyColumns","title","dataIndex","render","BillingContainer","t","useTranslation","daysRemainingStr","headerText","setHeaderText","useState","billAmount","setBillAmount","daysRemaining","setDaysRemaining","isFreeTrial","setIsFreeTrial","setData","apiResponse","setApiResponse","user","org","trialInfo","isFetchingActiveLicense","activeLicense","activeLicenseFetchError","useAppContext","notifications","useNotifications","handleError","useAxiosError","isCloudUser","isCloudUserVal","useGetTenantLicense","processUsageData","useCallback","isEmpty","details","breakdown","billTotal","billingPeriodStart","billingPeriodEnd","formattedUsageData","Array","isArray","index","length","element","tiers","forEach","tier","i","push","type","quantity","unitPrice","tierCost","onTrial","remainingDays","getRemainingDays","getFormattedDate","isSubscriptionPastDue","subscriptionStatus","PastDue","isLoading","isFetching","isFetchingBillingData","billingData","useQuery","REACT_QUERY_KEY","GET_BILLING_USAGE","id","queryFn","onError","enabled","onSuccess","useEffect","trialEnd","columns","text","children","handleBillingOnSuccess","_data$data","redirectURL","newTab","document","createElement","href","target","rel","click","handleBillingOnError","SOMETHING_WENT_WRONG","mutate","updateCreditCard","isLoadingBilling","useMutation","updateCreditCardApi","manageCreditCard","isLoadingManageBilling","manageCreditCardApi","handleBilling","trialConvertedToSubscription","logEvent","pick","url","window","location","origin","BillingUsageGraphCallback","Card","className","bordered","Spinner","size","tip","_jsxs","_Fragment","BillingUsageGraph","Text","Typography","handleCsvDownload","csv","prepareCsvData","csvData","fileName","Error","csvBlob","Blob","csvUrl","URL","createObjectURL","downloadLink","download","body","appendChild","remove","revokeObjectURL","success","console","showGracePeriodMessage","gracePeriodEnd","Flex","vertical","marginBottom","fontWeight","fontSize","color","Color","BG_VANILLA_400","minHeight","justify","align","Title","level","Tag","gap","Button","loading","disabled","onClick","CloudDownloadOutlined","ellipsis","Alert","showIcon","Date","now","cursor","Table","dataSource","pagination","locale","emptyText","map","u","Row","margin","gutter","Col","span","display","justifyContent","__signature__","paths","seriesIdx","idx0","idx1","extendGap","buildClip","s","series","drawStyle","interp","lineInterpolation","getRenderer","renderer","calculateStartEndTime","_data$details","timestamps","_breakdown$dayWiseBre","dayWiseBreakdown","entry","timestamp","billingTime","startTime","Math","min","endTime","max","_data$details2","_breakdown$dayWiseBre2","currentDay","nextDay","count","total","graphCompatibleData","useMemo","convertDataToMetricRangePayload","chartData","getUPlotChartData","graphRef","useRef","isDarkMode","useIsDarkMode","containerDimensions","useResizeObserver","getGraphSeries","label","show","fill","stroke","spanGaps","points","uPlotSeries","_graphCompatibleData$","_graphCompatibleData$2","_graphCompatibleData$3","result","legend","axesOptions","getAxes","yAxisUnit","optionsForChart","_graphCompatibleData$4","axes","grid","BG_INK_400","BG_SLATE_200","scales","x","getXAxisScale","y","getYAxisScale","newResult","softMax","softMin","live","isolate","lock","focus","prox","bias","alpha","padding","plugins","tooltipPlugin","fillMissingValuesForQuantities","isBillingUsageGraphs","numberFormatter","Intl","NumberFormat","BG_VANILLA_100","format","paddingBottom","Uplot","options","formatDate","dayjs","DATE_TIME_FORMATS","US_DATE","getQuantityData","metricName","defaultData","metric","values","queryName","find","d","generateCsvData","quantityData","formattedData","metricsData","tracesData","logsData","value","_metricsData$quantity","_metricsData$values$i","_metricsData$values$i2","_tracesData$quantity$","_tracesData$values$in","_tracesData$values$in2","_logsData$quantity$in","_logsData$values$inde","_logsData$values$inde2","date","trace","log","convertData","totals","reduce","acc","dataPoint","parseFloat","toFixed","emptyStateData","resultType","isNull","sortedData","info","_info$dayWiseBreakdow","sortedBreakdownData","sort","a","b","categoryInfo","sumA","val","avgA","sumB","avgB","quantityDataArr","timestampArray","transformedResultArr","item","timestampToQuantityMap","quantityArray","_timestampToQuantityM","csvFileName","startDate","endDate","quantityMapArr","unparse","isAxiosError","BillingPage","___CSS_LOADER_EXPORT___","api","content","__esModule","exports","locals","object","path"],"sourceRoot":""}