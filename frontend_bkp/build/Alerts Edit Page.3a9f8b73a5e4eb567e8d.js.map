{"version":3,"file":"Alerts Edit Page.3a9f8b73a5e4eb567e8d.js","mappings":"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","sources":["webpack://frontend/./src/api/alerts/get.ts","webpack://frontend/./src/container/EditRules/index.tsx","webpack://frontend/./src/pages/EditRules/constants.ts","webpack://frontend/./src/pages/EditRules/index.tsx","webpack://frontend/./src/pages/EditRules/EditRules.styles.scss","webpack://frontend/./node_modules/lucide-react/dist/esm/icons/external-link.js","webpack://frontend/./node_modules/lucide-react/dist/esm/icons/spline.js","webpack://frontend/./src/pages/EditRules/EditRules.styles.scss?6989"],"sourcesContent":["import axios from 'api';\nimport { ErrorResponse, SuccessResponse } from 'types/api';\nimport { PayloadProps, Props } from 'types/api/alerts/get';\n\nconst get = async (\n\tprops: Props,\n): Promise<SuccessResponse<PayloadProps> | ErrorResponse> => {\n\tconst response = await axios.get(`/rules/${props.id}`);\n\treturn {\n\t\tstatusCode: 200,\n\t\terror: null,\n\t\tmessage: response.data.status,\n\t\tpayload: response.data,\n\t};\n};\nexport default get;\n","import { Form } from 'antd';\nimport FormAlertRules from 'container/FormAlertRules';\nimport { AlertTypes } from 'types/api/alerts/alertTypes';\nimport { AlertDef } from 'types/api/alerts/def';\n\nfunction EditRules({ initialValue, ruleId }: EditRulesProps): JSX.Element {\n\tconst [formInstance] = Form.useForm();\n\n\treturn (\n\t\t<FormAlertRules\n\t\t\talertType={\n\t\t\t\tinitialValue.alertType\n\t\t\t\t\t? (initialValue.alertType as AlertTypes)\n\t\t\t\t\t: AlertTypes.METRICS_BASED_ALERT\n\t\t\t}\n\t\t\tformInstance={formInstance}\n\t\t\tinitialValue={initialValue}\n\t\t\truleId={ruleId}\n\t\t/>\n\t);\n}\n\ninterface EditRulesProps {\n\tinitialValue: AlertDef;\n\truleId: string;\n}\n\nexport default EditRules;\n","export const returnToAlertsPage = 'Return to Alerts Page';\n\nexport const errorMessageReceivedFromBackend = 'sql: no rows in result set';\n\nexport const improvedErrorMessage =\n\t'The Alert that you are trying to access does not exist.';\n","import './EditRules.styles.scss';\n\nimport { Button, Card } from 'antd';\nimport get from 'api/alerts/get';\nimport Spinner from 'components/Spinner';\nimport { QueryParams } from 'constants/query';\nimport { REACT_QUERY_KEY } from 'constants/reactQueryKeys';\nimport ROUTES from 'constants/routes';\nimport EditRulesContainer from 'container/EditRules';\nimport { useNotifications } from 'hooks/useNotifications';\nimport { useSafeNavigate } from 'hooks/useSafeNavigate';\nimport useUrlQuery from 'hooks/useUrlQuery';\nimport history from 'lib/history';\nimport { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useQuery } from 'react-query';\n\nimport {\n\terrorMessageReceivedFromBackend,\n\timprovedErrorMessage,\n\treturnToAlertsPage,\n} from './constants';\n\nfunction EditRules(): JSX.Element {\n\tconst { safeNavigate } = useSafeNavigate();\n\tconst params = useUrlQuery();\n\tconst ruleId = params.get(QueryParams.ruleId);\n\tconst { t } = useTranslation('common');\n\n\tconst isValidRuleId = ruleId !== null && String(ruleId).length !== 0;\n\n\tconst { isLoading, data, isRefetching, isError } = useQuery(\n\t\t[REACT_QUERY_KEY.ALERT_RULE_DETAILS, ruleId],\n\t\t{\n\t\t\tqueryFn: () =>\n\t\t\t\tget({\n\t\t\t\t\tid: ruleId || '',\n\t\t\t\t}),\n\t\t\tenabled: isValidRuleId,\n\t\t\trefetchOnMount: false,\n\t\t\trefetchOnWindowFocus: false,\n\t\t},\n\t);\n\n\tconst { notifications } = useNotifications();\n\n\tconst clickHandler = (): void => {\n\t\tparams.delete(QueryParams.compositeQuery);\n\t\tparams.delete(QueryParams.panelTypes);\n\t\tparams.delete(QueryParams.ruleId);\n\t\tparams.delete(QueryParams.relativeTime);\n\t\thistory.push(`${ROUTES.LIST_ALL_ALERT}?${params.toString()}`);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isValidRuleId) {\n\t\t\tnotifications.error({\n\t\t\t\tmessage: 'Rule Id is required',\n\t\t\t});\n\t\t\tsafeNavigate(ROUTES.LIST_ALL_ALERT);\n\t\t}\n\t}, [isValidRuleId, ruleId, notifications, safeNavigate]);\n\n\tif (\n\t\t(isError && !isValidRuleId) ||\n\t\truleId == null ||\n\t\t(data?.payload?.data === undefined && !isLoading)\n\t) {\n\t\treturn (\n\t\t\t<div className=\"edit-rules-container edit-rules-container--error\">\n\t\t\t\t<Card size=\"small\" className=\"edit-rules-card\">\n\t\t\t\t\t<p className=\"content\">\n\t\t\t\t\t\t{data?.message === errorMessageReceivedFromBackend\n\t\t\t\t\t\t\t? improvedErrorMessage\n\t\t\t\t\t\t\t: data?.error || t('something_went_wrong')}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"btn-container\">\n\t\t\t\t\t\t<Button type=\"default\" size=\"large\" onClick={clickHandler}>\n\t\t\t\t\t\t\t{returnToAlertsPage}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (isLoading || isRefetching || !data?.payload) {\n\t\treturn <Spinner tip=\"Loading Rules...\" />;\n\t}\n\n\treturn (\n\t\t<div className=\"edit-rules-container\">\n\t\t\t<EditRulesContainer ruleId={ruleId || ''} initialValue={data.payload.data} />\n\t\t</div>\n\t);\n}\n\nexport default EditRules;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".edit-rules-container{padding:0 16px}.edit-rules-container--error{display:flex;justify-content:center;align-items:center;margin-top:5rem}.edit-rules-card{width:20rem;padding:1rem}.edit-rules-card .content{font-style:normal;font-weight:300;font-size:18px;line-height:20px;display:flex;align-items:center;justify-content:center;text-align:center;margin:0}.btn-container{display:flex;justify-content:center;align-items:center;margin-top:2rem}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/EditRules/EditRules.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACC,cAAA,CACA,6BACC,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CAIF,iBACC,WAAA,CACA,YAAA,CAEA,0BACC,iBAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,iBAAA,CACA,QAAA,CAGF,eACC,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA\",\"sourcesContent\":[\".edit-rules-container {\\n\\tpadding: 0 16px;\\n\\t&--error {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: center;\\n\\t\\talign-items: center;\\n\\t\\tmargin-top: 5rem;\\n\\t}\\n}\\n\\n.edit-rules-card {\\n\\twidth: 20rem;\\n\\tpadding: 1rem;\\n\\n\\t.content {\\n\\t\\tfont-style: normal;\\n\\t\\tfont-weight: 300;\\n\\t\\tfont-size: 18px;\\n\\t\\tline-height: 20px;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t\\ttext-align: center;\\n\\t\\tmargin: 0;\\n\\t}\\n}\\n.btn-container {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tmargin-top: 2rem;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * @license lucide-react v0.498.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n];\nconst ExternalLink = createLucideIcon(\"external-link\", __iconNode);\n\nexport { __iconNode, ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.498.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"19\", cy: \"5\", r: \"2\", key: \"mhkx31\" }],\n  [\"circle\", { cx: \"5\", cy: \"19\", r: \"2\", key: \"v8kfzx\" }],\n  [\"path\", { d: \"M5 17A12 12 0 0 1 17 5\", key: \"1okkup\" }]\n];\nconst Spline = createLucideIcon(\"spline\", __iconNode);\n\nexport { __iconNode, Spline as default };\n//# sourceMappingURL=spline.js.map\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./EditRules.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["get","async","response","axios","concat","props","id","statusCode","error","message","data","status","payload","_default","reactHotLoader","leaveModule","reactHotLoaderGlobal","default","undefined","register","module","EditRules","_ref","initialValue","ruleId","formInstance","Form","useForm","_jsx","FormAlertRules","alertType","AlertTypes","METRICS_BASED_ALERT","returnToAlertsPage","errorMessageReceivedFromBackend","improvedErrorMessage","_data$payload","safeNavigate","useSafeNavigate","params","useUrlQuery","QueryParams","t","useTranslation","isValidRuleId","String","length","isLoading","isRefetching","isError","useQuery","REACT_QUERY_KEY","ALERT_RULE_DETAILS","queryFn","enabled","refetchOnMount","refetchOnWindowFocus","notifications","useNotifications","clickHandler","delete","compositeQuery","panelTypes","relativeTime","history","push","ROUTES","LIST_ALL_ALERT","toString","useEffect","className","children","_jsxs","Card","size","Button","type","onClick","Spinner","tip","EditRulesContainer","___CSS_LOADER_EXPORT___","ExternalLink","d","key","Spline","cx","cy","r","api","content","__esModule","options","exports","locals"],"sourceRoot":""}