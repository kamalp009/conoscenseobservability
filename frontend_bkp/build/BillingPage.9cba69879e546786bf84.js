!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6a83b7bc-ec73-4237-93e7-4de84897e456",e._sentryDebugIdIdentifier="sentry-dbid-6a83b7bc-ec73-4237-93e7-4de84897e456")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["BillingPage"],{243703:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"}},981018:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(489379),i=n(296540),o=n(243703),l=n(812226),r=function(e,t){return i.createElement(l.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:o.A}))};r.displayName="CheckCircleOutlined";const s=i.forwardRef(r)},51833:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a,i=n(6012),o=n(481281);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=async e=>{try{const t=await i.Ay.get("/billing?licenseKey=".concat(e));return{statusCode:200,error:null,message:t.data.status,payload:t.data.data}}catch(t){return(0,o.m)(t)}},r=l,s=r;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(l,"getUsage","/home/ec2-user/signoz/frontend/src/api/billing/getUsage.ts"),d.register(r,"default","/home/ec2-user/signoz/frontend/src/api/billing/getUsage.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},540602:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});n(323424);var a,i=n(590519),o=n(981018),l=n(589731),r=n(675063),s=n(716784),d=n(377278),c=n(167313),u=n(892911),g=n(971524),p=n(650400),A=n(182654),f=n(747152),b=n(16370),h=n(51833),m=n(269376),v=n(136357),C=n(683687),y=n(847578),x=n(163921),B=n(735876),G=n(646005),L=n(161704),k=n(412549),w=n(566401),T=n(54991),H=n(607363),M=n(296540),j=n(218492),U=n(775942),E=n(922735),D=n(15147),I=n(107658),_=n(474848);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S=function(e){return e.PastDue="past_due",e.Active="active",e}(S||{});const z=()=>(0,_.jsx)(r.A.Input,{style:{marginTop:"10px",height:"40px",width:"100%"},active:!0}),P=[{key:"1",name:"Logs",unit:"",dataIngested:"",pricePerUnit:"",cost:""},{key:"2",name:"Traces",unit:"",dataIngested:"",pricePerUnit:"",cost:""},{key:"3",name:"Metrics",unit:"",dataIngested:"",pricePerUnit:"",cost:""}],N=[{title:"",dataIndex:"name",key:"name",render:z},{title:"Unit",dataIndex:"unit",key:"unit",render:z},{title:"Data Ingested",dataIndex:"dataIngested",key:"dataIngested",render:z},{title:"Price per Unit",dataIndex:"pricePerUnit",key:"pricePerUnit",render:z},{title:"Cost (Billing period to date)",dataIndex:"cost",key:"cost",render:z}];function R(){const{t:e}=(0,j.B)(["billings"]),t=e("days_remaining"),[n,a]=(0,M.useState)(""),[F,z]=(0,M.useState)(0),[R,V]=(0,M.useState)(0),[q,Q]=(0,M.useState)(!1),[W,$]=(0,M.useState)([]),[Y,K]=(0,M.useState)({}),{user:O,org:J,trialInfo:X,isFetchingActiveLicense:Z,activeLicense:ee,activeLicenseFetchError:te}=(0,H.Us)(),{notifications:ne}=(0,k.E$)(),ae=(0,G.A)(),{isCloudUser:ie}=(0,L.V)(),oe=(0,M.useCallback)((e=>{if((0,w.A)(null==e?void 0:e.payload))return;const{details:{breakdown:t=[],billTotal:n},billingPeriodStart:i,billingPeriodEnd:o}=(null==e?void 0:e.payload)||{},l=[];if(t&&Array.isArray(t))for(let a=0;a<t.length;a+=1){const e=t[a];null==e||e.tiers.forEach(((t,n)=>{l.push({key:"".concat(a).concat(n),name:0===n?null==e?void 0:e.type:"",dataIngested:"".concat(t.quantity," ").concat(null==e?void 0:e.unit),pricePerUnit:t.unitPrice,cost:"$ ".concat(t.tierCost)})}))}if($(l),null==X||!X.onTrial){const e=(0,E.MU)(o)-1;a("Your current billing period is from ".concat((0,E.po)(i)," to ").concat((0,E.po)(o))),V(e>0?e:0),z(n)}K((null==e?void 0:e.payload)||{})}),[null==X?void 0:X.onTrial]),le=Y.subscriptionStatus===S.PastDue,{isLoading:re,isFetching:se,data:de}=(0,U.useQuery)([B.T.GET_BILLING_USAGE,null==O?void 0:O.id],{queryFn:()=>(0,h.A)((null==ee?void 0:ee.key)||""),onError:ae,enabled:null!==ee,onSuccess:oe});(0,M.useEffect)((()=>{if(!Z&&!te&&null!=X&&X.onTrial){const e=(0,E.MU)(null==X?void 0:X.trialEnd);Q(!0),z(0),V(e>0?e:0),a("You are in free trial period. Your free trial will end on ".concat((0,E.po)(null==X?void 0:X.trialEnd)))}}),[ee,null==X?void 0:X.onTrial,null==X?void 0:X.trialEnd,Z,te]);const ce=[{title:"",dataIndex:"name",key:"name",render:e=>(0,_.jsx)("div",{children:e})},{title:"Data Ingested",dataIndex:"dataIngested",key:"dataIngested"},{title:"Price per Unit",dataIndex:"pricePerUnit",key:"pricePerUnit"},{title:"Cost (Billing period to date)",dataIndex:"cost",key:"cost"}],ue=e=>{var t;if(null!=e&&null!==(t=e.data)&&void 0!==t&&t.redirectURL){const t=document.createElement("a");t.href=e.data.redirectURL,t.target="_blank",t.rel="noopener noreferrer",t.click()}},ge=()=>{ne.error({message:x.U})},{mutate:pe,isLoading:Ae}=(0,U.useMutation)(v.A,{onSuccess:e=>{ue(e)},onError:ge}),{mutate:fe,isLoading:be}=(0,U.useMutation)(C.A,{onSuccess:e=>{ue(e)},onError:ge}),he=(0,M.useCallback)((async()=>{null!=X&&X.trialConvertedToSubscription?((0,m.A)("Billing : Manage Billing",{user:(0,T.A)(O,["email","userId","name"]),org:J}),fe({url:window.location.origin})):((0,m.A)("Billing : Upgrade Plan",{user:(0,T.A)(O,["email","userId","name"]),org:J}),pe({url:window.location.origin}))}),[q,null==X?void 0:X.trialConvertedToSubscription,fe,pe]),me=(0,M.useCallback)((()=>re||se?(0,_.jsx)(d.A,{className:"empty-graph-card",bordered:!1,children:(0,_.jsx)(y.A,{size:"large",tip:"Loading...",height:"35vh"})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(D.f,{data:Y,billAmount:F}),(0,_.jsx)("div",{className:"billing-update-note",children:"Note: Billing metrics are updated once every 24 hours."})]})),[Y,F,re,se]),{Text:ve}=c.A,Ce=(0,M.useCallback)((()=>{try{const e=(0,I.Qp)(Y);if(!e.csvData||!e.fileName)throw new Error("Invalid CSV data or file name.");const t=new Blob([e.csvData],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=e.fileName,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(n),ne.success({message:"Download successful"})}catch(e){console.error("Error downloading the CSV file:",e),ne.error({message:x.U})}}),[Y,ne]),ye=!re&&!(null!=X&&X.trialConvertedToSubscription)&&!(null!=X&&X.onTrial)&&(null==X?void 0:X.gracePeriodEnd);return(0,_.jsxs)("div",{className:"billing-container",children:[(0,_.jsxs)(u.A,{vertical:!0,style:{marginBottom:16},children:[(0,_.jsx)(c.A.Text,{style:{fontWeight:500,fontSize:18},children:e("billing")}),(0,_.jsx)(c.A.Text,{color:l.Q1.BG_VANILLA_400,children:e("manage_billing_and_costs")})]}),(0,_.jsxs)(d.A,{bordered:!1,style:{minHeight:150,marginBottom:16},className:"page-info",children:[(0,_.jsxs)(u.A,{justify:"space-between",align:"center",children:[(0,_.jsxs)(u.A,{vertical:!0,children:[(0,_.jsxs)(c.A.Title,{level:5,style:{marginTop:2,fontWeight:500},children:[e(ie?"teams_cloud":"teams")," ",q?(0,_.jsx)(g.A,{color:"success",children:" Free Trial "}):""]}),re||se||ye?null:(0,_.jsxs)(c.A.Text,{style:{fontSize:12,color:l.Q1.BG_VANILLA_400},children:[R," ",t]})]}),(0,_.jsxs)(u.A,{gap:20,children:[(0,_.jsx)(p.Ay,{type:"dashed",size:"middle",loading:Ae||be,disabled:re||se,onClick:Ce,icon:(0,_.jsx)(i.A,{}),children:"Download CSV"}),(0,_.jsx)(p.Ay,{"data-testid":"header-billing-button",type:"primary",size:"middle",loading:Ae||be,disabled:re,onClick:he,children:null!=X&&X.trialConvertedToSubscription?e("manage_billing"):e("upgrade_plan")})]})]}),(null==X?void 0:X.onTrial)&&(null==X?void 0:X.trialConvertedToSubscription)&&(0,_.jsx)(c.A.Text,{ellipsis:!0,style:{fontWeight:"300",color:"#49aa19",fontSize:12},children:e("card_details_recieved_and_billing_info")}),re||se||ye?null:n&&(0,_.jsx)(A.A,{message:n,type:"info",showIcon:!0,style:{marginTop:12}}),re||se?(0,_.jsx)(r.A.Input,{active:!0,style:{height:20,marginTop:20}}):null,!re&&!se&&de&&null!=X&&X.gracePeriodEnd&&ye?(0,_.jsx)(A.A,{message:"Your data is safe with us until ".concat((0,E.po)((null==X?void 0:X.gracePeriodEnd)||Date.now()),". Please upgrade plan now to retain your data."),type:"info",showIcon:!0,style:{marginTop:12}}):null,le&&(re||se?(0,_.jsx)(r.A.Input,{active:!0,style:{height:20,marginTop:20}}):(0,_.jsx)(A.A,{message:(0,_.jsxs)(c.A,{children:["We were not able to process payments for your account. Please update your card details ",(0,_.jsx)(ve,{type:"danger",onClick:he,style:{cursor:"pointer"},children:e("here")})," if your payment information has changed. Email us at ",(0,_.jsx)(ve,{type:"secondary",children:"cloud-support@signoz.io"})," otherwise. Be sure to provide this information immediately to avoid interruption to your service."]}),type:"error",showIcon:!0,style:{marginTop:12}}))]}),(0,_.jsx)(me,{}),(0,_.jsxs)("div",{className:"billing-details",children:[!re&&!se&&(0,_.jsx)(s.A,{columns:ce,dataSource:W,pagination:!1,bordered:!1}),(re||se)&&(0,_.jsx)(s.A,{dataSource:P,pagination:!1,columns:N,locale:{emptyText:P.map((e=>(0,_.jsx)(r.A.Input,{style:{marginTop:"10px",height:"50px",width:"100%"},active:!0},e.key)))}})]}),!(null!=X&&X.trialConvertedToSubscription)&&(0,_.jsx)("div",{className:"upgrade-plan-benefits",children:(0,_.jsxs)(f.A,{justify:"space-between",align:"middle",style:{margin:0},gutter:[16,16],children:[(0,_.jsxs)(b.A,{span:20,className:"plan-benefits",children:[(0,_.jsxs)(c.A.Text,{className:"plan-benefit",children:[(0,_.jsx)(o.A,{}),e("upgrade_now_text")]}),(0,_.jsxs)(c.A.Text,{className:"plan-benefit",children:[(0,_.jsx)(o.A,{}),e("Your billing will start only after the trial period")]}),(0,_.jsxs)(c.A.Text,{className:"plan-benefit",children:[(0,_.jsx)(o.A,{}),(0,_.jsxs)("span",{children:[e("checkout_plans")," Â ",(0,_.jsx)("a",{href:"https://signoz.io/pricing/",style:{color:"#f99781"},target:"_blank",rel:"noreferrer",children:e("here")})]})]})]}),(0,_.jsx)(b.A,{span:4,style:{display:"flex",justifyContent:"flex-end"},children:(0,_.jsx)(p.Ay,{"data-testid":"upgrade-plan-button",type:"primary",size:"middle",loading:Ae||be,onClick:he,children:e("upgrade_plan")})})]})})]})}var V,q;F(R,"useTranslation{{ t }}\nuseState{[headerText, setHeaderText]('')}\nuseState{[billAmount, setBillAmount](0)}\nuseState{[daysRemaining, setDaysRemaining](0)}\nuseState{[isFreeTrial, setIsFreeTrial](false)}\nuseState{[data, setData]([])}\nuseState{[apiResponse, setApiResponse]({})}\nuseAppContext{{\n\t\tuser,\n\t\torg,\n\t\ttrialInfo,\n\t\tisFetchingActiveLicense,\n\t\tactiveLicense,\n\t\tactiveLicenseFetchError,\n\t}}\nuseNotifications{{ notifications }}\nuseAxiosError{handleError}\nuseGetTenantLicense{{ isCloudUser: isCloudUserVal }}\nuseCallback{processUsageData}\nuseQuery{{\n\t\tisLoading,\n\t\tisFetching: isFetchingBillingData,\n\t\tdata: billingData,\n\t}}\nuseEffect{}\nuseMutation{{ mutate: updateCreditCard, isLoading: isLoadingBilling }}\nuseMutation{{\n\t\tmutate: manageCreditCard,\n\t\tisLoading: isLoadingManageBilling,\n\t}}\nuseCallback{handleBilling}\nuseCallback{BillingUsageGraphCallback}\nuseCallback{handleCsvDownload}",(()=>[j.B,H.Us,k.E$,G.A,L.V,U.useQuery,U.useMutation,U.useMutation])),(V="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(V.register(z,"renderSkeletonInput","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingContainer.tsx"),V.register(P,"dummyData","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingContainer.tsx"),V.register(N,"dummyColumns","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingContainer.tsx"),V.register(R,"BillingContainer","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingContainer.tsx")),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&q(e)},15147:(e,t,n)=>{"use strict";n.d(t,{f:()=>B});n(962019),n(35386);var a,i=n(589731),o=n(377278),l=n(892911),r=n(167313),s=n(253967),d=n(31081),c=n(443970),u=n(119276),g=n(896420),p=n(652158),A=n(517537),f=n(571652),b=n(274725),h=n(296540),m=n(107658),v=n(474848);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const y=(e,t,n,a,i,o)=>{const l=e.series[t],r=l.drawStyle,s=l.lineInterpolation;return(0,p.A)(r,s)(e,t,n,a,i,o)},x=e=>{var t;const n=[];null==e||null===(t=e.details)||void 0===t||null===(t=t.breakdown)||void 0===t||t.forEach((e=>{var t;null==e||null===(t=e.dayWiseBreakdown)||void 0===t||null===(t=t.breakdown)||void 0===t||t.forEach((e=>{n.push(null==e?void 0:e.timestamp)}))}));const a=[null==e?void 0:e.billingPeriodStart,null==e?void 0:e.billingPeriodEnd];return{startTime:Math.min(...n,...a),endTime:Math.max(...n,...a)}};function B(e){var t;const{data:n,billAmount:a}=e;null==n||null===(t=n.details)||void 0===t||null===(t=t.breakdown)||void 0===t||t.forEach((e=>{var t;if(1===(null==e||null===(t=e.dayWiseBreakdown)||void 0===t||null===(t=t.breakdown)||void 0===t?void 0:t.length)){const t=e.dayWiseBreakdown.breakdown[0],n={...t,timestamp:t.timestamp+86400,count:0,size:0,quantity:0,total:0};e.dayWiseBreakdown.breakdown.push(n)}}));const p=(0,h.useMemo)((()=>(0,m.cT)(n)),[n]),C=(0,A.l)(p),B=(0,h.useRef)(null),G=(0,d.hJ)(),L=(0,c.w)(B),{startTime:k,endTime:w}=(0,h.useMemo)((()=>x(n)),[n]),T=(e,t)=>({drawStyle:"bars",paths:y,lineInterpolation:"spline",show:!0,label:t,fill:e,stroke:e,width:2,spanGaps:!0,points:{size:5,show:!1,stroke:e}}),H=(0,h.useMemo)((()=>{var e,t,n;return[{label:"Timestamp",stroke:"purple"},T("#7CEDBE",null===(e=p.data.result[0])||void 0===e?void 0:e.legend),T("#4E74F8",null===(t=p.data.result[1])||void 0===t?void 0:t.legend),T("#F24769",null===(n=p.data.result[2])||void 0===n?void 0:n.legend)]}),[p.data.result]),M=(0,g.A)({isDarkMode:G,yAxisUnit:""}),j=(0,h.useMemo)((()=>{var e;return{id:"billing-usage-breakdown",series:H,width:L.width,height:L.height-30,axes:[{...M[0],grid:{...M.grid,show:!1,stroke:G?i.Q1.BG_VANILLA_400:i.Q1.BG_INK_400}},{...M[1],stroke:G?i.Q1.BG_SLATE_200:i.Q1.BG_INK_400}],scales:{x:{...(0,f.i)(k-86400,w)},y:{...(0,b.F)({series:null==p||null===(e=p.data)||void 0===e||null===(e=e.newResult)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.result,yAxisUnit:"",softMax:null,softMin:null})}},legend:{show:!0,live:!1,isolate:!0},cursor:{lock:!1,focus:{prox:1e6,bias:1}},focus:{alpha:.3},padding:[32,32,16,16],plugins:[(0,u.A)({apiResponse:(0,m.ey)(p,C[0]),yAxisUnit:"",isBillingUsageGraphs:!0,isDarkMode:G})]}}),[M,C,L.height,L.width,w,p,G,k,H]),U=new Intl.NumberFormat("en-US");return(0,v.jsxs)(o.A,{bordered:!1,className:"billing-graph-card",children:[(0,v.jsx)(l.A,{justify:"space-between",children:(0,v.jsxs)(l.A,{vertical:!0,gap:6,children:[(0,v.jsx)(r.A.Text,{className:"total-spent-title",children:"TOTAL SPENT"}),(0,v.jsxs)(r.A.Text,{color:i.Q1.BG_VANILLA_100,className:"total-spent",children:["$",U.format(a)]})]})}),(0,v.jsx)("div",{ref:B,style:{height:"100%",paddingBottom:48},children:(0,v.jsx)(s.A,{data:C,options:j})})]})}var G,L;C(B,"useMemo{graphCompatibleData}\nuseRef{graphRef}\nuseIsDarkMode{isDarkMode}\nuseResizeObserver{containerDimensions}\nuseMemo{{ startTime, endTime }}\nuseMemo{uPlotSeries: any}\nuseMemo{optionsForChart: uPlot.Options}",(()=>[d.hJ,c.w])),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(y,"paths","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.tsx"),G.register(x,"calculateStartEndTime","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.tsx"),G.register(B,"BillingUsageGraph","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.tsx")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},834802:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a,i=n(66314),o=n(974353),l=n.n(o);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=e=>l().unix(e).format(i.w.US_DATE),s=(e,t)=>{const n={metric:t,values:[],queryName:t,legend:t,quantity:[],unit:""};return e.find((e=>e.metric===t))||n},d=e=>{const t=(e=>{const t=s(e,"Metrics"),n=s(e,"Traces"),a=s(e,"Logs");return t.values.map((e=>e[0])).map(((e,i)=>{var o,l,s,d,c,u,g,p,A;return{date:r(e),metric:{total:null!==(o=t.quantity[i])&&void 0!==o?o:0,cost:null!==(l=null===(s=t.values[i])||void 0===s?void 0:s[1])&&void 0!==l?l:0},trace:{total:null!==(d=n.quantity[i])&&void 0!==d?d:0,cost:null!==(c=null===(u=n.values[i])||void 0===u?void 0:u[1])&&void 0!==c?c:0},log:{total:null!==(g=a.quantity[i])&&void 0!==g?g:0,cost:null!==(p=null===(A=a.values[i])||void 0===A?void 0:A[1])&&void 0!==p?p:0}}}))})(e),n=t.reduce(((e,t)=>(e.metric.total+=t.metric.total,e.metric.cost+=t.metric.cost,e.trace.total+=t.trace.total,e.trace.cost+=t.trace.cost,e.log.total+=t.log.total,e.log.cost+=t.log.cost,e)),{metric:{total:0,cost:0},trace:{total:0,cost:0},log:{total:0,cost:0}}),a=t.map((e=>({Date:e.date,"Metrics Vol (Mn samples)":parseFloat(e.metric.total.toFixed(2)),"Metrics Cost ($)":parseFloat(e.metric.cost.toFixed(2)),"Traces Vol (GBs)":parseFloat(e.trace.total.toFixed(2)),"Traces Cost ($)":parseFloat(e.trace.cost.toFixed(2)),"Logs Vol (GBs)":parseFloat(e.log.total.toFixed(2)),"Logs Cost ($)":parseFloat(e.log.cost.toFixed(2))})));return a.push({Date:"Total","Metrics Vol (Mn samples)":parseFloat(n.metric.total.toFixed(2)),"Metrics Cost ($)":parseFloat(n.metric.cost.toFixed(2)),"Traces Vol (GBs)":parseFloat(n.trace.total.toFixed(2)),"Traces Cost ($)":parseFloat(n.trace.cost.toFixed(2)),"Logs Vol (GBs)":parseFloat(n.log.total.toFixed(2)),"Logs Cost ($)":parseFloat(n.log.cost.toFixed(2))}),a},c=d,u=c;var g,p;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(r,"formatDate","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/generateCsvData.ts"),g.register(s,"getQuantityData","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/generateCsvData.ts"),g.register(d,"generateCsvData","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/generateCsvData.ts"),g.register(c,"default","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/generateCsvData.ts")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},107658:(e,t,n)=>{"use strict";n.d(t,{Qp:()=>h,cT:()=>g,ey:()=>A});var a,i=n(66314),o=n(974353),l=n.n(o),r=n(517537),s=n(566401),d=n(721395),c=n(744809),u=n(834802);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const g=e=>{const t={data:{newResult:{data:{result:[],resultType:""}},result:[],resultType:""}};if((0,s.A)(e))return t;const{details:{breakdown:n=[]}}=e||{};if((0,d.A)(n)||0===n.length)return t;const a=n.map((e=>{var t;const n=e.type,a=((null==e||null===(t=e.dayWiseBreakdown)||void 0===t?void 0:t.breakdown)||[]).sort(((e,t)=>e.timestamp-t.timestamp)),i=(a||[]).map((e=>[e.timestamp,e.total])),o=e.type,l=e.type,{unit:r}=e;return{metric:n,values:i,queryName:o,legend:l,quantity:a.map((e=>e.quantity)),unit:r}})).sort(((e,t)=>{const n=e.values.reduce(((e,t)=>e+t[1]),0),a=e.values.length?n/e.values.length:0,i=t.values.reduce(((e,t)=>e+t[1]),0),o=t.values.length?i/t.values.length:0;return n===i?o-a:i-n}));return{data:{newResult:{data:{result:a,resultType:""}},result:a,resultType:""}}};function p(e,t){const{result:n}=e.data,a=[];return n.forEach((e=>{const n={};e.values.forEach(((t,a)=>{n[t[0]]=e.quantity[a]}));const i=t.map((e=>{var t;return null!==(t=n[e])&&void 0!==t?t:null}));a.push({...e,quantity:i})})),a}function A(e,t){const n=p(e,t);return{data:{newResult:{data:{result:n,resultType:""}},result:n,resultType:""}}}const f=e=>l().unix(e).format(i.w.US_DATE);function b(e){if(!e.length)return"billing-usage.csv";const{values:t}=e[0],n=t.map((e=>e[0])),a=f(Math.min(...n)),i=f(Math.max(...n));return"billing_usage_(".concat(a,"-").concat(i,").csv")}function h(e){const t=g(e),n=p(t,(0,r.l)(t)[0]);return{csvData:(0,c.unparse)((0,u.A)(n)),fileName:b(n)}}var m,v;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(g,"convertDataToMetricRangePayload","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/utils.ts"),m.register(p,"quantityDataArr","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/utils.ts"),m.register(A,"fillMissingValuesForQuantities","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/utils.ts"),m.register(f,"formatDate","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/utils.ts"),m.register(b,"csvFileName","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/utils.ts"),m.register(h,"prepareCsvData","/home/ec2-user/signoz/frontend/src/container/BillingContainer/BillingUsageGraph/utils.ts")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},646005:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a,i=n(257536),o=n(412549);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const r=()=>{const{notifications:e}=(0,o.E$)();return t=>{i.A.isAxiosError(t)&&e.error({message:t.message})}};l(r,"useNotifications{{ notifications }}",(()=>[o.E$]));const s=r,d=s;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(r,"useAxiosError","/home/ec2-user/signoz/frontend/src/hooks/useAxiosError.tsx"),c.register(s,"default","/home/ec2-user/signoz/frontend/src/hooks/useAxiosError.tsx")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},499848:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(678526);var a,i=n(540602),o=n(474848);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(){return(0,o.jsx)("div",{className:"billingPageContainer",children:(0,o.jsx)(i.A,{})})}const r=l,s=r;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(l,"BillingPage","/home/ec2-user/signoz/frontend/src/pages/Billing/BillingPage.tsx"),d.register(r,"default","/home/ec2-user/signoz/frontend/src/pages/Billing/BillingPage.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},659336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a,i=n(499848);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=i.A,l=o;var r,s;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(o,"default","/home/ec2-user/signoz/frontend/src/pages/Billing/index.tsx"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},834633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(954991),i=n.n(a),o=n(576314),l=n.n(o)()(i());l.push([e.id,".billing-container{margin-bottom:40px;padding-top:36px;width:65%}.billing-container .billing-summary{margin:24px 8px}.billing-container .billing-details{margin:24px 0px}.billing-container .billing-details .ant-table-title{color:var(--bg-vanilla-400);background-color:#1b1c20}.billing-container .billing-details .ant-table-cell{background-color:var(--bg-ink-400);border-color:var(--bg-slate-500)}.billing-container .billing-details .ant-table-tbody td{border-color:var(--bg-slate-500)}.billing-container .upgrade-plan-benefits{margin:0px 8px;border:1px solid #333;border-radius:5px;padding:0 48px}.billing-container .upgrade-plan-benefits .plan-benefits .plan-benefit{display:flex;align-items:center;gap:16px;margin:16px 0}.billing-container .empty-graph-card .ant-card-body{height:40vh;display:flex;justify-content:center;align-items:center}.billing-container .billing-update-note{text-align:left;font-size:13px;color:var(--bg-vanilla-200);margin-top:16px}.ant-skeleton.ant-skeleton-element.ant-skeleton-active{width:100%;min-width:100%}.ant-skeleton.ant-skeleton-element .ant-skeleton-input{min-width:100% !important}.lightMode .billing-container .billing-details .ant-table-cell{background:var(--bg-vanilla-100);border-color:var(--bg-vanilla-200)}.lightMode .billing-container .billing-details .ant-table-tbody td{border-color:var(--bg-vanilla-200)}.lightMode .billing-container .billing-update-note{color:var(--bg-ink-200)}","",{version:3,sources:["webpack://src/container/BillingContainer/BillingContainer.styles.scss"],names:[],mappings:"AAAA,mBACC,kBAAA,CACA,gBAAA,CACA,SAAA,CAEA,oCACC,eAAA,CAGD,oCACC,eAAA,CAEA,qDACC,2BAAA,CACA,wBAAA,CAGD,oDACC,kCAAA,CACA,gCAAA,CAIA,wDACC,gCAAA,CAKH,0CACC,cAAA,CACA,qBAAA,CACA,iBAAA,CACA,cAAA,CAEC,uEACC,YAAA,CACA,kBAAA,CACA,QAAA,CACA,aAAA,CAMF,oDACC,WAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAIF,wCACC,eAAA,CACA,cAAA,CACA,2BAAA,CACA,eAAA,CAIF,uDACC,UAAA,CACA,cAAA,CAGD,uDACC,yBAAA,CAME,+DACC,gCAAA,CACA,kCAAA,CAIA,mEACC,kCAAA,CAKH,mDACC,uBAAA",sourcesContent:[".billing-container {\n\tmargin-bottom: 40px;\n\tpadding-top: 36px;\n\twidth: 65%;\n\n\t.billing-summary {\n\t\tmargin: 24px 8px;\n\t}\n\n\t.billing-details {\n\t\tmargin: 24px 0px;\n\n\t\t.ant-table-title {\n\t\t\tcolor: var(--bg-vanilla-400);\n\t\t\tbackground-color: rgb(27, 28, 32);\n\t\t}\n\n\t\t.ant-table-cell {\n\t\t\tbackground-color: var(--bg-ink-400);\n\t\t\tborder-color: var(--bg-slate-500);\n\t\t}\n\n\t\t.ant-table-tbody {\n\t\t\ttd {\n\t\t\t\tborder-color: var(--bg-slate-500);\n\t\t\t}\n\t\t}\n\t}\n\n\t.upgrade-plan-benefits {\n\t\tmargin: 0px 8px;\n\t\tborder: 1px solid #333;\n\t\tborder-radius: 5px;\n\t\tpadding: 0 48px;\n\t\t.plan-benefits {\n\t\t\t.plan-benefit {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 16px;\n\t\t\t\tmargin: 16px 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t.empty-graph-card {\n\t\t.ant-card-body {\n\t\t\theight: 40vh;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t}\n\t}\n\n\t.billing-update-note {\n\t\ttext-align: left;\n\t\tfont-size: 13px;\n\t\tcolor: var(--bg-vanilla-200);\n\t\tmargin-top: 16px;\n\t}\n}\n\n.ant-skeleton.ant-skeleton-element.ant-skeleton-active {\n\twidth: 100%;\n\tmin-width: 100%;\n}\n\n.ant-skeleton.ant-skeleton-element .ant-skeleton-input {\n\tmin-width: 100% !important;\n}\n\n.lightMode {\n\t.billing-container {\n\t\t.billing-details {\n\t\t\t.ant-table-cell {\n\t\t\t\tbackground: var(--bg-vanilla-100);\n\t\t\t\tborder-color: var(--bg-vanilla-200);\n\t\t\t}\n\n\t\t\t.ant-table-tbody {\n\t\t\t\ttd {\n\t\t\t\t\tborder-color: var(--bg-vanilla-200);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.billing-update-note {\n\t\t\tcolor: var(--bg-ink-200);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const r=l},30368:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(954991),i=n.n(a),o=n(576314),l=n.n(o)()(i());l.push([e.id,'.billing-graph-card .ant-card-body{height:40vh}.billing-graph-card .ant-card-body .uplot-graph-container{padding:8px}.billing-graph-card .total-spent{font-family:"SF Mono" monospace;font-size:16px;font-style:normal;font-weight:600;line-height:24px}.billing-graph-card .total-spent-title{font-size:12px;font-weight:500;line-height:22px;letter-spacing:.48px;color:rgba(255,255,255,.5)}.lightMode .total-spent-title{color:var(--bg-ink-100)}',"",{version:3,sources:["webpack://src/container/BillingContainer/BillingUsageGraph/BillingUsageGraph.styles.scss"],names:[],mappings:"AACC,mCACC,WAAA,CACA,0DACC,WAAA,CAGF,iCACC,+BAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CAGD,uCACC,cAAA,CACA,eAAA,CACA,gBAAA,CACA,oBAAA,CACA,0BAAA,CAKD,8BACC,uBAAA",sourcesContent:[".billing-graph-card {\n\t.ant-card-body {\n\t\theight: 40vh;\n\t\t.uplot-graph-container {\n\t\t\tpadding: 8px;\n\t\t}\n\t}\n\t.total-spent {\n\t\tfont-family: 'SF Mono' monospace;\n\t\tfont-size: 16px;\n\t\tfont-style: normal;\n\t\tfont-weight: 600;\n\t\tline-height: 24px;\n\t}\n\n\t.total-spent-title {\n\t\tfont-size: 12px;\n\t\tfont-weight: 500;\n\t\tline-height: 22px;\n\t\tletter-spacing: 0.48px;\n\t\tcolor: rgba(255, 255, 255, 0.5);\n\t}\n}\n\n.lightMode {\n\t.total-spent-title {\n\t\tcolor: var(--bg-ink-100);\n\t}\n}\n"],sourceRoot:""}]);const r=l},437279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(954991),i=n.n(a),o=n(576314),l=n.n(o)()(i());l.push([e.id,".billingPageContainer{display:flex;width:100%;color:#fff;justify-content:center;align-items:center}","",{version:3,sources:["webpack://src/pages/Billing/BillingPage.styles.scss"],names:[],mappings:"AAAA,sBACC,YAAA,CACA,UAAA,CACA,UAAA,CACA,sBAAA,CACA,kBAAA",sourcesContent:[".billingPageContainer {\n\tdisplay: flex;\n\twidth: 100%;\n\tcolor: #fff;\n\tjustify-content: center;\n\talign-items: center;\n}\n"],sourceRoot:""}]);const r=l},323424:(e,t,n)=>{var a=n(785072),i=n(834633);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o={insert:"head",singleton:!1};a(i,o);e.exports=i.locals||{}},962019:(e,t,n)=>{var a=n(785072),i=n(30368);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o={insert:"head",singleton:!1};a(i,o);e.exports=i.locals||{}},678526:(e,t,n)=>{var a=n(785072),i=n(437279);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o={insert:"head",singleton:!1};a(i,o);e.exports=i.locals||{}},63857:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(769084),i=n(217511);const o=function(e,t){return(0,a.A)(e,t,(function(t,n){return(0,i.A)(e,n)}))}},54991:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(63857);const i=(0,n(350416).A)((function(e,t){return null==e?{}:(0,a.A)(e,t)}))}}]);
//# sourceMappingURL=BillingPage.9cba69879e546786bf84.js.map