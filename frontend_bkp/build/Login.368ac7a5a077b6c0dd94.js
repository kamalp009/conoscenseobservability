!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4f2e1f63-2251-489c-b758-ce576519c2aa",e._sentryDebugIdIdentifier="sentry-dbid-4f2e1f63-2251-489c-b758-ce576519c2aa")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["Login"],{285100:(e,t,o)=>{o.d(t,{A:()=>d});var r,n=o(6012),a=o(481281);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async e=>{try{const t=await n.Ay.get("/loginPrecheck?email=".concat(encodeURIComponent(e.email),"&ref=").concat(encodeURIComponent(window.location.href)));return{statusCode:200,error:null,message:t.statusText,payload:t.data.data}}catch(t){return(0,a.m)(t)}},i=s,d=i;var l,c;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(s,"loginPrecheck","/home/ec2-user/signoz/frontend/src/api/v1/login/loginPrecheck.ts"),l.register(i,"default","/home/ec2-user/signoz/frontend/src/api/v1/login/loginPrecheck.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},319079:(e,t,o)=>{o.d(t,{A:()=>p});var r,n=o(167313),a=o(790070),s=o(377278),i=o(218492),d=o(304211),l=o(474848);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Title:u}=n.A;function f(e){let{version:t,children:o}=e;const{t:r}=(0,i.B)();return(0,l.jsxs)(d.mc,{children:[(0,l.jsxs)(d.RN,{direction:"vertical",children:[(0,l.jsxs)(a.A,{align:"center",children:[(0,l.jsx)(d.gu,{src:"/Logos/signoz-brand-logo.svg",alt:"logo"}),(0,l.jsx)(u,{style:{fontSize:"46px",margin:0},children:"SigNoz"})]}),(0,l.jsx)(n.A,{children:r("monitor_signup")}),(0,l.jsxs)(s.A,{style:{width:"max-content"},bodyStyle:{padding:"1px 8px",width:"100%"},children:["SigNoz ",t]})]}),o]})}c(f,"useTranslation{{ t }}",(()=>[i.B]));const g=f,p=g;var h,m;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(u,"Title","/home/ec2-user/signoz/frontend/src/components/WelcomeLeftContainer/index.tsx"),h.register(f,"WelcomeLeftContainer","/home/ec2-user/signoz/frontend/src/components/WelcomeLeftContainer/index.tsx"),h.register(g,"default","/home/ec2-user/signoz/frontend/src/components/WelcomeLeftContainer/index.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},304211:(e,t,o)=>{o.d(t,{RN:()=>c,gu:()=>u,mc:()=>f});var r,n,a,s,i=o(790070),d=o(38267);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=(0,d.Ay)(i.A)(r||(r=l(["\n\tflex: 1;\n"]))),u=d.Ay.img(n||(n=l(["\n\twidth: 60px;\n"]))),f=d.Ay.div(a||(a=l(["\n\t&&& {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tgap: 16px;\n\t\talign-items: center;\n\t\tmin-height: 100vh;\n\n\t\tmax-width: 1024px;\n\t\tmargin: 0 auto;\n\t}\n"])));var g,p;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(c,"LeftContainer","/home/ec2-user/signoz/frontend/src/components/WelcomeLeftContainer/styles.ts"),g.register(u,"Logo","/home/ec2-user/signoz/frontend/src/components/WelcomeLeftContainer/styles.ts"),g.register(f,"Container","/home/ec2-user/signoz/frontend/src/components/WelcomeLeftContainer/styles.ts")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},396603:(e,t,o)=>{o.d(t,{A:()=>z});var r,n=o(167313),a=o(760742),s=o(650400),i=o(779888),d=o(832099),l=o(790070),c=o(367516),u=o(943984),f=o(161459),g=o(285100),p=o(436055),h=o(564444),m=o(232601),y=o(521587),b=o(412549),L=o(291815),x=o(607363),A=o(296540),v=o(218492),w=o(775942),G=o(92023),H=o(474848);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var _="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Title:j}=n.A;function C(e){let{jwt:t,refreshjwt:o,userId:r,ssoerror:_="",withPassword:C="0"}=e;const{t:U}=(0,v.B)(["login"]),[z,E]=(0,A.useState)(!1),{user:I}=(0,x.Us)(),[P,T]=(0,A.useState)({sso:!1,ssoUrl:"",canSelfRegister:!1,isUser:!0}),[k,S]=(0,A.useState)(!1),[M,R]=(0,A.useState)(!1),{notifications:F}=(0,b.E$)(),N=(0,w.useQuery)({queryFn:p.A,queryKey:["getUserVersion",null==I?void 0:I.accessJwt],enabled:!0});(0,A.useEffect)((()=>{if(N.isFetched&&N.data&&N.data.payload){const{setupCompleted:e}=N.data.payload;e||L.A.push(y.A.SIGN_UP)}}),[N]);const[q]=a.A.useForm();(0,A.useEffect)((()=>{"Y"===C&&R(!0)}),[C]),(0,A.useEffect)((()=>{!async function(){if(t&&""!==t){E(!0),await(0,h.A)(r,t,o),E(!1);const e=(0,c.A)(m.n.UNAUTHENTICATED_ROUTE_HIT);e?(L.A.push(e),(0,u.A)(m.n.UNAUTHENTICATED_ROUTE_HIT,"")):L.A.push(y.A.APPLICATION)}}()}),[t,o,r]),(0,A.useEffect)((()=>{""!==_&&F.error({message:U("failed_to_login")})}),[_,U,F]);const O=async()=>{const e=q.getFieldValue("email");if(e){S(!0);try{const t=await(0,g.A)({email:e});if(200===t.statusCode){T({...P,...t.payload});const{isUser:e}=t.payload;e?R(!0):F.error({message:U("invalid_account")})}else F.error({message:U("invalid_config")})}catch(t){console.log("failed to call precheck Api",t),F.error({message:U("unexpected_error")})}S(!1)}else F.error({message:U("invalid_email")})},{sso:W,canSelfRegister:Q}=P;return(0,H.jsx)(G._H,{children:(0,H.jsxs)(G.MG,{form:q,onFinish:async()=>{try{const{email:e,password:t}=q.getFieldsValue();if(!M)return void O();if(M&&W)return void(window.location.href=P.ssoUrl||"");E(!0);const o=await(0,f.A)({email:e,password:t});(0,h.A)(o.data.userId,o.data.accessJwt,o.data.refreshJwt),E(!1)}catch(e){E(!1),F.error({message:e.getErrorCode(),description:e.getErrorMessage()})}},children:[(0,H.jsx)(j,{level:4,children:U("login_page_title")}),(0,H.jsxs)(G.q,{children:[(0,H.jsx)(G.JU,{htmlFor:"signupEmail",children:U("label_email")}),(0,H.jsx)(G.MG.Item,{name:"email",children:(0,H.jsx)(i.A,{type:"email",id:"loginEmail","data-testid":"email",required:!0,placeholder:U("placeholder_email"),autoFocus:!0,disabled:z})})]}),M&&!W&&(0,H.jsxs)(G.q,{children:[(0,H.jsx)(G.JU,{htmlFor:"Password",children:U("label_password")}),(0,H.jsx)(G.MG.Item,{name:"password",children:(0,H.jsx)(i.A.Password,{required:!0,id:"currentPassword","data-testid":"password",disabled:z})}),(0,H.jsx)(d.A,{title:U("prompt_forgot_password"),children:(0,H.jsx)(n.A.Link,{children:U("forgot_password")})})]}),(0,H.jsxs)(l.A,{style:{marginTop:"1.3125rem"},align:"start",direction:"vertical",size:20,children:[!M&&(0,H.jsx)(s.Ay,{disabled:k,loading:k,type:"primary",onClick:O,"data-testid":"initiate_login",children:U("button_initiate_login")}),M&&!W&&(0,H.jsx)(s.Ay,{disabled:z,loading:z,type:"primary",htmlType:"submit","data-attr":"signup",children:U("button_login")}),M&&W&&(0,H.jsx)(s.Ay,{type:"primary",loading:z,disabled:z,href:P.ssoUrl,children:U("login_with_sso")}),!M&&_&&(_?(0,H.jsxs)(n.A.Paragraph,{italic:!0,style:{color:"#ACACAC"},children:[U("prompt_on_sso_error")," ",(0,H.jsx)("a",{href:"/login?password=Y",children:U("login_with_pwd")}),"."]}):null),!Q&&(0,H.jsx)(n.A.Paragraph,{italic:!0,style:{color:"#ACACAC"},children:U("prompt_no_account")}),Q&&(0,H.jsxs)(n.A.Paragraph,{italic:!0,style:{color:"#ACACAC"},children:[U("prompt_if_admin")," ",(0,H.jsx)(n.A.Link,{onClick:()=>{L.A.push(y.A.SIGN_UP)},style:{fontWeight:700},children:U("create_an_account")})]})]})]})})}_(C,"useTranslation{{ t }}\nuseState{[isLoading, setIsLoading](false)}\nuseAppContext{{ user }}\nuseState{[precheckResult, setPrecheckResult]({\n\t\tsso: false,\n\t\tssoUrl: '',\n\t\tcanSelfRegister: false,\n\t\tisUser: true,\n\t})}\nuseState{[precheckInProcess, setPrecheckInProcess](false)}\nuseState{[precheckComplete, setPrecheckComplete](false)}\nuseNotifications{{ notifications }}\nuseQuery{getUserVersionResponse}\nuseEffect{}\nuseForm{[form]}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(()=>[v.B,x.Us,b.E$,w.useQuery]));const U=C,z=U;var E,I;(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(j,"Title","/home/ec2-user/signoz/frontend/src/container/Login/index.tsx"),E.register(C,"Login","/home/ec2-user/signoz/frontend/src/container/Login/index.tsx"),E.register(U,"default","/home/ec2-user/signoz/frontend/src/container/Login/index.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},92023:(e,t,o)=>{o.d(t,{JU:()=>g,MG:()=>p,_H:()=>f,q:()=>h});var r,n,a,s,i,d=o(377278),l=o(760742),c=o(38267);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const f=(0,c.Ay)(d.A)(r||(r=u(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tmin-width: 390px;\n\tmin-height: 430px;\n\tmax-width: 432px;\n\tflex: 1;\n\talign-items: flex-start;\n\t&&&.ant-card-body {\n\t\tmin-width: 100%;\n\t}\n"]))),g=c.Ay.label(n||(n=u(["\n\tmargin-bottom: 11px;\n\tmargin-top: 19px;\n\tdisplay: inline-block;\n\tfont-size: 1rem;\n\tline-height: 24px;\n"]))),p=(0,c.Ay)(l.A)(a||(a=u(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\twidth: 100%;\n\n\t& .ant-form-item {\n\t\tmargin-bottom: 0px;\n\t}\n"]))),h=c.Ay.div(s||(s=u(["\n\twidth: 100%;\n"])));var m,y;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(f,"FormWrapper","/home/ec2-user/signoz/frontend/src/container/Login/styles.ts"),m.register(g,"Label","/home/ec2-user/signoz/frontend/src/container/Login/styles.ts"),m.register(p,"FormContainer","/home/ec2-user/signoz/frontend/src/container/Login/styles.ts"),m.register(h,"ParentContainer","/home/ec2-user/signoz/frontend/src/container/Login/styles.ts")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},170058:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var r,n=o(167313),a=o(436055),s=o(847578),i=o(319079),d=o(396603),l=o(344864),c=o(607363),u=o(218492),f=o(775942),g=o(474848);function p(){const{isLoggedIn:e}=(0,c.Us)(),{t}=(0,u.B)(),o=(0,l.A)(),r=o.get("jwt")||"",p=o.get("refreshjwt")||"",h=o.get("usr")||"",m=o.get("ssoerror")||"",y=o.get("password")||"",b=(0,f.useQuery)({queryFn:a.A,queryKey:["getUserVersion",r],enabled:!e});var L;if("error"===b.status||"success"===b.status&&200!==(null==b?void 0:b.data.statusCode))return(0,g.jsx)(n.A,{children:(null===(L=b.data)||void 0===L?void 0:L.error)||t("something_went_wrong")});if("loading"===b.status||!b.data||!b.data.payload)return(0,g.jsx)(s.A,{tip:"Loading..."});const{version:x}=b.data.payload;return(0,g.jsx)(i.A,{version:x,children:(0,g.jsx)(d.A,{ssoerror:m,jwt:r,refreshjwt:p,userId:h,withPassword:y})})}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(p,"useAppContext{{ isLoggedIn }}\nuseTranslation{{ t }}\nuseURLQuery{urlQueryParams}\nuseQuery{versionResult}",(()=>[c.Us,u.B,l.A,f.useQuery]));const h=p,m=h;var y,b;(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(p,"Login","/home/ec2-user/signoz/frontend/src/pages/Login/index.tsx"),y.register(h,"default","/home/ec2-user/signoz/frontend/src/pages/Login/index.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}}]);
//# sourceMappingURL=Login.368ac7a5a077b6c0dd94.js.map