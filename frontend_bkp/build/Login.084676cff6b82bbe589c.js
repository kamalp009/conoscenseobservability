!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0646b8ce-b65d-4568-8c53-dbfb3937e39b",e._sentryDebugIdIdentifier="sentry-dbid-0646b8ce-b65d-4568-8c53-dbfb3937e39b")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["Login"],{285100:(e,t,o)=>{o.d(t,{A:()=>d});var n,r=o(6012),a=o(481281);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async e=>{try{const t=await r.Ay.get("/loginPrecheck?email=".concat(encodeURIComponent(e.email),"&ref=").concat(encodeURIComponent(window.location.href)));return{statusCode:200,error:null,message:t.statusText,payload:t.data.data}}catch(t){return(0,a.m)(t)}},i=s,d=i;var l,c;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(s,"loginPrecheck","/home/ec2-user/conoscene/frontend_bkp/src/api/v1/login/loginPrecheck.ts"),l.register(i,"default","/home/ec2-user/conoscene/frontend_bkp/src/api/v1/login/loginPrecheck.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},319079:(e,t,o)=>{o.d(t,{A:()=>g});var n,r=o(167313),a=o(790070),s=o(377278),i=o(218492),d=o(304211),l=o(474848);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Title:u}=r.A;function f(e){let{version:t,children:o}=e;const{t:n}=(0,i.B)();return(0,l.jsxs)(d.mc,{children:[(0,l.jsxs)(d.RN,{direction:"vertical",children:[(0,l.jsxs)(a.A,{align:"center",children:[(0,l.jsx)(d.gu,{src:"/Logos/signoz-brand-logo.svg",alt:"logo"}),(0,l.jsx)(u,{style:{fontSize:"46px",margin:0},children:"SigNoz"})]}),(0,l.jsx)(r.A,{children:n("monitor_signup")}),(0,l.jsxs)(s.A,{style:{width:"max-content"},bodyStyle:{padding:"1px 8px",width:"100%"},children:["SigNoz ",t]})]}),o]})}c(f,"useTranslation{{ t }}",(()=>[i.B]));const p=f,g=p;var b,h;(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(u,"Title","/home/ec2-user/conoscene/frontend_bkp/src/components/WelcomeLeftContainer/index.tsx"),b.register(f,"WelcomeLeftContainer","/home/ec2-user/conoscene/frontend_bkp/src/components/WelcomeLeftContainer/index.tsx"),b.register(p,"default","/home/ec2-user/conoscene/frontend_bkp/src/components/WelcomeLeftContainer/index.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},304211:(e,t,o)=>{o.d(t,{RN:()=>c,gu:()=>u,mc:()=>f});var n,r,a,s,i=o(790070),d=o(38267);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=(0,d.Ay)(i.A)(n||(n=l(["\n\tflex: 1;\n"]))),u=d.Ay.img(r||(r=l(["\n\twidth: 60px;\n"]))),f=d.Ay.div(a||(a=l(["\n\t&&& {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tgap: 16px;\n\t\talign-items: center;\n\t\tmin-height: 100vh;\n\n\t\tmax-width: 1024px;\n\t\tmargin: 0 auto;\n\t}\n"])));var p,g;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(c,"LeftContainer","/home/ec2-user/conoscene/frontend_bkp/src/components/WelcomeLeftContainer/styles.ts"),p.register(u,"Logo","/home/ec2-user/conoscene/frontend_bkp/src/components/WelcomeLeftContainer/styles.ts"),p.register(f,"Container","/home/ec2-user/conoscene/frontend_bkp/src/components/WelcomeLeftContainer/styles.ts")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},396603:(e,t,o)=>{o.d(t,{A:()=>U});var n,r=o(167313),a=o(760742),s=o(650400),i=o(779888),d=o(832099),l=o(790070),c=o(367516),u=o(943984),f=o(161459),p=o(285100),g=o(436055),b=o(564444),h=o(232601),m=o(521587),y=o(412549),L=o(291815),x=o(607363),A=o(296540),_=o(218492),v=o(775942),w=o(92023),G=o(474848);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Title:j}=r.A;function k(e){let{jwt:t,refreshjwt:o,userId:n,ssoerror:H="",withPassword:k="0"}=e;const{t:C}=(0,_.B)(["login"]),[U,E]=(0,A.useState)(!1),{user:I}=(0,x.Us)(),[P,T]=(0,A.useState)({sso:!1,ssoUrl:"",canSelfRegister:!1,isUser:!0}),[S,M]=(0,A.useState)(!1),[R,F]=(0,A.useState)(!1),{notifications:N}=(0,y.E$)(),z=(0,v.useQuery)({queryFn:g.A,queryKey:["getUserVersion",null==I?void 0:I.accessJwt],enabled:!0});(0,A.useEffect)((()=>{if(z.isFetched&&z.data&&z.data.payload){const{setupCompleted:e}=z.data.payload;e||L.A.push(m.A.SIGN_UP)}}),[z]);const[q]=a.A.useForm();(0,A.useEffect)((()=>{"Y"===k&&F(!0)}),[k]),(0,A.useEffect)((()=>{!async function(){if(t&&""!==t){E(!0),await(0,b.A)(n,t,o),E(!1);const e=(0,c.A)(h.n.UNAUTHENTICATED_ROUTE_HIT);e?(L.A.push(e),(0,u.A)(h.n.UNAUTHENTICATED_ROUTE_HIT,"")):L.A.push(m.A.APPLICATION)}}()}),[t,o,n]),(0,A.useEffect)((()=>{""!==H&&N.error({message:C("failed_to_login")})}),[H,C,N]);const O=async()=>{const e=q.getFieldValue("email");if(e){M(!0);try{const t=await(0,p.A)({email:e});if(200===t.statusCode){T({...P,...t.payload});const{isUser:e}=t.payload;e?F(!0):N.error({message:C("invalid_account")})}else N.error({message:C("invalid_config")})}catch(t){console.log("failed to call precheck Api",t),N.error({message:C("unexpected_error")})}M(!1)}else N.error({message:C("invalid_email")})},{sso:W,canSelfRegister:Q}=P;return(0,G.jsx)(w._H,{children:(0,G.jsxs)(w.MG,{form:q,onFinish:async()=>{try{const{email:e,password:t}=q.getFieldsValue();if(!R)return void O();if(R&&W)return void(window.location.href=P.ssoUrl||"");E(!0);const o=await(0,f.A)({email:e,password:t});(0,b.A)(o.data.userId,o.data.accessJwt,o.data.refreshJwt),E(!1)}catch(e){E(!1),N.error({message:e.getErrorCode(),description:e.getErrorMessage()})}},children:[(0,G.jsx)(j,{level:4,children:C("login_page_title")}),(0,G.jsxs)(w.q,{children:[(0,G.jsx)(w.JU,{htmlFor:"signupEmail",children:C("label_email")}),(0,G.jsx)(w.MG.Item,{name:"email",children:(0,G.jsx)(i.A,{type:"email",id:"loginEmail","data-testid":"email",required:!0,placeholder:C("placeholder_email"),autoFocus:!0,disabled:U})})]}),R&&!W&&(0,G.jsxs)(w.q,{children:[(0,G.jsx)(w.JU,{htmlFor:"Password",children:C("label_password")}),(0,G.jsx)(w.MG.Item,{name:"password",children:(0,G.jsx)(i.A.Password,{required:!0,id:"currentPassword","data-testid":"password",disabled:U})}),(0,G.jsx)(d.A,{title:C("prompt_forgot_password"),children:(0,G.jsx)(r.A.Link,{children:C("forgot_password")})})]}),(0,G.jsxs)(l.A,{style:{marginTop:"1.3125rem"},align:"start",direction:"vertical",size:20,children:[!R&&(0,G.jsx)(s.Ay,{disabled:S,loading:S,type:"primary",onClick:O,"data-testid":"initiate_login",children:C("button_initiate_login")}),R&&!W&&(0,G.jsx)(s.Ay,{disabled:U,loading:U,type:"primary",htmlType:"submit","data-attr":"signup",children:C("button_login")}),R&&W&&(0,G.jsx)(s.Ay,{type:"primary",loading:U,disabled:U,href:P.ssoUrl,children:C("login_with_sso")}),!R&&H&&(H?(0,G.jsxs)(r.A.Paragraph,{italic:!0,style:{color:"#ACACAC"},children:[C("prompt_on_sso_error")," ",(0,G.jsx)("a",{href:"/login?password=Y",children:C("login_with_pwd")}),"."]}):null),!Q&&(0,G.jsx)(r.A.Paragraph,{italic:!0,style:{color:"#ACACAC"},children:C("prompt_no_account")}),Q&&(0,G.jsxs)(r.A.Paragraph,{italic:!0,style:{color:"#ACACAC"},children:[C("prompt_if_admin")," ",(0,G.jsx)(r.A.Link,{onClick:()=>{L.A.push(m.A.SIGN_UP)},style:{fontWeight:700},children:C("create_an_account")})]})]})]})})}H(k,"useTranslation{{ t }}\nuseState{[isLoading, setIsLoading](false)}\nuseAppContext{{ user }}\nuseState{[precheckResult, setPrecheckResult]({\n\t\tsso: false,\n\t\tssoUrl: '',\n\t\tcanSelfRegister: false,\n\t\tisUser: true,\n\t})}\nuseState{[precheckInProcess, setPrecheckInProcess](false)}\nuseState{[precheckComplete, setPrecheckComplete](false)}\nuseNotifications{{ notifications }}\nuseQuery{getUserVersionResponse}\nuseEffect{}\nuseForm{[form]}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(()=>[_.B,x.Us,y.E$,v.useQuery]));const C=k,U=C;var E,I;(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(j,"Title","/home/ec2-user/conoscene/frontend_bkp/src/container/Login/index.tsx"),E.register(k,"Login","/home/ec2-user/conoscene/frontend_bkp/src/container/Login/index.tsx"),E.register(C,"default","/home/ec2-user/conoscene/frontend_bkp/src/container/Login/index.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},92023:(e,t,o)=>{o.d(t,{JU:()=>p,MG:()=>g,_H:()=>f,q:()=>b});var n,r,a,s,i,d=o(377278),l=o(760742),c=o(38267);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const f=(0,c.Ay)(d.A)(n||(n=u(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tmin-width: 390px;\n\tmin-height: 430px;\n\tmax-width: 432px;\n\tflex: 1;\n\talign-items: flex-start;\n\t&&&.ant-card-body {\n\t\tmin-width: 100%;\n\t}\n"]))),p=c.Ay.label(r||(r=u(["\n\tmargin-bottom: 11px;\n\tmargin-top: 19px;\n\tdisplay: inline-block;\n\tfont-size: 1rem;\n\tline-height: 24px;\n"]))),g=(0,c.Ay)(l.A)(a||(a=u(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\twidth: 100%;\n\n\t& .ant-form-item {\n\t\tmargin-bottom: 0px;\n\t}\n"]))),b=c.Ay.div(s||(s=u(["\n\twidth: 100%;\n"])));var h,m;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(f,"FormWrapper","/home/ec2-user/conoscene/frontend_bkp/src/container/Login/styles.ts"),h.register(p,"Label","/home/ec2-user/conoscene/frontend_bkp/src/container/Login/styles.ts"),h.register(g,"FormContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/Login/styles.ts"),h.register(b,"ParentContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/Login/styles.ts")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},170058:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var n,r=o(167313),a=o(436055),s=o(847578),i=o(319079),d=o(396603),l=o(344864),c=o(607363),u=o(218492),f=o(775942),p=o(474848);function g(){const{isLoggedIn:e}=(0,c.Us)(),{t}=(0,u.B)(),o=(0,l.A)(),n=o.get("jwt")||"",g=o.get("refreshjwt")||"",b=o.get("usr")||"",h=o.get("ssoerror")||"",m=o.get("password")||"",y=(0,f.useQuery)({queryFn:a.A,queryKey:["getUserVersion",n],enabled:!e});var L;if("error"===y.status||"success"===y.status&&200!==(null==y?void 0:y.data.statusCode))return(0,p.jsx)(r.A,{children:(null===(L=y.data)||void 0===L?void 0:L.error)||t("something_went_wrong")});if("loading"===y.status||!y.data||!y.data.payload)return(0,p.jsx)(s.A,{tip:"Loading..."});const{version:x}=y.data.payload;return(0,p.jsx)(i.A,{version:x,children:(0,p.jsx)(d.A,{ssoerror:h,jwt:n,refreshjwt:g,userId:b,withPassword:m})})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(g,"useAppContext{{ isLoggedIn }}\nuseTranslation{{ t }}\nuseURLQuery{urlQueryParams}\nuseQuery{versionResult}",(()=>[c.Us,u.B,l.A,f.useQuery]));const b=g,h=b;var m,y;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(g,"Login","/home/ec2-user/conoscene/frontend_bkp/src/pages/Login/index.tsx"),m.register(b,"default","/home/ec2-user/conoscene/frontend_bkp/src/pages/Login/index.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)}}]);
//# sourceMappingURL=Login.084676cff6b82bbe589c.js.map