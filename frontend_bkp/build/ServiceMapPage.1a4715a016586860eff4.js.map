{"version":3,"file":"ServiceMapPage.1a4715a016586860eff4.js","mappings":"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","sources":["webpack://frontend/./src/components/TextToolTip/TextToolTip.tsx","webpack://frontend/./src/components/TextToolTip/constant.ts","webpack://frontend/./src/components/TextToolTip/index.tsx","webpack://frontend/./src/container/ResourceAttributesFilter/ResourceAttributesFilter.tsx","webpack://frontend/./src/container/ResourceAttributesFilter/components/QueryChip/QueryChip.tsx","webpack://frontend/./src/container/ResourceAttributesFilter/components/QueryChip/index.ts","webpack://frontend/./src/container/ResourceAttributesFilter/index.ts","webpack://frontend/./src/container/ResourceAttributesFilter/styles.ts","webpack://frontend/./src/modules/Servicemap/Map.tsx","webpack://frontend/./src/modules/Servicemap/ServiceMap.tsx","webpack://frontend/./src/modules/Servicemap/index.tsx","webpack://frontend/./src/modules/Servicemap/utils.ts","webpack://frontend/./src/components/TextToolTip/TextToolTip.style.scss","webpack://frontend/./src/container/ResourceAttributesFilter/ResourceAttributesFilter.styles.scss","webpack://frontend/./src/components/TextToolTip/TextToolTip.style.scss?1fd1","webpack://frontend/./src/container/ResourceAttributesFilter/ResourceAttributesFilter.styles.scss?da08"],"sourcesContent":["import './TextToolTip.style.scss';\n\nimport { blue, grey } from '@ant-design/colors';\nimport {\n\tQuestionCircleFilled,\n\tQuestionCircleOutlined,\n} from '@ant-design/icons';\nimport { Tooltip } from 'antd';\nimport { themeColors } from 'constants/theme';\nimport { useIsDarkMode } from 'hooks/useDarkMode';\nimport { useMemo } from 'react';\n\nimport { style } from './constant';\n\nfunction TextToolTip({\n\ttext,\n\turl,\n\tuseFilledIcon = true,\n\turlText,\n}: TextToolTipProps): JSX.Element {\n\tconst isDarkMode = useIsDarkMode();\n\n\tconst onClickHandler = (\n\t\tevent: React.MouseEvent<HTMLAnchorElement, MouseEvent>,\n\t): void => {\n\t\tevent.stopPropagation();\n\t};\n\n\tconst overlay = useMemo(\n\t\t() => (\n\t\t\t<div className=\"overlay--text-wrap\">\n\t\t\t\t{`${text} `}\n\t\t\t\t{url && (\n\t\t\t\t\t<a\n\t\t\t\t\t\t// Stopping event propagation on click so that parent click listener are not triggered\n\t\t\t\t\t\tonClick={onClickHandler}\n\t\t\t\t\t\thref={url}\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{urlText || 'here'}\n\t\t\t\t\t</a>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t),\n\t\t[text, url, urlText],\n\t);\n\n\tconst iconStyle = useMemo(\n\t\t() => ({\n\t\t\t...style,\n\t\t\tcolor: isDarkMode ? themeColors.whiteCream : grey[0],\n\t\t}),\n\t\t[isDarkMode],\n\t);\n\n\tconst iconOutlinedStyle = useMemo(\n\t\t() => ({\n\t\t\t...style,\n\t\t\tcolor: isDarkMode ? themeColors.navyBlue : blue[6],\n\t\t}),\n\t\t[isDarkMode],\n\t);\n\n\treturn (\n\t\t<Tooltip overlay={overlay}>\n\t\t\t{useFilledIcon ? (\n\t\t\t\t<QuestionCircleFilled style={iconStyle} />\n\t\t\t) : (\n\t\t\t\t<QuestionCircleOutlined style={iconOutlinedStyle} />\n\t\t\t)}\n\t\t</Tooltip>\n\t);\n}\n\nTextToolTip.defaultProps = {\n\turl: '',\n\turlText: '',\n\tuseFilledIcon: true,\n};\ninterface TextToolTipProps {\n\turl?: string;\n\ttext: string;\n\tuseFilledIcon?: boolean;\n\turlText?: string;\n}\n\nexport default TextToolTip;\n","export const style = { fontSize: '1rem' };\n","import TextToolTip from './TextToolTip';\n\nexport default TextToolTip;\n","import './ResourceAttributesFilter.styles.scss';\n\nimport { CloseCircleFilled } from '@ant-design/icons';\nimport { Button, Select, Spin } from 'antd';\nimport useResourceAttribute, {\n\tisResourceEmpty,\n} from 'hooks/useResourceAttribute';\nimport {\n\tconvertMetricKeyToTrace,\n\tgetEnvironmentTagKeys,\n\tgetEnvironmentTagValues,\n\tgetResourceDeploymentKeys,\n} from 'hooks/useResourceAttribute/utils';\nimport { ReactNode, useEffect, useMemo, useState } from 'react';\nimport { SelectOption } from 'types/common/select';\nimport { popupContainer } from 'utils/selectPopupContainer';\nimport { v4 as uuid } from 'uuid';\n\nimport { FeatureKeys } from '../../constants/features';\nimport { useAppContext } from '../../providers/App/App';\nimport QueryChip from './components/QueryChip';\nimport { QueryChipItem, SearchContainer } from './styles';\n\nfunction ResourceAttributesFilter({\n\tsuffixIcon,\n}: ResourceAttributesFilterProps): JSX.Element | null {\n\tconst {\n\t\tqueries,\n\t\tstaging,\n\t\thandleClose,\n\t\thandleBlur,\n\t\thandleClearAll,\n\t\thandleFocus,\n\t\thandleChange,\n\t\thandleEnvironmentChange,\n\t\tselectedQuery,\n\t\toptionsData,\n\t\tloading,\n\t} = useResourceAttribute();\n\n\tconst [environments, setEnvironments] = useState<\n\t\tSelectOption<string, string>[]\n\t>([]);\n\n\tconst { featureFlags } = useAppContext();\n\tconst dotMetricsEnabled =\n\t\tfeatureFlags?.find((flag) => flag.name === FeatureKeys.DOT_METRICS_ENABLED)\n\t\t\t?.active || false;\n\n\tconst resourceDeploymentKey = getResourceDeploymentKeys(dotMetricsEnabled);\n\n\tconst [selectedEnvironments, setSelectedEnvironments] = useState<string[]>([]);\n\n\tconst queriesExcludingEnvironment = useMemo(\n\t\t() => queries.filter((query) => query.tagKey !== resourceDeploymentKey),\n\t\t[queries, resourceDeploymentKey],\n\t);\n\n\tconst isEmpty = useMemo(\n\t\t() => isResourceEmpty(queriesExcludingEnvironment, staging, selectedQuery),\n\t\t[queriesExcludingEnvironment, selectedQuery, staging],\n\t);\n\tuseEffect(() => {\n\t\tconst resourceDeploymentEnvironmentQuery = queries.filter(\n\t\t\t(query) => query.tagKey === resourceDeploymentKey,\n\t\t);\n\n\t\tif (resourceDeploymentEnvironmentQuery?.length > 0) {\n\t\t\tsetSelectedEnvironments(resourceDeploymentEnvironmentQuery[0].tagValue);\n\t\t} else {\n\t\t\tsetSelectedEnvironments([]);\n\t\t}\n\t}, [queries, resourceDeploymentKey]);\n\n\tuseEffect(() => {\n\t\tgetEnvironmentTagKeys(dotMetricsEnabled).then((tagKeys) => {\n\t\t\tif (tagKeys && Array.isArray(tagKeys) && tagKeys.length > 0) {\n\t\t\t\tgetEnvironmentTagValues(dotMetricsEnabled).then((tagValues) => {\n\t\t\t\t\tsetEnvironments(tagValues);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}, [dotMetricsEnabled]);\n\n\treturn (\n\t\t<div className=\"resourceAttributesFilter-container\">\n\t\t\t<div className=\"environment-selector\">\n\t\t\t\t<Select\n\t\t\t\t\tgetPopupContainer={popupContainer}\n\t\t\t\t\tkey={selectedEnvironments.join('')}\n\t\t\t\t\tshowSearch\n\t\t\t\t\tmode=\"multiple\"\n\t\t\t\t\tvalue={selectedEnvironments}\n\t\t\t\t\tplaceholder=\"Select Environment/s\"\n\t\t\t\t\tdata-testid=\"resource-environment-filter\"\n\t\t\t\t\tstyle={{ minWidth: 200, height: 34 }}\n\t\t\t\t\tonChange={handleEnvironmentChange}\n\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t>\n\t\t\t\t\t{environments.map((opt) => (\n\t\t\t\t\t\t<Select.Option key={opt.value} value={opt.value}>\n\t\t\t\t\t\t\t{opt.label}\n\t\t\t\t\t\t</Select.Option>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</div>\n\n\t\t\t<div className=\"resource-attributes-selector\">\n\t\t\t\t<SearchContainer>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{queriesExcludingEnvironment.map((query) => (\n\t\t\t\t\t\t\t<QueryChip key={query.id} queryData={query} onClose={handleClose} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{staging.map((query, idx) => (\n\t\t\t\t\t\t\t<QueryChipItem key={uuid()}>\n\t\t\t\t\t\t\t\t{idx === 0 ? convertMetricKeyToTrace(query) : query}\n\t\t\t\t\t\t\t</QueryChipItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tgetPopupContainer={popupContainer}\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t!isEmpty && 'Search and Filter based on resource attributes.'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tbordered={false}\n\t\t\t\t\t\tvalue={selectedQuery as never}\n\t\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\t\toptions={optionsData.options}\n\t\t\t\t\t\tmode={optionsData?.mode}\n\t\t\t\t\t\tdata-testid=\"resource-attributes-filter\"\n\t\t\t\t\t\tonClick={handleFocus}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tonClear={handleClearAll}\n\t\t\t\t\t\tsuffixIcon={suffixIcon}\n\t\t\t\t\t\tnotFoundContent={\n\t\t\t\t\t\t\tloading ? (\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<Spin size=\"small\" /> Loading...\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tNo resource attributes available to filter. Please refer docs to send\n\t\t\t\t\t\t\t\t\tattributes.\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{queries.length || staging.length || selectedQuery.length ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={handleClearAll}\n\t\t\t\t\t\t\ticon={<CloseCircleFilled />}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t</SearchContainer>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface ResourceAttributesFilterProps {\n\tsuffixIcon?: ReactNode;\n}\n\nResourceAttributesFilter.defaultProps = {\n\tsuffixIcon: undefined,\n};\n\nexport default ResourceAttributesFilter;\n","import {\n\tconvertMetricKeyToTrace,\n\tgetResourceDeploymentKeys,\n} from 'hooks/useResourceAttribute/utils';\n\nimport { FeatureKeys } from '../../../../constants/features';\nimport { useAppContext } from '../../../../providers/App/App';\nimport { QueryChipContainer, QueryChipItem } from '../../styles';\nimport { IQueryChipProps } from './types';\n\nfunction QueryChip({ queryData, onClose }: IQueryChipProps): JSX.Element {\n\tconst onCloseHandler = (): void => {\n\t\tonClose(queryData.id);\n\t};\n\n\tconst { featureFlags } = useAppContext();\n\tconst dotMetricsEnabled =\n\t\tfeatureFlags?.find((flag) => flag.name === FeatureKeys.DOT_METRICS_ENABLED)\n\t\t\t?.active || false;\n\n\treturn (\n\t\t<QueryChipContainer>\n\t\t\t<QueryChipItem>{convertMetricKeyToTrace(queryData.tagKey)}</QueryChipItem>\n\t\t\t<QueryChipItem>{queryData.operator}</QueryChipItem>\n\t\t\t<QueryChipItem\n\t\t\t\tclosable={queryData.tagKey !== getResourceDeploymentKeys(dotMetricsEnabled)}\n\t\t\t\tonClose={onCloseHandler}\n\t\t\t>\n\t\t\t\t{queryData.tagValue.join(', ')}\n\t\t\t</QueryChipItem>\n\t\t</QueryChipContainer>\n\t);\n}\n\nexport default QueryChip;\n","import QueryChip from './QueryChip';\n\nexport default QueryChip;\n","import ResourceAttributesFilter from './ResourceAttributesFilter';\n\nexport default ResourceAttributesFilter;\n","import { grey } from '@ant-design/colors';\nimport { Tag } from 'antd';\nimport styled from 'styled-components';\n\nexport const SearchContainer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.2rem;\n\tpadding: 0 0.2rem;\n\tbox-sizing: border-box;\n\tborder-radius: 3px;\n`;\n\nexport const QueryChipContainer = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 0.5rem;\n\t&:hover {\n\t\t& > * {\n\t\t\tbackground: ${grey.primary}44;\n\t\t}\n\t}\n`;\n\nexport const QueryChipItem = styled(Tag)`\n\tmargin-right: 0.1rem;\n`;\n","/* eslint-disable  */\n//@ts-nocheck\nimport { useIsDarkMode } from 'hooks/useDarkMode';\nimport { memo } from 'react';\nimport { ForceGraph2D } from 'react-force-graph';\n\nimport { getGraphData, getTooltip, transformLabel } from './utils';\n\nfunction ServiceMap({ fgRef, serviceMap }: any): JSX.Element {\n\tconst isDarkMode = useIsDarkMode();\n\n\tconst { nodes, links } = getGraphData(serviceMap, isDarkMode);\n\n\tconst graphData = { nodes, links };\n\n\tlet zoomLevel = 1;\n\n\treturn (\n\t\t<ForceGraph2D\n\t\t\tref={fgRef}\n\t\t\tcooldownTicks={100}\n\t\t\tgraphData={graphData}\n\t\t\tlinkLabel={getTooltip}\n\t\t\tlinkAutoColorBy={(d) => d.target}\n\t\t\tlinkDirectionalParticles=\"value\"\n\t\t\tlinkDirectionalParticleSpeed={(d) => d.value}\n\t\t\tnodeCanvasObject={(node, ctx) => {\n\t\t\t\tconst label = transformLabel(node.id, zoomLevel);\n\t\t\t\tlet { fontSize } = node;\n\t\t\t\tfontSize = (fontSize * 3) / zoomLevel;\n\t\t\t\tctx.font = `${fontSize}px Roboto`;\n\t\t\t\tconst { width } = node;\n\n\t\t\t\tctx.fillStyle = node.color;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(node.x, node.y, width, 0, 2 * Math.PI, false);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.textAlign = 'center';\n\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\tctx.fillStyle = isDarkMode ? '#ffffff' : '#000000';\n\t\t\t\tctx.fillText(label, node.x, node.y);\n\t\t\t}}\n\t\t\tonLinkHover={(node) => {\n\t\t\t\tconst tooltip = document.querySelector('.graph-tooltip');\n\t\t\t\tif (tooltip && node) {\n\t\t\t\t\ttooltip.innerHTML = getTooltip(node);\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonZoom={(zoom) => {\n\t\t\t\tzoomLevel = zoom.k;\n\t\t\t}}\n\t\t\tnodePointerAreaPaint={(node, color, ctx) => {\n\t\t\t\tctx.fillStyle = color;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(node.x, node.y, 5, 0, 2 * Math.PI, false);\n\t\t\t\tctx.fill();\n\t\t\t}}\n\t\t/>\n\t);\n}\n\nexport default memo(ServiceMap);\n","/* eslint-disable  */\n//@ts-nocheck\n\nimport { Card } from 'antd';\nimport Spinner from 'components/Spinner';\nimport TextToolTip from 'components/TextToolTip';\nimport ResourceAttributesFilter from 'container/ResourceAttributesFilter';\nimport useResourceAttribute from 'hooks/useResourceAttribute';\nimport { whilelistedKeys } from 'hooks/useResourceAttribute/config';\nimport { IResourceAttribute } from 'hooks/useResourceAttribute/types';\nimport { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { getDetailedServiceMapItems, ServiceMapStore } from 'store/actions';\nimport { AppState } from 'store/reducers';\nimport styled from 'styled-components';\nimport { GlobalTime } from 'types/actions/globalTime';\n\nimport Map from './Map';\n\nconst Container = styled.div`\n\t.force-graph-container {\n\t\toverflow: scroll;\n\t}\n\n\t.force-graph-container .graph-tooltip {\n\t\tbackground: black;\n\t\tpadding: 1px;\n\t\t.keyval {\n\t\t\tdisplay: flex;\n\t\t\t.key {\n\t\t\t\tmargin-right: 4px;\n\t\t\t}\n\t\t\t.val {\n\t\t\t\tmargin-left: auto;\n\t\t\t}\n\t\t}\n\t}\n`;\n\ninterface ServiceMapProps extends RouteComponentProps<any> {\n\tserviceMap: ServiceMapStore;\n\tglobalTime: GlobalTime;\n\tgetDetailedServiceMapItems: (\n\t\ttime: GlobalTime,\n\t\tqueries: IResourceAttribute[],\n\t) => void;\n}\ninterface graphNode {\n\tid: string;\n\tgroup: number;\n}\ninterface graphLink {\n\tsource: string;\n\ttarget: string;\n\tvalue: number;\n\tcallRate: number;\n\terrorRate: number;\n\tp99: number;\n}\nexport interface graphDataType {\n\tnodes: graphNode[];\n\tlinks: graphLink[];\n}\n\nfunction ServiceMap(props: ServiceMapProps): JSX.Element {\n\tconst fgRef = useRef();\n\n\tconst { getDetailedServiceMapItems, globalTime, serviceMap } = props;\n\n\tconst { queries } = useResourceAttribute();\n\n\tuseEffect(() => {\n\t\t/*\n\t\t\tCall the apis only when the route is loaded.\n\t\t\tCheck this issue: https://github.com/SigNoz/signoz/issues/110\n\t\t */\n\t\tgetDetailedServiceMapItems(globalTime, queries);\n\t}, [globalTime, getDetailedServiceMapItems, queries]);\n\n\tuseEffect(() => {\n\t\tfgRef.current && fgRef.current.d3Force('charge').strength(-400);\n\t});\n\n\tif (serviceMap.loading) {\n\t\treturn <Spinner size=\"large\" tip=\"Loading...\" />;\n\t}\n\n\tif (!serviceMap.loading && serviceMap.items.length === 0) {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<ResourceAttributesFilter />\n\t\t\t\t<Card>No Service Found</Card>\n\t\t\t</Container>\n\t\t);\n\t}\n\treturn (\n\t\t<Container>\n\t\t\t<ResourceAttributesFilter\n\t\t\t\tsuffixIcon={\n\t\t\t\t\t<TextToolTip\n\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\ttext: `Currently, service map supports filtering of ${whilelistedKeys.join(\n\t\t\t\t\t\t\t\t', ',\n\t\t\t\t\t\t\t)} only, in resource attributes`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Map fgRef={fgRef} serviceMap={serviceMap} />\n\t\t</Container>\n\t);\n}\n\nconst mapStateToProps = (\n\tstate: AppState,\n): {\n\tserviceMap: serviceMapStore;\n\tglobalTime: GlobalTime;\n} => ({\n\tserviceMap: state.serviceMap,\n\tglobalTime: state.globalTime,\n});\n\nexport default withRouter(\n\tconnect(mapStateToProps, {\n\t\tgetDetailedServiceMapItems,\n\t})(ServiceMap),\n);\n","import ServiceMap from './ServiceMap';\n\nfunction ServiceMapContainer(): JSX.Element {\n\treturn <ServiceMap />;\n}\nexport default ServiceMapContainer;\n","/*eslint-disable*/\n//@ts-nocheck\n\nimport {\n\tcloneDeep,\n\tfind,\n\tmaxBy,\n\tuniq,\n\tuniqBy,\n\tgroupBy,\n\tsumBy,\n} from 'lodash-es';\nimport { graphDataType } from './ServiceMap';\n\nconst MIN_WIDTH = 10;\nconst MAX_WIDTH = 20;\nconst DEFAULT_FONT_SIZE = 6;\n\nexport const getDimensions = (num, highest) => {\n\tconst percentage = (num / highest) * 100;\n\tconst width = (percentage * (MAX_WIDTH - MIN_WIDTH)) / 100 + MIN_WIDTH;\n\tconst fontSize = DEFAULT_FONT_SIZE;\n\treturn {\n\t\tfontSize,\n\t\twidth,\n\t};\n};\n\nexport const getGraphData = (serviceMap, isDarkMode): graphDataType => {\n\tconst { items } = serviceMap;\n\tconst services = Object.values(groupBy(items, 'child')).map((e) => {\n\t\treturn {\n\t\t\tserviceName: e[0].child,\n\t\t\terrorRate: sumBy(e, 'errorRate'),\n\t\t\tcallRate: sumBy(e, 'callRate'),\n\t\t};\n\t});\n\tconst highestCallCount = maxBy(items, (e) => e?.callCount)?.callCount;\n\tconst highestCallRate = maxBy(services, (e) => e?.callRate)?.callRate;\n\n\tconst divNum = Number(\n\t\tString(1).padEnd(highestCallCount.toString().length, '0'),\n\t);\n\n\tconst links = cloneDeep(items).map((node) => {\n\t\tconst { parent, child, callCount, callRate, errorRate, p99 } = node;\n\t\treturn {\n\t\t\tsource: parent,\n\t\t\ttarget: child,\n\t\t\tvalue: (100 - callCount / divNum) * 0.03,\n\t\t\tcallRate,\n\t\t\terrorRate,\n\t\t\tp99,\n\t\t};\n\t});\n\tconst uniqParent = uniqBy(cloneDeep(items), 'parent').map((e) => e.parent);\n\tconst uniqChild = uniqBy(cloneDeep(items), 'child').map((e) => e.child);\n\tconst uniqNodes = uniq([...uniqParent, ...uniqChild]);\n\tconst nodes = uniqNodes.map((node, i) => {\n\t\tconst service = find(services, (service) => service.serviceName === node);\n\t\tlet color = isDarkMode ? '#7CA568' : '#D5F2BB';\n\t\tif (!service) {\n\t\t\treturn {\n\t\t\t\tid: node,\n\t\t\t\tgroup: i + 1,\n\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\twidth: MIN_WIDTH,\n\t\t\t\tcolor,\n\t\t\t\tnodeVal: MIN_WIDTH,\n\t\t\t\tname: node,\n\t\t\t};\n\t\t}\n\t\tif (service.errorRate > 0) {\n\t\t\tcolor = isDarkMode ? '#DB836E' : '#F98989';\n\t\t}\n\t\tconst { fontSize, width } = getDimensions(service.callRate, highestCallRate);\n\t\treturn {\n\t\t\tid: node,\n\t\t\tgroup: i + 1,\n\t\t\tfontSize,\n\t\t\twidth,\n\t\t\tcolor,\n\t\t\tnodeVal: width,\n\t\t\tname: node,\n\t\t};\n\t});\n\treturn {\n\t\tnodes,\n\t\tlinks,\n\t};\n};\n\nexport const getZoomPx = (): number => {\n\tconst { width } = window.screen;\n\tif (width < 1400) {\n\t\treturn 190;\n\t}\n\tif (width > 1400 && width < 1700) {\n\t\treturn 380;\n\t}\n\tif (width > 1700) {\n\t\treturn 470;\n\t}\n\treturn 190;\n};\n\nconst getRound2DigitsAfterDecimal = (num: number) => {\n\tif (num === 0) {\n\t\treturn 0;\n\t}\n\treturn num.toFixed(20).match(/^-?\\d*\\.?0*\\d{0,2}/)[0];\n};\n\nexport const getTooltip = (link: {\n\tp99: number;\n\terrorRate: number;\n\tcallRate: number;\n\tid: string;\n}) => {\n\treturn `<div style=\"color:#333333;padding:12px;background: white;border-radius: 2px;\">\n\t\t\t\t\t\t\t\t<div class=\"keyval\">\n\t\t\t\t\t\t\t\t\t<div class=\"key\">P99 latency:</div>\n\t\t\t\t\t\t\t\t\t<div class=\"val\">${getRound2DigitsAfterDecimal(link.p99 / 1000000)}ms</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"keyval\">\n\t\t\t\t\t\t\t\t\t<div class=\"key\">Request:</div>\n\t\t\t\t\t\t\t\t\t<div class=\"val\">${getRound2DigitsAfterDecimal(link.callRate)}/sec</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"keyval\">\n\t\t\t\t\t\t\t\t\t<div class=\"key\">Error Rate:</div>\n\t\t\t\t\t\t\t\t\t<div class=\"val\">${getRound2DigitsAfterDecimal(link.errorRate)}%</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`;\n};\n\nexport const transformLabel = (label: string, zoomLevel: number) => {\n\t//? 13 is the minimum label length. Scaling factor of 0.9 which is slightly less than 1\n\t//? ensures smoother zoom transitions, gradually increasing MAX_LENGTH, displaying more of the label as\n\t//? zooming in.\n\tconst MAX_LENGTH = 13 * (zoomLevel / 0.9);\n\tconst MAX_SHOW = MAX_LENGTH - 3;\n\tif (label.length > MAX_LENGTH) {\n\t\treturn `${label.slice(0, MAX_SHOW)}...`;\n\t}\n\treturn label;\n};\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".overlay--text-wrap{white-space:pre-wrap}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/components/TextToolTip/TextToolTip.style.scss\"],\"names\":[],\"mappings\":\"AAAA,oBACC,oBAAA\",\"sourcesContent\":[\".overlay--text-wrap {\\n\\twhite-space: pre-wrap;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".resourceAttributesFilter-container{display:flex;align-items:center;justify-content:stretch;flex-wrap:wrap;gap:8px;margin-bottom:16px}.resourceAttributesFilter-container .resource-attributes-selector{flex:1;border-radius:3px;background-color:var(--bg-ink-400);border:1px solid #454c58}.resourceAttributesFilter-container .environment-selector{min-width:200px}.resourceAttributesFilter-container .ant-form-item{margin-bottom:0}.lightMode .resourceAttributesFilter-container .resource-attributes-selector{border:1px solid #d9d9d9;background:var(--bg-vanilla-100)}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/ResourceAttributesFilter/ResourceAttributesFilter.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACC,YAAA,CACA,kBAAA,CACA,uBAAA,CACA,cAAA,CACA,OAAA,CACA,kBAAA,CAEA,kEACC,MAAA,CACA,iBAAA,CAEA,kCAAA,CACA,wBAAA,CAGD,0DACC,eAAA,CAGD,mDACC,eAAA,CAMA,6EACC,wBAAA,CACA,gCAAA\",\"sourcesContent\":[\".resourceAttributesFilter-container {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: stretch;\\n\\tflex-wrap: wrap;\\n\\tgap: 8px;\\n\\tmargin-bottom: 16px;\\n\\n\\t.resource-attributes-selector {\\n\\t\\tflex: 1;\\n\\t\\tborder-radius: 3px;\\n\\n\\t\\tbackground-color: var(--bg-ink-400);\\n\\t\\tborder: 1px solid #454c58;\\n\\t}\\n\\n\\t.environment-selector {\\n\\t\\tmin-width: 200px;\\n\\t}\\n\\n\\t.ant-form-item {\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n}\\n\\n.lightMode {\\n\\t.resourceAttributesFilter-container {\\n\\t\\t.resource-attributes-selector {\\n\\t\\t\\tborder: 1px solid #d9d9d9;\\n\\t\\t\\tbackground: var(--bg-vanilla-100);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./TextToolTip.style.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./ResourceAttributesFilter.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["TextToolTip","_ref","text","url","useFilledIcon","urlText","isDarkMode","useIsDarkMode","onClickHandler","event","stopPropagation","overlay","useMemo","_jsxs","className","children","concat","_jsx","onClick","href","rel","target","iconStyle","style","color","themeColors","whiteCream","grey","iconOutlinedStyle","navyBlue","blue","Tooltip","QuestionCircleFilled","QuestionCircleOutlined","defaultProps","_default","reactHotLoader","leaveModule","reactHotLoaderGlobal","default","undefined","register","module","fontSize","ResourceAttributesFilter","_featureFlags$find","suffixIcon","queries","staging","handleClose","handleBlur","handleClearAll","handleFocus","handleChange","handleEnvironmentChange","selectedQuery","optionsData","loading","useResourceAttribute","environments","setEnvironments","useState","featureFlags","useAppContext","dotMetricsEnabled","find","flag","name","FeatureKeys","DOT_METRICS_ENABLED","active","resourceDeploymentKey","getResourceDeploymentKeys","selectedEnvironments","setSelectedEnvironments","queriesExcludingEnvironment","filter","query","tagKey","isEmpty","isResourceEmpty","useEffect","resourceDeploymentEnvironmentQuery","length","tagValue","getEnvironmentTagKeys","then","tagKeys","Array","isArray","getEnvironmentTagValues","tagValues","Select","getPopupContainer","popupContainer","showSearch","mode","value","placeholder","minWidth","height","onChange","onBlur","map","opt","Option","label","join","SearchContainer","QueryChip","queryData","onClose","id","idx","QueryChipItem","convertMetricKeyToTrace","uuid","bordered","flex","options","onClear","notFoundContent","Spin","size","Button","icon","CloseCircleFilled","type","QueryChipContainer","operator","closable","onCloseHandler","styled","div","_templateObject","_taggedTemplateLiteral","span","_templateObject2","primary","Tag","_templateObject3","ServiceMap","fgRef","serviceMap","nodes","links","getGraphData","graphData","zoomLevel","ForceGraph2D","ref","cooldownTicks","linkLabel","getTooltip","linkAutoColorBy","d","linkDirectionalParticles","linkDirectionalParticleSpeed","nodeCanvasObject","node","ctx","transformLabel","font","width","fillStyle","beginPath","arc","x","y","Math","PI","fill","textAlign","textBaseline","fillText","onLinkHover","tooltip","document","querySelector","innerHTML","onZoom","zoom","k","nodePointerAreaPaint","memo","Container","props","useRef","getDetailedServiceMapItems","globalTime","current","d3Force","strength","Spinner","tip","items","whilelistedKeys","Map","Card","__signature__","mapStateToProps","state","withRouter","connect","ServiceMapContainer","getDimensions","num","highest","_maxBy","_maxBy2","services","Object","values","groupBy","e","serviceName","child","errorRate","sumBy","callRate","highestCallCount","maxBy","callCount","highestCallRate","divNum","Number","String","padEnd","toString","cloneDeep","parent","p99","source","uniqParent","uniqBy","uniqChild","uniq","i","service","group","nodeVal","getZoomPx","window","screen","getRound2DigitsAfterDecimal","toFixed","match","link","MAX_LENGTH","MAX_SHOW","slice","___CSS_LOADER_EXPORT___","push","api","content","__esModule","exports","locals"],"sourceRoot":""}