/*! For license information please see Live Logs.7d822a22a14e1f74dda9.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="79ead526-0b00-41ca-98a1-07541d5f457f",e._sentryDebugIdIdentifier="sentry-dbid-79ead526-0b00-41ca-98a1-07541d5f457f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["Live Logs"],{216267:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"}},670479:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-80 600c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304zm224 0c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304z"}}]},name:"pause-circle",theme:"filled"}},255095:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm144.1 454.9L437.7 677.8a8.02 8.02 0 01-12.7-6.5V353.7a8 8 0 0112.7-6.5L656.1 506a7.9 7.9 0 010 12.9z"}}]},name:"play-circle",theme:"filled"}},699150:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var n=o(489379),r=o(296540),a=o(216267),i=o(812226),s=function(e,t){return r.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a.A}))};s.displayName="ArrowLeftOutlined";const l=r.forwardRef(s)},841578:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var n=o(489379),r=o(296540),a=o(670479),i=o(812226),s=function(e,t){return r.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a.A}))};s.displayName="PauseCircleFilled";const l=r.forwardRef(s)},446044:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var n=o(489379),r=o(296540),a=o(255095),i=o(812226),s=function(e,t){return r.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a.A}))};s.displayName="PlayCircleFilled";const l=r.forwardRef(s)},163317:(e,t,o)=>{"use strict";var n;o.d(t,{Rj:()=>a,SB:()=>i,dy:()=>r}),e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=6e5,a=6e4,i=1e3;var s,l;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(r,"LIVE_TAIL_HEARTBEAT_TIMEOUT","/home/ec2-user/signoz/frontend/src/constants/liveTail.ts"),s.register(a,"LIVE_TAIL_GRAPH_INTERVAL","/home/ec2-user/signoz/frontend/src/constants/liveTail.ts"),s.register(i,"MAX_LOGS_LIST_SIZE","/home/ec2-user/signoz/frontend/src/constants/liveTail.ts")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},857051:(e,t,o)=>{"use strict";o.d(t,{A:()=>h});var n,r=o(699150),a=o(650400),i=o(585765),s=o(970794),l=o(521587),d=o(831443),c=o(932738),u=o(296540),f=o(283205),g=o(889824),L=o(39644),v=o(474848);function m(){const e=(0,f.W6)(),{updateAllQueriesOperators:t}=(0,c.V)(),o=(0,d.c)(),n=(0,u.useCallback)((()=>{if(!o)return;const n=(0,L.Hs)({query:o,initialQueryData:s.it.logs,customQueryData:{disabled:!1}}),r=t(n,s.Nv.LIST,g.qS.LOGS),a=encodeURIComponent(JSON.stringify(r)),d="".concat(l.A.LOGS_EXPLORER,"?").concat(i.z.compositeQuery,"=").concat(a);e.push(d)}),[e,o,t]);return(0,v.jsx)(a.Ay,{icon:(0,v.jsx)(r.A,{}),onClick:n,children:"Exit live view"})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useHistory{history}\nuseQueryBuilder{{ updateAllQueriesOperators }}\nuseGetCompositeQueryParam{compositeQuery}\nuseCallback{handleBack}",(()=>[f.W6,c.V,d.c]));const b=m,h=b;var p,y;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(m,"BackButton","/home/ec2-user/signoz/frontend/src/container/LiveLogs/BackButton/index.tsx"),p.register(b,"default","/home/ec2-user/signoz/frontend/src/container/LiveLogs/BackButton/index.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},235069:(e,t,o)=>{"use strict";o.d(t,{A:()=>L});var n,r=o(16370),a=o(970794),i=o(932738),s=o(750449),l=o(296540),d=o(426852),c=o(491541),u=o(474848);function f(){const{stagedQuery:e,handleSetQueryData:t,redirectWithQueryBuilderData:o,currentQuery:n}=(0,i.V)(),{initialLoading:f,handleSetInitialLoading:g}=(0,s.r)(),L=(0,l.useCallback)((o=>{const n=null==e?void 0:e.builder.queryData[0];if(!n)return;const r={...n,filters:o};t(0,r)}),[e,t]),v=(0,l.useMemo)((()=>e&&e.builder.queryData.length>0?null==e?void 0:e.builder.queryData[0]:a.X3.logs.builder.queryData[0]),[e]),m=(0,l.useCallback)((()=>{f&&g(!1);const e=(0,d._)(n);o(e)}),[f,n,o,g]);return(0,u.jsxs)(c.n_,{children:[(0,u.jsx)(r.A,{flex:1,children:(0,u.jsx)(c.Kn,{query:v,onChange:L})}),(0,u.jsx)(c.Iu,{onSearch:m})]})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useQueryBuilder{{\n\t\tstagedQuery,\n\t\thandleSetQueryData,\n\t\tredirectWithQueryBuilderData,\n\t\tcurrentQuery,\n\t}}\nuseEventSource{{ initialLoading, handleSetInitialLoading }}\nuseCallback{handleChange}\nuseMemo{query}\nuseCallback{handleSearch}",(()=>[i.V,s.r]));const g=f,L=g;var v,m;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"FiltersInput","/home/ec2-user/signoz/frontend/src/container/LiveLogs/FiltersInput/index.tsx"),v.register(g,"default","/home/ec2-user/signoz/frontend/src/container/LiveLogs/FiltersInput/index.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},491541:(e,t,o)=>{"use strict";o.d(t,{Iu:()=>v,Kn:()=>g,n_:()=>L});var n,r,a,i,s=o(747152),l=o(779888),d=o(523548),c=o(984489),u=o(38267);function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const g=(0,u.Ay)(c.A)(n||(n=f(["\n\tz-index: 1;\n\t.ant-select-selector {\n\t\twidth: 100%;\n\t\tborder-top-right-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\t}\n"]))),L=(0,u.Ay)(s.A)(r||(r=f(["\n\tcolor: ",";\n"])),d.k.white),v=(0,u.Ay)(l.A.Search)(a||(a=f(["\n\twidth: 2rem;\n\t.ant-input {\n\t\tdisplay: none;\n\t}\n"])));var m,b;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(g,"FilterSearchInputStyled","/home/ec2-user/signoz/frontend/src/container/LiveLogs/FiltersInput/styles.ts"),m.register(L,"ContainerStyled","/home/ec2-user/signoz/frontend/src/container/LiveLogs/FiltersInput/styles.ts"),m.register(v,"SearchButtonStyled","/home/ec2-user/signoz/frontend/src/container/LiveLogs/FiltersInput/styles.ts")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},116869:(e,t,o)=>{"use strict";o.d(t,{A:()=>y});var n,r=o(236492),a=o(828073),i=o(650400),s=o(847578),l=o(232601),d=o(102719),c=o(203714),u=o(794914),f=o(750449),g=o(296540),L=o(889824),v=o(923652),m=o(9917),b=o(474848);function h(){var e,t,o;const{config:n}=(0,d.B)({storageKey:l.n.LOGS_LIST_OPTIONS,dataSource:L.qS.LOGS,aggregateOperator:L.j3.NOOP}),{isConnectionLoading:h}=(0,f.r)(),p=c.wR.includes(null===(e=n.format)||void 0===e?void 0:e.value),y=(0,g.useCallback)((()=>{if(!n.maxLines)return null;const e=n.maxLines.value,t=n.maxLines.onChange;return(0,b.jsx)(u.A,{linesPerRow:e,handleLinesPerRowChange:t})}),[n]);return(0,b.jsxs)(m.m,{children:[(0,b.jsx)(r.A,{getPopupContainer:v.k,style:c.p7,value:null===(t=n.format)||void 0===t?void 0:t.value,onChange:null===(o=n.format)||void 0===o?void 0:o.onChange,children:c.M.map((e=>(0,b.jsx)(r.A.Option,{children:e.label},e.value)))}),p&&(0,b.jsx)(a.A,{getPopupContainer:v.k,placement:"right",content:y,children:(0,b.jsx)(i.Ay,{children:"Format"})}),h&&(0,b.jsx)(m.V,{children:(0,b.jsx)(s.A,{style:{height:"auto"}})})]})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(h,"useOptionsMenu{{ config }}\nuseEventSource{{ isConnectionLoading }}\nuseCallback{renderPopoverContent}",(()=>[d.B,f.r]));const p=h,y=p;var H,G;(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(h,"ListViewPanel","/home/ec2-user/signoz/frontend/src/container/LiveLogs/ListViewPanel/index.tsx"),H.register(p,"default","/home/ec2-user/signoz/frontend/src/container/LiveLogs/ListViewPanel/index.tsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},9917:(e,t,o)=>{"use strict";o.d(t,{V:()=>d,m:()=>l});var n,r,a,i=o(38267);function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=i.Ay.div(n||(n=s(["\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 1.5rem;\n"]))),d=i.Ay.div(r||(r=s(["\n\tmargin-left: auto;\n"])));var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(l,"Wrapper","/home/ec2-user/signoz/frontend/src/container/LiveLogs/ListViewPanel/styles.ts"),c.register(d,"SpinnerWrapper","/home/ec2-user/signoz/frontend/src/container/LiveLogs/ListViewPanel/styles.ts")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},59938:(e,t,o)=>{"use strict";o.d(t,{A:()=>j});var n,r=o(16370),a=o(847578),i=o(163317),s=o(970794),l=o(523548),d=o(347826),c=o(235069),u=o(477423),f=o(831443),g=o(932738),L=o(149810),v=o(729271),m=o(565190),b=o(750449),h=o(296540),p=o(349924),y=o(283205),H=o(39644),G=o(116869),A=o(902609),x=o(426852),S=o(602330),T=o(474848);function C(){const e=(0,y.zy)(),[t,o]=(0,h.useState)([]),{stagedQuery:n}=(0,g.V)(),C=e.state,E=(0,h.useRef)([]),{selectedTime:j}=(0,p.d4)((e=>e.globalTime)),{handleStartOpenConnection:z,handleCloseConnection:M,initialLoading:O,isConnectionLoading:k,isConnectionError:I,reconnectDueToError:D}=(0,b.r)(),R=(0,f.c)(),w=(0,h.useCallback)((e=>{o((t=>[...e,...t].slice(0,i.SB))),E.current=[]}),[]),N=(0,L.A)((()=>{const e=E.current.reverse();w(e)}),500),B=(0,h.useCallback)((e=>{E.current.push(e),N()}),[N]),P=(0,h.useCallback)((e=>{const t=JSON.parse(e.data);B(t)}),[B]),Q=(0,h.useCallback)((()=>{console.error("Sorry, something went wrong")}),[]);(0,v.F)("message",P),(0,v.F)("error",Q);const _=(0,h.useCallback)((e=>{const o=t.length?t[0].id:null;return(0,x.L)(e,H.zY,o)}),[t]),V=(0,h.useCallback)((e=>{const{queryPayload:t}=(0,m.Z)({query:e,graphType:s.Nv.LIST,selectedTime:"GLOBAL_TIME",globalSelectedInterval:j}),o=encodeURIComponent(JSON.stringify(t)),n="q=".concat(o);z({queryString:n})}),[j,z]),F=(0,h.useCallback)((e=>{M();const t=_(e);V(t)}),[_,M,V]);return(0,h.useEffect)((()=>{R&&(O&&!k||R.id!==(null==n?void 0:n.id))&&F(R)}),[R,O,n,k,V,F]),(0,h.useEffect)((()=>{if(I&&D&&R){const e=setTimeout((()=>{F(R)}),1e3);return()=>clearTimeout(e)}}),[I,D,R,F]),(0,h.useEffect)((()=>{var e;const t=null==C||null===(e=C.listQueryPayload[0])||void 0===e?void 0:e.list;if(t){const e=t.map((e=>({...e.data,timestamp:e.timestamp}))).reverse();w(e)}}),[C,w]),(0,T.jsxs)(S.mO,{children:[(0,T.jsx)(u.A,{}),(0,T.jsxs)(S.HD,{gutter:[0,20],style:{color:l.k.lightWhite},children:[(0,T.jsx)(r.A,{span:24,children:(0,T.jsx)(c.A,{})}),O&&0===t.length?(0,T.jsx)(r.A,{span:24,children:(0,T.jsx)(a.A,{style:{height:"auto"},tip:"Fetching Logs"})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(r.A,{span:24,children:(0,T.jsx)(S.Qp,{initialData:(null==C?void 0:C.graphQueryPayload)||null})}),(0,T.jsx)(r.A,{span:24,children:(0,T.jsx)(G.A,{})}),(0,T.jsx)(r.A,{span:24,children:(0,T.jsx)(A.A,{logs:t})})]}),(0,T.jsx)(d.A,{})]})]})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(C,"useLocation{location}\nuseState{[logs, setLogs]([])}\nuseQueryBuilder{{ stagedQuery }}\nuseRef{batchedEventsRef}\nuseSelector{{ selectedTime: globalSelectedTime }}\nuseEventSource{{\n\t\thandleStartOpenConnection,\n\t\thandleCloseConnection,\n\t\tinitialLoading,\n\t\tisConnectionLoading,\n\t\tisConnectionError,\n\t\treconnectDueToError,\n\t}}\nuseGetCompositeQueryParam{compositeQuery}\nuseCallback{updateLogs}\nuseDebouncedFn{debouncedUpdateLogs}\nuseCallback{batchLiveLog}\nuseCallback{handleGetLiveLogs}\nuseCallback{handleError}\nuseEventSourceEvent{}\nuseEventSourceEvent{}\nuseCallback{getPreparedQuery}\nuseCallback{openConnection}\nuseCallback{handleStartNewConnection}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(()=>[y.zy,g.V,p.d4,b.r,f.c,L.A,v.F,v.F]));const E=C,j=E;var z,M;(z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(z.register(C,"LiveLogsContainer","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsContainer/index.tsx"),z.register(E,"default","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsContainer/index.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},602330:(e,t,o)=>{"use strict";o.d(t,{HD:()=>g,Qp:()=>f,mO:()=>L});var n,r,a,i,s=o(747152),l=o(523548),d=o(38267),c=o(868203);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const f=(0,d.Ay)(c.A)(n||(n=u(["\n\tmargin-bottom: 0.5rem;\n"]))),g=(0,d.Ay)(s.A)(r||(r=u(["\n\tcolor: rgba(",");\n"])),(l.k.white,.85)),L=d.Ay.div(a||(a=u(["\n\tpadding-bottom: 4rem;\n"])));var v,m;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"LiveLogsChart","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsContainer/styles.ts"),v.register(g,"ContentWrapper","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsContainer/styles.ts"),v.register(L,"Wrapper","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsContainer/styles.ts")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},902609:(e,t,o)=>{"use strict";o.d(t,{A:()=>M});var n,r=o(167313),a=o(377278),i=o(84904),s=o(95821),l=o(48610),d=o(855122),c=o(658903),u=o(847578),f=o(48615),g=o(232601),L=o(520523),v=o(328302),m=o(814620),b=o(156429),h=o(569939),p=o(102719),y=o(655964),H=o(708437),G=o(497400),A=o(750449),x=o(296540),S=o(218492),T=o(871163),C=o(889824),E=o(474848);function j(e){let{logs:t}=e;const o=(0,x.useRef)(null),{t:n}=(0,S.B)(["logs"]),{isConnectionLoading:j}=(0,A.r)(),{activeLogId:z}=(0,G.P)(),{activeLog:M,onClearActiveLog:O,onAddToQuery:k,onGroupByAttribute:I,onSetActiveLog:D}=(0,H.w)(),{options:R}=(0,p.B)({storageKey:g.n.LOGS_LIST_OPTIONS,dataSource:C.qS.LOGS,aggregateOperator:C.j3.NOOP}),w=(0,x.useMemo)((()=>t.findIndex((e=>{let{id:t}=e;return t===z}))),[t,z]),N=(0,b.a)([...y.$0,...R.selectColumns]),B=(0,x.useCallback)(((e,t)=>"raw"===R.format?(0,E.jsx)(d.A,{data:t,linesPerRow:R.maxLines,selectedFields:N,fontSize:R.fontSize},t.id):(0,E.jsx)(l.A,{logData:t,selectedFields:N,linesPerRow:R.maxLines,onAddToQuery:k,onSetActiveLog:D,fontSize:R.fontSize},t.id)),[k,D,R.fontSize,R.format,R.maxLines,N]);(0,x.useEffect)((()=>{var e;!z||w<0||null==o||null===(e=o.current)||void 0===e||e.scrollToIndex({index:w,align:"start",behavior:"smooth"})}),[z,w]);return j&&0===t.length?(0,E.jsx)(u.A,{style:{height:"auto"},tip:"Fetching Logs"}):(0,E.jsxs)(E.Fragment,{children:[R.format!==L.a.TABLE&&(0,E.jsx)(h.D,{children:(0,E.jsx)(r.A.Text,{children:"Event"})}),0===t.length&&(0,E.jsx)(r.A,{children:n("fetching_log_lines")}),0!==t.length&&(0,E.jsx)(m.v,{children:R.format===L.a.TABLE?(0,E.jsx)(v.A,{ref:o,isLoading:!1,tableViewProps:{logs:t,fields:N,linesPerRow:R.maxLines,fontSize:R.fontSize,appendTo:"end",activeLogIndex:w}}):(0,E.jsx)(a.A,{style:{width:"100%"},bodyStyle:f.G,children:(0,E.jsx)(c.A,{isVirtuoso:!0,children:(0,E.jsx)(T.aY,{ref:o,initialTopMostItemIndex:-1!==w?w:0,data:t,totalCount:t.length,itemContent:B})})})}),(0,E.jsx)(i.A,{selectedTab:s.K.OVERVIEW,log:M,onClose:O,onAddToQuery:k,onGroupByAttribute:I,onClickActionItem:k})]})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(j,"useRef{ref}\nuseTranslation{{ t }}\nuseEventSource{{ isConnectionLoading }}\nuseCopyLogLink{{ activeLogId }}\nuseActiveLog{{\n\t\tactiveLog,\n\t\tonClearActiveLog,\n\t\tonAddToQuery,\n\t\tonGroupByAttribute,\n\t\tonSetActiveLog,\n\t}}\nuseOptionsMenu{{ options }}\nuseMemo{activeLogIndex}\nuseCallback{getItemContent}\nuseEffect{}",(()=>[S.B,A.r,G.P,H.w,p.B]));const z=(0,x.memo)(j),M=z;var O,k;(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(O.register(j,"LiveLogsList","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsList/index.tsx"),O.register(z,"default","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsList/index.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},868203:(e,t,o)=>{"use strict";o.d(t,{A:()=>m});var n,r=o(822434),a=o(163317),i=o(970794),s=o(919712),l=o(62431),d=o(932738),c=o(750449),u=o(296540),f=o(889824),g=o(474848);function L(e){let{className:t,initialData:o}=e;const{stagedQuery:n}=(0,d.V)(),{isConnectionOpen:L}=(0,c.r)(),v=(0,u.useMemo)((()=>n?{...n,builder:{...n.builder,queryData:n.builder.queryData.map((e=>({...e,disabled:!1,aggregateOperator:f.pX.COUNT,filters:{...e.filters,items:e.filters.items.filter((e=>{var t;return"id"!==(null===(t=e.key)||void 0===t?void 0:t.key)}))}})))}}:null),[n]),{data:m,isFetching:b}=(0,l.c)(v,i.Nv.TIME_SERIES,r.j4,{enabled:L,refetchInterval:a.Rj,keepPreviousData:!0},{dataSource:f.qS.LOGS}),h=(0,u.useMemo)((()=>o||(m?m.payload.data.result:[])),[m,o]);return(0,g.jsx)(s.A,{isLoading:!o&&b,data:h,isLabelEnabled:!1,className:t})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(L,"useQueryBuilder{{ stagedQuery }}\nuseEventSource{{ isConnectionOpen }}\nuseMemo{listChartQuery: Query | null}\nuseGetExplorerQueryRange{{ data, isFetching }}\nuseMemo{chartData: QueryData[]}",(()=>[d.V,c.r,l.c]));const v=L,m=v;var b,h;(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(L,"LiveLogsListChart","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsListChart/index.tsx"),b.register(v,"default","/home/ec2-user/signoz/frontend/src/container/LiveLogs/LiveLogsListChart/index.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},426852:(e,t,o)=>{"use strict";o.d(t,{L:()=>l,_:()=>d});var n,r=o(970794),a=o(418562);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=e=>e.find((e=>{var t;return"id"===(null===(t=e.key)||void 0===t?void 0:t.key)}))||null,s=(e,t,o)=>{let n=e.items;return n=i(n)?n.map((e=>{var t;return"id"===(null===(t=e.key)||void 0===t?void 0:t.key)?{...e,value:o}:e})):[...n,{value:o,key:t,op:r.we[">"],id:(0,a.A)()}],{items:n,op:e.op}},l=(e,t,o)=>{var n;return{...e,builder:{...e.builder,queryData:null===(n=e.builder.queryData)||void 0===n?void 0:n.map((e=>({...e,filters:o?s(e.filters,t,o):e.filters})))}}},d=e=>{var t;return{...e,builder:{...e.builder,queryData:null===(t=e.builder.queryData)||void 0===t?void 0:t.map((e=>({...e,filters:{...e.filters,items:e.filters.items.filter((e=>{var t;return"id"!==(null===(t=e.key)||void 0===t?void 0:t.key)}))}})))}}};var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"getIdFilter","/home/ec2-user/signoz/frontend/src/container/LiveLogs/utils.ts"),c.register(s,"getFilter","/home/ec2-user/signoz/frontend/src/container/LiveLogs/utils.ts"),c.register(l,"prepareQueryByFilter","/home/ec2-user/signoz/frontend/src/container/LiveLogs/utils.ts"),c.register(d,"getQueryWithoutFilterId","/home/ec2-user/signoz/frontend/src/container/LiveLogs/utils.ts")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},477423:(e,t,o)=>{"use strict";o.d(t,{A:()=>b});var n,r=o(841578),a=o(446044),i=o(790070),s=o(857051),l=o(426852),d=o(883277),c=o(932738),u=o(750449),f=o(296540),g=o(80251),L=o(474848);function v(){const{isConnectionOpen:e,isConnectionLoading:t,initialLoading:o,handleCloseConnection:n,handleSetInitialLoading:v}=(0,u.r)(),{redirectWithQueryBuilderData:m,currentQuery:b}=(0,c.V)(),h=e||t||o,p=(0,f.useCallback)((()=>{if(o&&v(!1),!e&&t||e)n();else{const e=(0,l._)(b);m(e)}}),[o,e,t,b,v,n,m]),y=(0,f.useMemo)((()=>(0,L.jsxs)(i.A,{size:16,children:[(0,L.jsx)(g.e,{icon:h?(0,L.jsx)(r.A,{}):(0,L.jsx)(a.A,{}),danger:h,onClick:p,type:"primary",children:h?"Pause":"Resume"}),(0,L.jsx)(s.A,{})]})),[h,p]);return(0,L.jsx)(d.A,{actions:y,renderPermissions:{isDateTimeEnabled:!1}})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useEventSource{{\n\t\tisConnectionOpen,\n\t\tisConnectionLoading,\n\t\tinitialLoading,\n\t\thandleCloseConnection,\n\t\thandleSetInitialLoading,\n\t}}\nuseQueryBuilder{{ redirectWithQueryBuilderData, currentQuery }}\nuseCallback{onLiveButtonClick}\nuseMemo{liveButton}",(()=>[u.r,c.V]));const m=(0,f.memo)(v),b=m;var h,p;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(v,"LiveLogsTopNav","/home/ec2-user/signoz/frontend/src/container/LiveLogsTopNav/index.tsx"),h.register(m,"default","/home/ec2-user/signoz/frontend/src/container/LiveLogsTopNav/index.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},80251:(e,t,o)=>{"use strict";o.d(t,{e:()=>c});var n,r,a,i,s=o(650400),l=o(38267);function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=(0,l.Ay)(s.Ay)(n||(n=d(["\n\tbackground-color: #1eb475;\n\n\t","\n"])),(e=>{let{danger:t}=e;return t?(0,l.AH)(a||(a=d([""]))):(0,l.AH)(r||(r=d(["\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tbackground-color: #1eb475 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: #1eb475 !important;\n\t\t\t\t\t}\n\t\t\t  "])))}));var u,f;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(c,"LiveButtonStyled","/home/ec2-user/signoz/frontend/src/container/LiveLogsTopNav/styles.ts"),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},883277:(e,t,o)=>{"use strict";o.d(t,{A:()=>b});var n,r=o(16370),a=o(790070),i=o(167313),s=o(747152),l=o(521587),d=o(677315),c=o(580827),u=o(887586),f=o(64990),g=o(237029),L=o(474848);function v(e){let{actions:t,renderPermissions:o}=e;const{pathname:n}=(0,u.A)(),v=n===l.A.LIVE_LOGS;return(0,L.jsxs)(g.m,{children:[v&&(0,L.jsx)(r.A,{span:16,children:(0,L.jsxs)(a.A,{children:[(0,L.jsx)(c.A,{color:"#fff",size:16}),(0,L.jsx)(i.A.Title,{level:4,style:{marginTop:0,marginBottom:0},children:"Live Logs"})]})}),(0,L.jsx)(r.A,{span:v?8:24,children:(0,L.jsx)(s.A,{justify:"end",children:(0,L.jsxs)(a.A,{align:"start",size:30,direction:"horizontal",children:[(0,L.jsx)(d.A,{}),t,(null==o?void 0:o.isDateTimeEnabled)&&(0,L.jsx)("div",{children:(0,L.jsx)(f.A,{})})]})})})]})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useLocation{{ pathname }}",(()=>[u.A]));const m=v,b=m;var h,p;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(v,"LocalTopNav","/home/ec2-user/signoz/frontend/src/container/LocalTopNav/index.tsx"),h.register(m,"default","/home/ec2-user/signoz/frontend/src/container/LocalTopNav/index.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},237029:(e,t,o)=>{"use strict";o.d(t,{m:()=>s});var n,r,a=o(747152),i=o(38267);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=(0,i.Ay)(a.A)(n||(l=["\n\t&&& {\n\t\tmargin-top: 1rem;\n\t\tmin-height: 8vh;\n\t}\n"],d||(d=l.slice(0)),n=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(d)}}))));var l,d,c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(s,"Container","/home/ec2-user/signoz/frontend/src/container/LocalTopNav/styles.ts"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},569939:(e,t,o)=>{"use strict";o.d(t,{D:()=>c,m:()=>d});var n,r,a,i=o(377278),s=o(38267);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=s.Ay.div(n||(n=l(["\n\toverflow-x: hidden;\n\twidth: 100%;\n\tmargin-bottom: 1rem;\n\tmargin-top: 0.5rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n"]))),c=(0,s.Ay)(i.A)(r||(r=l(["\n\tmargin-bottom: 0.1rem;\n\theight: 32px;\n\t.ant-card-body {\n\t\tpadding: 0.3rem 0.5rem;\n\t}\n"])));var u,f;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"Container","/home/ec2-user/signoz/frontend/src/container/LogsTable/styles.ts"),u.register(c,"Heading","/home/ec2-user/signoz/frontend/src/container/LogsTable/styles.ts")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},784627:(e,t,o)=>{"use strict";o.d(t,{A:()=>C});var n,r=o(722471),a=o(828073),i=o(938181),s=o(852741),l=o(167313),d=o(451643),c=o(790070),u=o(367516),f=o(943984),g=o(822434),L=o(344864),v=o(903187),m=o(296540),b=o(349924),h=o(283205),p=o(910940),y=o(353403),H=o(923652),G=o(873427),A=o(390575),x=o(474848);function S(e){let{disabled:t=!1,showAutoRefreshBtnPrimary:o=!0}=e;const n=(0,b.d4)((e=>e.globalTime)),{pathname:S}=(0,h.zy)(),T=(0,m.useMemo)((()=>t||n.isAutoRefreshDisabled||"custom"===n.selectedTime),[n.isAutoRefreshDisabled,t,n.selectedTime]),C=JSON.parse((0,u.A)(g.OR)||"{}"),E=(0,m.useMemo)((()=>C[S]),[S,C]),[j,z]=(0,m.useState)(Boolean(E)),M=(0,b.wA)();(0,m.useEffect)((()=>{const e=Boolean(E);M({type:y.S5,payload:E}),z(e)}),[E,M]);const O=(0,L.A)(),[k,I]=(0,m.useState)(E||G.f[0].key);(0,m.useEffect)((()=>{I(E||G.f[0].key)}),[E,O]);const D=(0,m.useMemo)((()=>G.f.find((e=>e.key===k))),[k]);(0,p.A)((()=>{const e=null==D?void 0:D.value;if(!T&&j&&"off"!==k&&e){const{maxTime:e,minTime:t}=(0,G.h)(n.selectedTime,n.minTime,n.maxTime);M({type:y.iq,payload:{maxTime:e,minTime:t,selectedTime:n.selectedTime}})}}),(null==D?void 0:D.value)||0);const R=(0,m.useCallback)((e=>{const t=e.target.value;I(t),O.set(g.OR,t),(0,f.A)(g.OR,JSON.stringify({...C,[S]:t})),z(!0)}),[O,S,C]),w=(0,m.useCallback)((e=>{const{checked:t}=e.target;t||(0,f.A)(g.OR,JSON.stringify((0,v.A)(C,S))),z(t)}),[C,S]);return"custom"===n.selectedTime?(0,x.jsx)(x.Fragment,{}):(0,x.jsx)(a.A,{getPopupContainer:H.k,placement:"bottomLeft",trigger:["click"],content:(0,x.jsxs)(A.m,{children:[(0,x.jsx)(i.A,{onChange:w,checked:j,disabled:T,children:"Auto Refresh"}),(0,x.jsx)(s.A,{}),(0,x.jsx)(l.A.Paragraph,{disabled:T,children:"Refresh Interval"}),(0,x.jsx)(d.Ay.Group,{onChange:R,value:k,children:(0,x.jsx)(c.A,{direction:"vertical",children:G.f.filter((e=>"off"!==e.label)).map((e=>(0,x.jsx)(d.Ay,{disabled:T,value:e.key,children:e.label},e.key)))})})]}),children:(0,x.jsx)(A.E,{title:"Set auto refresh",type:o?"primary":"default",children:(0,x.jsx)(r.A,{})})})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(S,"useSelector{globalTime}\nuseLocation{{ pathname }}\nuseMemo{isDisabled}\nuseMemo{localStorageValue}\nuseState{[isAutoRefreshEnabled, setIsAutoRefreshfreshEnabled](Boolean(localStorageValue))}\nuseDispatch{dispatch}\nuseEffect{}\nuseUrlQuery{params}\nuseState{[selectedOption, setSelectedOption](localStorageValue || options[0].key)}\nuseEffect{}\nuseMemo{getOption}\nuseInterval{}\nuseCallback{onChangeHandler}\nuseCallback{onChangeAutoRefreshHandler}",(()=>[b.d4,h.zy,b.wA,L.A,p.A])),S.defaultProps={disabled:!1,showAutoRefreshBtnPrimary:!0};const T=S,C=T;var E,j;(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(S,"AutoRefresh","/home/ec2-user/signoz/frontend/src/container/TopNav/AutoRefresh/index.tsx"),E.register(T,"default","/home/ec2-user/signoz/frontend/src/container/TopNav/AutoRefresh/index.tsx")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)},390575:(e,t,o)=>{"use strict";o.d(t,{E:()=>c,m:()=>d});var n,r,a,i=o(650400),s=o(38267);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=s.Ay.div(n||(n=l(["\n\tmin-width: 8rem;\n"]))),c=(0,s.Ay)(i.Ay)(r||(r=l(["\n\t&&& {\n\t\tpadding-left: 0.5rem;\n\t\tpadding-right: 0.5rem;\n\t}\n"])));var u,f;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"Container","/home/ec2-user/signoz/frontend/src/container/TopNav/AutoRefresh/styles.ts"),u.register(c,"ButtonContainer","/home/ec2-user/signoz/frontend/src/container/TopNav/AutoRefresh/styles.ts")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},863824:(e,t,o)=>{"use strict";o.d(t,{A:()=>L});var n,r=o(954861),a=o(819549),i=o(974353),s=o.n(i),l=o(296540),d=o(474848);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{RangePicker:u}=r.A;function f(e){let{visible:t,onCreate:o,onCancel:n,setCustomDTPickerVisible:r}=e;const[i,c]=(0,l.useState)(),f=e=>{c(e)};return(0,d.jsx)(a.A,{open:t,title:"Chose date and time range",okText:"Apply",cancelText:"Cancel",onCancel:n,onOk:()=>{i&&(o(i),r(!1))},children:(0,d.jsx)(u,{disabledDate:e=>s()(e).isAfter(s()()),allowClear:!0,onOk:f,onCalendarChange:f})})}c(f,"useState{[selectedDate, setDateTime]}");const g=f,L=g;var v,m;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(u,"RangePicker","/home/ec2-user/signoz/frontend/src/container/TopNav/CustomDateTimeModal/index.tsx"),v.register(f,"CustomDateTimeModal","/home/ec2-user/signoz/frontend/src/container/TopNav/CustomDateTimeModal/index.tsx"),v.register(g,"default","/home/ec2-user/signoz/frontend/src/container/TopNav/CustomDateTimeModal/index.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},46535:(e,t,o)=>{"use strict";o.d(t,{A:()=>d});var n,r=o(296540),a=o(18534),i=o(474848);function s(e){let{onLastRefreshHandler:t,refreshButtonHidden:o}=e;const[n,s]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=setInterval((()=>{const e=t();n!==e&&s(e)}),2e3);return()=>{clearInterval(e)}}),[t,n]),(0,i.jsx)(a.uj,{refreshButtonHidden:o,children:(0,i.jsx)(a.o5,{children:n})})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(s,"useState{[refreshText, setRefreshText]('')}\nuseEffect{}");const l=s,d=l;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(s,"RefreshText","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/Refresh.tsx"),c.register(l,"default","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/Refresh.tsx")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},64990:(e,t,o)=>{"use strict";o.d(t,{A:()=>R});o(915369);var n,r=o(72955),a=o(650400),i=o(367516),s=o(943984),l=o(707971),d=o(66314),c=o(232601),u=o(585765),f=o(521587),g=o(974353),L=o.n(g),v=o(932738),m=o(764342),b=o(344864),h=o(431529),p=o(702447),y=o(291815),H=o(523149),G=o(296540),A=o(349924),x=o(283205),S=o(82960),T=o(929913),C=o(784627),E=o(863824),j=o(99998),z=o(46535),M=o(18534),O=o(474848);function k(e){let{location:t,updateTimeInterval:o,globalTimeLoading:n}=e;const[g]=M.lV.useForm(),[x,S]=(0,G.useState)(!1),[T,k]=(0,G.useState)(!1),I=(0,b.A)(),D=I.get("startTime"),R=I.get("endTime"),{localstorageStartTime:w,localstorageEndTime:N}=(()=>{const e=(0,i.A)(c.n.METRICS_TIME_IN_DURATION);if(null!==e){const o=JSON.parse(e||"{}")[t.pathname];if(o){let e;try{e=JSON.parse(o)}catch{e=o}return(0,H.A)(e)?{localstorageStartTime:e.startTime,localstorageEndTime:e.endTime}:{localstorageStartTime:null,localstorageEndTime:null}}}return{localstorageStartTime:null,localstorageEndTime:null}})(),B=(0,G.useCallback)((()=>{if(R&&D){const e=L()(new Date(parseInt((0,p.A)(D),10))),t=L()(new Date(parseInt((0,p.A)(R),10)));return[e.toDate().getTime()||0,t.toDate().getTime()||0]}if(w&&N){const e=L()(w),t=L()(N);return[e.toDate().getTime()||0,t.toDate().getTime()||0]}}),[N,w,R,D]),[P,Q]=(0,G.useState)((0,j.$E)(t.pathname)),[_,V]=(0,G.useState)(!1),[F,q]=(0,G.useState)(!1),{stagedQuery:U,initQueryBuilderData:J}=(0,v.V)(),{maxTime:W,minTime:K,selectedTime:X}=(0,A.d4)((e=>e.globalTime));(0,G.useEffect)((()=>{V("custom"===X)}),[X]);const $=e=>{const o=(0,i.A)(c.n.METRICS_TIME_IN_DURATION);if(null!==o){const n={...JSON.parse(o)};n[t.pathname]=e,(0,s.A)(c.n.METRICS_TIME_IN_DURATION,JSON.stringify(n))}},Y=(0,G.useCallback)((()=>{const e=L()(),t=L()("custom"===X?K/1e6:W/1e6),o=e.diff(t,"seconds"),n=e.diff(t,"minutes"),r=e.diff(t,"hours"),a=e.diff(t,"days"),i=e.diff(t,"months");return i>0?"Last refresh -".concat(i," months ago"):a>0?"Last refresh - ".concat(a," days ago"):r>0?"Last refresh - ".concat(r," hrs ago"):n>0?"Last refresh - ".concat(n," mins ago"):"Last refresh - ".concat(o," sec ago")}),[W,K,X]),Z=(0,G.useMemo)((()=>t.pathname===f.A.LOGS_EXPLORER),[t.pathname]),ee=e=>{"custom"!==e?(o(e),$(e),_&&V(!1)):(V(!0),q(!0));const{maxTime:n,minTime:r}=(0,h.Ay)(e,B());if(!Z){I.set(u.z.startTime,r.toString()),I.set(u.z.endTime,n.toString());const e="".concat(t.pathname,"?").concat(I.toString());y.A.push(e)}U&&J((0,m.X)(U,n,r))},te=e=>{if(null!==e){const[n,r]=e;if(n&&r&&(o("custom",[(null==n?void 0:n.toDate().getTime())||0,(null==r?void 0:r.toDate().getTime())||0]),$(JSON.stringify({startTime:n,endTime:r})),!Z)){I.set(u.z.startTime,null==n?void 0:n.toDate().getTime().toString()),I.set(u.z.endTime,null==r?void 0:r.toDate().getTime().toString());const e="".concat(t.pathname,"?").concat(I.toString());y.A.push(e)}}};return(0,G.useEffect)((()=>{null===(0,i.A)(c.n.METRICS_TIME_IN_DURATION)&&(0,s.A)(c.n.METRICS_TIME_IN_DURATION,JSON.stringify({}));const e=t.pathname,n=(e=>{const t=(0,j.r3)(e),o=(0,i.A)(c.n.METRICS_TIME_IN_DURATION);if(null!==o){const t=JSON.parse(o||"{}")[e];if(t){let e;try{e=JSON.parse(t)}catch{e=t}return(0,H.A)(e)?"custom":t}}return t})(e),r=(0,j.$E)(e);Q(r);const a=(t=>null!==R&&null!==D?"custom":null!==N&&null!==w||"custom"!==t?t:(0,j.r3)(e))(n),[l=0,d=0]=B()||[];if(V("custom"===a),o(a,[l,d]),"custom"!==a){const{minTime:e,maxTime:t}=(0,h.Ay)(a);I.set(u.z.startTime,e.toString()),I.set(u.z.endTime,t.toString())}else I.set(u.z.startTime,l.toString()),I.set(u.z.endTime,d.toString());const f="".concat(t.pathname,"?").concat(I.toString());y.A.replace(f)}),[t.pathname,o,n]),(0,O.jsxs)("div",{className:"date-time-selection-container",children:[(0,O.jsx)(M.lV,{form:g,layout:"inline",initialValues:{interval:X},children:(0,O.jsxs)(M.MG,{children:[(0,O.jsx)(l.A,{open:T,setOpen:k,onSelect:e=>{ee(e)},onError:e=>{S(e)},selectedTime:X,onValidCustomDateChange:e=>te(e.time),selectedValue:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"15m";if(e&&t&&"custom"===o){const o=d.w.SLASH_DATETIME,n=e.format(o),r=t.format(o);return"".concat(n," - ").concat(r)}return o}(L()(K/1e6),L()(W/1e6),X),"data-testid":"dropDown",items:P}),(0,O.jsx)(M.eI,{hidden:_,children:(0,O.jsx)(a.Ay,{icon:(0,O.jsx)(r.A,{}),type:"primary",onClick:()=>{ee(X),Y()}})}),(0,O.jsx)(M.eI,{children:(0,O.jsx)(C.A,{disabled:_})})]})}),!x&&"custom"!==X&&(0,O.jsx)(z.A,{onLastRefreshHandler:Y,refreshButtonHidden:_}),(0,O.jsx)(E.A,{visible:F,onCreate:te,onCancel:()=>{q(!1)},setCustomDTPickerVisible:q})]})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(k,"useForm{[formSelector]}\nuseState{[hasSelectedTimeError, setHasSelectedTimeError](false)}\nuseState{[isOpen, setIsOpen](false)}\nuseUrlQuery{urlQuery}\nuseCallback{getTime}\nuseState{[options, setOptions](getOptions(location.pathname))}\nuseState{[refreshButtonHidden, setRefreshButtonHidden](false)}\nuseState{[customDateTimeVisible, setCustomDTPickerVisible](false)}\nuseQueryBuilder{{ stagedQuery, initQueryBuilderData }}\nuseSelector{{ maxTime, minTime, selectedTime }}\nuseEffect{}\nuseCallback{onLastRefreshHandler}\nuseMemo{isLogsExplorerPage}\nuseEffect{}",(()=>[b.A,v.V,A.d4]));const I=e=>({updateTimeInterval:(0,S.zH)(T.cj,e),globalTimeLoading:(0,S.zH)(T.te,e)}),D=(0,A.Ng)(null,I)((0,x.y)(k)),R=D;var w,N;(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(k,"DateTimeSelection","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/index.tsx"),w.register(I,"mapDispatchToProps","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/index.tsx"),w.register(D,"default","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/index.tsx")),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&N(e)},18534:(e,t,o)=>{"use strict";o.d(t,{MG:()=>b,eI:()=>v,lV:()=>g,o5:()=>L,uj:()=>m});var n,r,a,i,s,l,d=o(760742),c=o(167313),u=o(38267);function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=o.hmd(e),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const g=(0,u.Ay)(d.A)(n||(n=f(["\n\t&&& {\n\t\tjustify-content: flex-end;\n\t}\n"]))),L=(0,u.Ay)(c.A)(r||(r=f(["\n\t&&& {\n\t\ttext-align: right;\n\t}\n"]))),v=(0,u.Ay)(g.Item)(a||(a=f(["\n\t&&& {\n\t\tmargin: 0;\n\t}\n"]))),m=u.Ay.div(i||(i=f(["\n\tvisibility: ",";\n"])),(e=>{let{refreshButtonHidden:t}=e;return t?"hidden":"visible"})),b=u.Ay.div(s||(s=f(["\n\tdisplay: flex;\n\tgap: 0.1rem;\n"])));var h,p;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(g,"Form","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/styles.ts"),h.register(L,"Typography","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/styles.ts"),h.register(v,"FormItem","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/styles.ts"),h.register(m,"RefreshTextContainer","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/styles.ts"),h.register(b,"FormContainer","/home/ec2-user/signoz/frontend/src/container/TopNav/DateTimeSelection/styles.ts")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},439426:(e,t,o)=>{"use strict";o.d(t,{z:()=>d});var n,r=o(344864),a=o(296540),i=o(831443),s=o(932738);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const d=e=>{const{resetQuery:t,redirectWithQueryBuilderData:o}=(0,s.V)(),n=(0,r.A)(),l=(0,i.c)();(0,a.useEffect)((()=>{l||(t(e),o(e))}),[e,n,o,l,t])};var c,u;l(d,"useQueryBuilder{{ resetQuery, redirectWithQueryBuilderData }}\nuseUrlQuery{urlQuery}\nuseGetCompositeQueryParam{compositeQuery}\nuseEffect{}",(()=>[s.V,r.A,i.c])),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(d,"useShareBuilderUrl","/home/ec2-user/signoz/frontend/src/hooks/queryBuilder/useShareBuilderUrl.ts"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},729271:(e,t,o)=>{"use strict";o.d(t,{F:()=>s});var n,r=o(750449),a=o(296540);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const s=(e,t)=>{const{eventSourceInstance:o}=(0,r.r)();(0,a.useEffect)((()=>(o&&o.addEventListener(e,t),()=>{o&&o.removeEventListener(e,t)})),[e,o,t])};var l,d;i(s,"useEventSource{{ eventSourceInstance }}\nuseEffect{}",(()=>[r.r])),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(s,"useEventSourceEvent","/home/ec2-user/signoz/frontend/src/hooks/useEventSourceEvent/index.ts"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},911848:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var n,r=o(970794),a=o(39644),i=o(59938),s=o(932738),l=o(439426),d=o(750449),c=o(296540),u=o(889824),f=o(474848);function g(){(0,l.z)(a.FC);const{handleSetConfig:e}=(0,s.V)();return(0,c.useEffect)((()=>{e(r.Nv.LIST,u.qS.LOGS)}),[e]),(0,f.jsx)(d.L,{children:(0,f.jsx)(i.A,{})})}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(g,"useShareBuilderUrl{}\nuseQueryBuilder{{ handleSetConfig }}\nuseEffect{}",(()=>[l.z,s.V]));const L=g,v=L;var m,b;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(g,"LiveLogs","/home/ec2-user/signoz/frontend/src/pages/LiveLogs/index.tsx"),m.register(L,"default","/home/ec2-user/signoz/frontend/src/pages/LiveLogs/index.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},794914:(e,t,o)=>{"use strict";o.d(t,{A:()=>u});var n,r=o(747152),a=o(790070),i=o(167313),s=o(231058),l=o(474848);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function d(e){let{linesPerRow:t,handleLinesPerRowChange:o}=e;return(0,l.jsx)(r.A,{align:"middle",children:(0,l.jsxs)(a.A,{align:"center",children:[(0,l.jsx)(i.A,{children:"Max lines per Row "}),(0,l.jsx)(s.A,{min:1,max:10,value:t,onChange:o})]})})}const c=d,u=c;var f,g;(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(d,"PopoverContent","/home/ec2-user/signoz/frontend/src/pages/Logs/PopoverContent.tsx"),f.register(c,"default","/home/ec2-user/signoz/frontend/src/pages/Logs/PopoverContent.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},750449:(e,t,o)=>{"use strict";o.d(t,{L:()=>h,r:()=>p});var n,r=o(12137),a=o(367516),i=o(342185),s=o(161459),l=o(564444),d=o(95830),c=o(163317),u=o(232601),f=o(540377),g=o(412549),L=o(296540),v=o(474848);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const b=(0,L.createContext)({eventSourceInstance:null,isConnectionOpen:!1,isConnectionLoading:!1,initialLoading:!0,isConnectionError:!1,reconnectDueToError:!1,handleStartOpenConnection:()=>{},handleCloseConnection:()=>{},handleSetInitialLoading:()=>{}});function h(e){let{children:t}=e;const[o,n]=(0,L.useState)(!1),[m,h]=(0,L.useState)(!1),[p,y]=(0,L.useState)(!1),[H,G]=(0,L.useState)(!1),[A,x]=(0,L.useState)(!0),S=(0,L.useRef)(null),{notifications:T}=(0,g.E$)(),C=(0,L.useCallback)((e=>{x(e)}),[]),E=(0,L.useCallback)((()=>{h(!1),n(!0),x(!1)}),[]),j=(0,L.useCallback)((async()=>{n(!1),h(!0),x(!1);try{const e=await(0,s.A)({refreshToken:(0,a.A)(u.n.REFRESH_AUTH_TOKEN)||""});return(0,l.A)(e.data.userId,e.data.accessJwt,e.data.refreshJwt,!0),G(!0),void y(!0)}catch(e){if(T.error({message:e.getErrorCode(),description:e.getErrorMessage()}),y(!0),!S.current)return;S.current.close(),(0,i.f)()}}),[T]),z=(0,L.useCallback)((()=>{S.current&&(S.current.close(),S.current.removeEventListener("error",j),S.current.removeEventListener("open",E))}),[j,E]),M=(0,L.useCallback)((()=>{n(!1),h(!1),y(!1),z()}),[z]),O=(0,L.useCallback)((e=>{const{url:t,queryString:o}=e,n=t?"".concat(t,"/?").concat(o):"".concat(d.M.baseURL).concat(r.yS,"logs/livetail?").concat(o);S.current=new f.EventSourcePolyfill(n,{headers:{Authorization:"Bearer ".concat((0,a.A)(u.n.AUTH_TOKEN))},heartbeatTimeout:c.dy}),h(!0),y(!1),G(!1),S.current.addEventListener("error",j),S.current.addEventListener("open",E)}),[j,E]);(0,L.useEffect)((()=>()=>{M()}),[M]);const k=(0,L.useMemo)((()=>({eventSourceInstance:S.current,isConnectionError:p,isConnectionLoading:m,isConnectionOpen:o,initialLoading:A,reconnectDueToError:H,handleStartOpenConnection:O,handleCloseConnection:M,handleSetInitialLoading:C})),[p,m,o,A,H,O,M,C]);return(0,v.jsx)(b.Provider,{value:k,children:t})}m(h,"useState{[isConnectionOpen, setIsConnectionOpen](false)}\nuseState{[isConnectionLoading, setIsConnectionLoading](false)}\nuseState{[isConnectionError, setIsConnectionError](false)}\nuseState{[reconnectDueToError, setReconnectDueToError](false)}\nuseState{[initialLoading, setInitialLoading](true)}\nuseRef{eventSourceRef}\nuseNotifications{{ notifications }}\nuseCallback{handleSetInitialLoading}\nuseCallback{handleOpenConnection: EventListener}\nuseCallback{handleErrorConnection: EventListener}\nuseCallback{destroyEventSourceSession}\nuseCallback{handleCloseConnection}\nuseCallback{handleStartOpenConnection}\nuseEffect{}\nuseMemo{contextValue: IEventSourceContext}",(()=>[g.E$]));const p=()=>{const e=(0,L.useContext)(b);if(!e)throw new Error("Should be used inside the context");return e};var y,H;m(p,"useContext{context}"),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(b,"EventSourceContext","/home/ec2-user/signoz/frontend/src/providers/EventSource.tsx"),y.register(h,"EventSourceProvider","/home/ec2-user/signoz/frontend/src/providers/EventSource.tsx"),y.register(p,"useEventSource","/home/ec2-user/signoz/frontend/src/providers/EventSource.tsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},530038:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var n=o(954991),r=o.n(n),a=o(576314),i=o.n(a)()(r());i.push([e.id,".date-time-selection-container{margin-bottom:16px}","",{version:3,sources:["webpack://src/container/TopNav/DateTimeSelection/DateTimeSelection.styles.scss"],names:[],mappings:"AAAA,+BACC,kBAAA",sourcesContent:[".date-time-selection-container {\n\tmargin-bottom: 16px;\n}\n"],sourceRoot:""}]);const s=i},580827:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=(0,o(726203).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},915369:(e,t,o)=>{var n=o(785072),r=o(530038);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}}}]);
//# sourceMappingURL=Live Logs.7d822a22a14e1f74dda9.js.map