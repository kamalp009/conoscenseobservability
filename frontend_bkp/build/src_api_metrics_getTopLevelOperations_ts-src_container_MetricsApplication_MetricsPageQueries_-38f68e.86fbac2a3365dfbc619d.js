!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="63ca4149-811b-475d-99af-112128453d69",e._sentryDebugIdIdentifier="sentry-dbid-63ca4149-811b-475d-99af-112128453d69")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_api_metrics_getTopLevelOperations_ts-src_container_MetricsApplication_MetricsPageQueries_-38f68e"],{307653:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"}},904732:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(489379),a=r(296540),n=r(307653),i=r(812226),l=function(e,t){return a.createElement(i.A,(0,o.A)((0,o.A)({},e),{},{ref:t,icon:n.A}))};l.displayName="CloseCircleFilled";const s=a.forwardRef(l)},939387:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o,a=r(6012),n=r(997859);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=async e=>(await a.Ay.post("/service/top_level_operations",{start:(0,n.A)(e.start)?void 0:"".concat(e.start),end:(0,n.A)(e.end)?void 0:"".concat(e.end),service:e.service})).data,l=i,s=l;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"getTopLevelOperations","/home/ec2-user/signoz/frontend/src/api/metrics/getTopLevelOperations.ts"),d.register(l,"default","/home/ec2-user/signoz/frontend/src/api/metrics/getTopLevelOperations.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},333624:(e,t,r)=>{"use strict";r.d(t,{e:()=>d,o:()=>s});var o,a=r(970794),n=r(918513),i=r(819245),l=r(889824);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=e=>{let{autocompleteData:t,groupBy:r=[],legends:o,filterItems:s,aggregateOperator:d,dataSource:c,queryNameAndExpression:u,timeAggregateOperators:f,spaceAggregateOperators:p}=e;return{queryFormulas:[],queryData:t.map(((e,t)=>{const g={...a.it.metrics,aggregateOperator:d?d[t]:l.sR.SUM_RATE,disabled:!1,groupBy:r,aggregateAttribute:e,legend:o[t],stepInterval:(0,n.Ay)({end:i.A.getState().globalTime.maxTime,inputFormat:"ns",start:i.A.getState().globalTime.minTime}),filters:{items:s[t],op:"AND"},reduceTo:"avg",spaceAggregation:p[t],timeAggregation:f[t],dataSource:c};return u&&(g.queryName=u[t],g.expression=u[t]),g}))}},d=e=>{let{autocompleteData:t,additionalItems:r,legends:o,groupBy:s=[],disabled:d,expressions:c,legendFormulas:u,timeAggregateOperators:f,spaceAggregateOperators:p,dataSource:g}=e;return{queryFormulas:c.map(((e,t)=>({...a.A_,expression:e,legend:u[t]}))),queryData:t.map(((e,c)=>({...a.it.metrics,timeAggregation:f[c],spaceAggregation:p[c],temporality:l.vp.Delta,disabled:d[c],groupBy:s,legend:o[c],aggregateAttribute:t[c],queryName:a.I6[c],expression:a.I6[c],reduceTo:"avg",filters:{items:r[c],op:"AND"},stepInterval:(0,n.Ay)({end:i.A.getState().globalTime.maxTime,inputFormat:"ns",start:i.A.getState().globalTime.minTime}),dataSource:g})))}};var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(s,"getQueryBuilderQueries","/home/ec2-user/signoz/frontend/src/container/MetricsApplication/MetricsPageQueries/MetricsPageQueriesFactory.ts"),c.register(d,"getQueryBuilderQuerieswithFormula","/home/ec2-user/signoz/frontend/src/container/MetricsApplication/MetricsPageQueries/MetricsPageQueriesFactory.ts")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},907604:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});r(225094);var o,a=r(904732),n=r(236492),i=r(900428),l=r(650400),s=r(232776),d=r(484181),c=r(296540),u=r(923652),f=r(418562),p=r(760510),g=r(607363),A=r(505981),b=r(864769),m=r(474848);function v(e){var t;let{suffixIcon:r}=e;const{queries:o,staging:v,handleClose:y,handleBlur:h,handleClearAll:L,handleFocus:G,handleChange:H,handleEnvironmentChange:C,selectedQuery:x,optionsData:E,loading:M}=(0,s.Ay)(),[F,w]=(0,c.useState)([]),{featureFlags:R}=(0,g.Us)(),S=(null==R||null===(t=R.find((e=>e.name===p.t.DOT_METRICS_ENABLED)))||void 0===t?void 0:t.active)||!1,j=(0,d.mk)(S),[_,k]=(0,c.useState)([]),D=(0,c.useMemo)((()=>o.filter((e=>e.tagKey!==j))),[o,j]),T=(0,c.useMemo)((()=>(0,s._5)(D,v,x)),[D,x,v]);return(0,c.useEffect)((()=>{const e=o.filter((e=>e.tagKey===j));(null==e?void 0:e.length)>0?k(e[0].tagValue):k([])}),[o,j]),(0,c.useEffect)((()=>{(0,d.kJ)(S).then((e=>{e&&Array.isArray(e)&&e.length>0&&(0,d.u9)(S).then((e=>{w(e)}))}))}),[S]),(0,m.jsxs)("div",{className:"resourceAttributesFilter-container",children:[(0,m.jsx)("div",{className:"environment-selector",children:(0,m.jsx)(n.A,{getPopupContainer:u.k,showSearch:!0,mode:"multiple",value:_,placeholder:"Select Environment/s","data-testid":"resource-environment-filter",style:{minWidth:200,height:34},onChange:C,onBlur:h,children:F.map((e=>(0,m.jsx)(n.A.Option,{value:e.value,children:e.label},e.value)))},_.join(""))}),(0,m.jsx)("div",{className:"resource-attributes-selector",children:(0,m.jsxs)(b.s7,{children:[(0,m.jsxs)("div",{children:[D.map((e=>(0,m.jsx)(A.A,{queryData:e,onClose:y},e.id))),v.map(((e,t)=>(0,m.jsx)(b.Yw,{children:0===t?(0,d.TM)(e):e},(0,f.A)())))]}),(0,m.jsx)(n.A,{getPopupContainer:u.k,placeholder:!T&&"Search and Filter based on resource attributes.",onChange:H,bordered:!1,value:x,style:{flex:1},options:E.options,mode:null==E?void 0:E.mode,"data-testid":"resource-attributes-filter",onClick:G,onBlur:h,onClear:L,suffixIcon:r,notFoundContent:M?(0,m.jsxs)("span",{children:[(0,m.jsx)(i.A,{size:"small"})," Loading..."]}):(0,m.jsx)("span",{children:"No resource attributes available to filter. Please refer docs to send attributes."})}),o.length||v.length||x.length?(0,m.jsx)(l.Ay,{onClick:L,icon:(0,m.jsx)(a.A,{}),type:"text"}):null]})})]})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useResourceAttribute{{\n\t\tqueries,\n\t\tstaging,\n\t\thandleClose,\n\t\thandleBlur,\n\t\thandleClearAll,\n\t\thandleFocus,\n\t\thandleChange,\n\t\thandleEnvironmentChange,\n\t\tselectedQuery,\n\t\toptionsData,\n\t\tloading,\n\t}}\nuseState{[environments, setEnvironments]([])}\nuseAppContext{{ featureFlags }}\nuseState{[selectedEnvironments, setSelectedEnvironments]([])}\nuseMemo{queriesExcludingEnvironment}\nuseMemo{isEmpty}\nuseEffect{}\nuseEffect{}",(()=>[s.Ay,g.Us])),v.defaultProps={suffixIcon:void 0};const y=v,h=y;var L,G;(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(v,"ResourceAttributesFilter","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/ResourceAttributesFilter.tsx"),L.register(y,"default","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/ResourceAttributesFilter.tsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},718621:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var o,a=r(484181),n=r(760510),i=r(607363),l=r(864769),s=r(474848);function d(e){var t;let{queryData:r,onClose:o}=e;const{featureFlags:d}=(0,i.Us)(),c=(null==d||null===(t=d.find((e=>e.name===n.t.DOT_METRICS_ENABLED)))||void 0===t?void 0:t.active)||!1;return(0,s.jsxs)(l._4,{children:[(0,s.jsx)(l.Yw,{children:(0,a.TM)(r.tagKey)}),(0,s.jsx)(l.Yw,{children:r.operator}),(0,s.jsx)(l.Yw,{closable:r.tagKey!==(0,a.mk)(c),onClose:()=>{o(r.id)},children:r.tagValue.join(", ")})]})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(d,"useAppContext{{ featureFlags }}",(()=>[i.Us]));const c=d,u=c;var f,p;(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(d,"QueryChip","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/components/QueryChip/QueryChip.tsx"),f.register(c,"default","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/components/QueryChip/QueryChip.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},505981:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o,a=r(718621);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=a.A,i=n;var l,s;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(n,"default","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/components/QueryChip/index.ts"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},494379:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o,a=r(907604);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=a.A,i=n;var l,s;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(n,"default","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/index.ts"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},864769:(e,t,r)=>{"use strict";r.d(t,{Yw:()=>p,_4:()=>f,s7:()=>u});var o,a,n,i,l=r(438798),s=r(971524),d=r(38267);function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=r.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=d.Ay.div(o||(o=c(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.2rem;\n\tpadding: 0 0.2rem;\n\tbox-sizing: border-box;\n\tborder-radius: 3px;\n"]))),f=d.Ay.span(a||(a=c(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 0.5rem;\n\t&:hover {\n\t\t& > * {\n\t\t\tbackground: ","44;\n\t\t}\n\t}\n"])),l.Oh.primary),p=(0,d.Ay)(s.A)(n||(n=c(["\n\tmargin-right: 0.1rem;\n"])));var g,A;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(u,"SearchContainer","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/styles.ts"),g.register(f,"QueryChipContainer","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/styles.ts"),g.register(p,"QueryChipItem","/home/ec2-user/signoz/frontend/src/container/ResourceAttributesFilter/styles.ts")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},555355:(e,t,r)=>{"use strict";var o;r.d(t,{MM:()=>a,Oq:()=>l,fm:()=>n,x2:()=>i,xD:()=>s}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;let a=function(e){return e.Application="serviceName",e.P99="p99",e.ErrorRate="errorRate",e.Operations="callRate",e}({});const n={[a.Application]:"Application",[a.P99]:"P99 latency",[a.ErrorRate]:"Error Rate (% of total)",[a.Operations]:"Operations Per Second"};let i=function(e){return e[e.Application=200]="Application",e[e.P99=150]="P99",e[e.ErrorRate=150]="ErrorRate",e[e.Operations=150]="Operations",e}({});const l="descend",s="Search by service";var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(n,"ColumnTitle","/home/ec2-user/signoz/frontend/src/container/ServiceApplication/Columns/ColumnContants.ts"),d.register(l,"SORTING_ORDER","/home/ec2-user/signoz/frontend/src/container/ServiceApplication/Columns/ColumnContants.ts"),d.register(s,"SEARCH_PLACEHOLDER","/home/ec2-user/signoz/frontend/src/container/ServiceApplication/Columns/ColumnContants.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},727453:(e,t,r)=>{"use strict";r.d(t,{k:()=>u});var o,a=r(320736),n=r(377278),i=r(790070),l=r(779888),s=r(650400),d=r(555355),c=r(474848);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=e=>{let{setSelectedKeys:t,selectedKeys:r,confirm:o}=e;const u=()=>{o()};return(0,c.jsx)(n.A,{size:"small",children:(0,c.jsxs)(i.A,{align:"start",direction:"vertical",children:[(0,c.jsx)(l.A,{placeholder:d.xD,value:r[0],onChange:e=>{t(e.target.value?[e.target.value]:[])},allowClear:!0,onPressEnter:u}),(0,c.jsx)(s.Ay,{type:"primary",onClick:u,icon:(0,c.jsx)(a.A,{}),size:"small",children:"Search"})]})})};var f,p;(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&f.register(u,"filterDropdown","/home/ec2-user/signoz/frontend/src/container/ServiceApplication/Filter/FilterDropdown.tsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},375138:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var o,a=r(296540),n=r(412549);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const l=e=>{const{notifications:t}=(0,n.E$)();(0,a.useEffect)((()=>{e&&t.error({message:e.message})}),[e,t])};i(l,"useNotifications{{ notifications }}\nuseEffect{}",(()=>[n.E$]));const s=l,d=s;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(l,"useErrorNotification","/home/ec2-user/signoz/frontend/src/hooks/useErrorNotification.ts"),c.register(s,"default","/home/ec2-user/signoz/frontend/src/hooks/useErrorNotification.ts")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},502188:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var o,a=r(458555),n=r(775942);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const l=e=>{let{minTime:t,maxTime:r,selectedTime:o,selectedTags:i,options:l}=e;return(0,n.useQuery)({queryFn:()=>(0,a.A)({end:r,selectedTags:i,start:t}),queryKey:[t,r,o,i],...l})};var s,d;i(l,"useQuery{}",(()=>[n.useQuery])),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(l,"useQueryService","/home/ec2-user/signoz/frontend/src/hooks/useQueryService.ts"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},553179:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var o=r(954991),a=r.n(o),n=r(576314),i=r.n(n)()(a());i.push([e.id,".resourceAttributesFilter-container{display:flex;align-items:center;justify-content:stretch;flex-wrap:wrap;gap:8px;margin-bottom:16px}.resourceAttributesFilter-container .resource-attributes-selector{flex:1;border-radius:3px;background-color:var(--bg-ink-400);border:1px solid #454c58}.resourceAttributesFilter-container .environment-selector{min-width:200px}.resourceAttributesFilter-container .ant-form-item{margin-bottom:0}.lightMode .resourceAttributesFilter-container .resource-attributes-selector{border:1px solid #d9d9d9;background:var(--bg-vanilla-100)}","",{version:3,sources:["webpack://src/container/ResourceAttributesFilter/ResourceAttributesFilter.styles.scss"],names:[],mappings:"AAAA,oCACC,YAAA,CACA,kBAAA,CACA,uBAAA,CACA,cAAA,CACA,OAAA,CACA,kBAAA,CAEA,kEACC,MAAA,CACA,iBAAA,CAEA,kCAAA,CACA,wBAAA,CAGD,0DACC,eAAA,CAGD,mDACC,eAAA,CAMA,6EACC,wBAAA,CACA,gCAAA",sourcesContent:[".resourceAttributesFilter-container {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: stretch;\n\tflex-wrap: wrap;\n\tgap: 8px;\n\tmargin-bottom: 16px;\n\n\t.resource-attributes-selector {\n\t\tflex: 1;\n\t\tborder-radius: 3px;\n\n\t\tbackground-color: var(--bg-ink-400);\n\t\tborder: 1px solid #454c58;\n\t}\n\n\t.environment-selector {\n\t\tmin-width: 200px;\n\t}\n\n\t.ant-form-item {\n\t\tmargin-bottom: 0;\n\t}\n}\n\n.lightMode {\n\t.resourceAttributesFilter-container {\n\t\t.resource-attributes-selector {\n\t\t\tborder: 1px solid #d9d9d9;\n\t\t\tbackground: var(--bg-vanilla-100);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=i},225094:(e,t,r)=>{var o=r(785072),a=r(553179);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var n={insert:"head",singleton:!1};o(a,n);e.exports=a.locals||{}},997859:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const o=function(e){return null==e}}}]);
//# sourceMappingURL=src_api_metrics_getTopLevelOperations_ts-src_container_MetricsApplication_MetricsPageQueries_-38f68e.86fbac2a3365dfbc619d.js.map