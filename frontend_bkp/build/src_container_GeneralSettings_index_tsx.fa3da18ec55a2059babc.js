!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0bb19796-073f-4756-9228-1edaa72f8cb1",e._sentryDebugIdIdentifier="sentry-dbid-0bb19796-073f-4756-9228-1edaa72f8cb1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_container_GeneralSettings_index_tsx"],{733543:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o,a=n(6012),r=n(481281);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async()=>{try{return{statusCode:200,error:null,message:"Success",payload:(await a.Ay.get("/disks")).data}}catch(e){return(0,r.m)(e)}},l=s,i=l;var d,u;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(s,"getDisks","/home/ec2-user/signoz/frontend/src/api/disks/getDisks.ts"),d.register(l,"default","/home/ec2-user/signoz/frontend/src/api/disks/getDisks.ts")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},714756:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o,a=n(6012),r=n(481281);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async e=>{try{return{statusCode:200,error:null,message:"Success",payload:(await a.Ay.get("/settings/ttl?type=".concat(e))).data}}catch(t){return(0,r.m)(t)}},l=s,i=l;var d,u;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(s,"getRetention","/home/ec2-user/signoz/frontend/src/api/settings/getRetention.ts"),d.register(l,"default","/home/ec2-user/signoz/frontend/src/api/settings/getRetention.ts")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},525744:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o,a=n(6012),r=n(481281);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async e=>{try{return{statusCode:200,error:null,message:"Success",payload:(await a.Ay.post("/settings/ttl?duration=".concat(e.totalDuration,"&type=").concat(e.type).concat(e.coldStorage?"&coldStorage=".concat(e.coldStorage,"&toColdDuration=").concat(e.toColdDuration):""))).data}}catch(t){return(0,r.m)(t)}},l=s,i=l;var d,u;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(s,"setRetention","/home/ec2-user/signoz/frontend/src/api/settings/setRetention.ts"),d.register(l,"default","/home/ec2-user/signoz/frontend/src/api/settings/setRetention.ts")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},341929:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});n(943008);var o,a=n(438798),r=n(506354),s=n(686944),l=n(832099),i=n(523548),d=n(31081),u=n(296540),c=n(201601),g=n(474848);function f(e){let{text:t,url:n,useFilledIcon:o=!0,urlText:f}=e;const p=(0,d.hJ)(),m=e=>{e.stopPropagation()},v=(0,u.useMemo)((()=>(0,g.jsxs)("div",{className:"overlay--text-wrap",children:["".concat(t," "),n&&(0,g.jsx)("a",{onClick:m,href:n,rel:"noopener noreferrer",target:"_blank",children:f||"here"})]})),[t,n,f]),y=(0,u.useMemo)((()=>({...c.i,color:p?i.k.whiteCream:a.Oh[0]})),[p]),h=(0,u.useMemo)((()=>({...c.i,color:p?i.k.navyBlue:a.z1[6]})),[p]);return(0,g.jsx)(l.A,{overlay:v,children:o?(0,g.jsx)(r.A,{style:y}):(0,g.jsx)(s.A,{style:h})})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useIsDarkMode{isDarkMode}\nuseMemo{overlay}\nuseMemo{iconStyle}\nuseMemo{iconOutlinedStyle}",(()=>[d.hJ])),f.defaultProps={url:"",urlText:"",useFilledIcon:!0};const p=f,m=p;var v,y;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"TextToolTip","/home/ec2-user/signoz/frontend/src/components/TextToolTip/TextToolTip.tsx"),v.register(p,"default","/home/ec2-user/signoz/frontend/src/components/TextToolTip/TextToolTip.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},201601:(e,t,n)=>{"use strict";var o;n.d(t,{i:()=>a}),e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a={fontSize:"1rem"};var r,s;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(a,"style","/home/ec2-user/signoz/frontend/src/components/TextToolTip/constant.ts"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},140907:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o,a=n(341929);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=a.A,s=r;var l,i;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(r,"default","/home/ec2-user/signoz/frontend/src/components/TextToolTip/index.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},361864:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var o,a=n(636962),r=n(900428),s=n(16370),l=n(377278),i=n(167313),d=n(852741),u=n(650400),c=n(819549),g=n(747152),f=n(525744),p=n(140907),m=n(749190),v=n(346471),y=n(161704),h=n(412549),_=n(790973),b=n(607363),x=n(296540),A=n(218492),L=n(910940),G=n(120029),H=n(776300),S=n(529471),T=n(474848);function C(e){let{metricsTtlValuesPayload:t,tracesTtlValuesPayload:n,logsTtlValuesPayload:o,getAvailableDiskPayload:C,metricsTtlValuesRefetch:j,tracesTtlValuesRefetch:M,logsTtlValuesRefetch:w}=e;const{t:R}=(0,A.B)(["generalSettings"]),[V,z]=(0,x.useState)(!1),[P,k]=(0,x.useState)(!1),[E,D]=(0,x.useState)(!1),[U,F]=(0,x.useState)(!1),[B,I]=(0,x.useState)(!1),[O,q]=(0,x.useState)(!1),[N]=(0,x.useState)(C),[J,K]=(0,x.useState)(t),[Q,$]=(0,x.useState)(n),[Y,W]=(0,x.useState)(o),{user:X}=(0,b.Us)(),[Z]=(0,v.A)(["set_retention_period"],X.role),[ee,te]=(0,x.useState)(null),[ne,oe]=(0,x.useState)(null),[ae,re]=(0,x.useState)(null),[se,le]=(0,x.useState)(null),[ie,de]=(0,x.useState)(null),[ue,ce]=(0,x.useState)(null);(0,x.useEffect)((()=>{J&&(te(J.metrics_ttl_duration_hrs),oe(J.metrics_move_ttl_duration_hrs?J.metrics_move_ttl_duration_hrs:null))}),[J]),(0,x.useEffect)((()=>{Q&&(re(Q.traces_ttl_duration_hrs),le(Q.traces_move_ttl_duration_hrs?Q.traces_move_ttl_duration_hrs:null))}),[Q]),(0,x.useEffect)((()=>{Y&&(de(Y.logs_ttl_duration_hrs),ce(Y.logs_move_ttl_duration_hrs?Y.logs_move_ttl_duration_hrs:null))}),[Y]),(0,L.A)((async()=>{"pending"===t.status&&j()}),"pending"===t.status?1e3:null),(0,L.A)((async()=>{"pending"===n.status&&M()}),"pending"===n.status?1e3:null),(0,L.A)((async()=>{"pending"===o.status&&w()}),"pending"===o.status?1e3:null);const{notifications:ge}=(0,h.E$)(),fe=e=>{"metrics"===e&&z((e=>!e)),"traces"===e&&k((e=>!e)),"logs"===e&&D((e=>!e))},pe=e=>{"metrics"===e&&F((e=>!e)),"traces"===e&&I((e=>!e)),"logs"===e&&q((e=>!e))},me=(0,x.useCallback)((e=>{Z?fe(e):ge.error({message:"Sorry you don't have permission to make these changes"})}),[Z,ge]),ve=(0,x.useMemo)((()=>!!(0,_.A)(N,(e=>"s3"===(null==e?void 0:e.type)))),[N]),[ye,he,_e,be]=(0,x.useMemo)((()=>{const e=e=>R("retention_comparison_error",{name:e}),t=e=>R("retention_null_value_error",{name:e});let n=!1,o=!1,a=!1,r="";return ve&&((ee||ne)&&Number(ee)<=Number(ne)?(n=!0,r=e("metrics")):(ae||se)&&Number(ae)<=Number(se)?(o=!0,r=e("traces")):(ie||ue)&&Number(ie)<=Number(ue)&&(a=!0,r=e("logs"))),ee&&ae&&ie||(n=!0,o=!0,a=!0,ee||ae||ie?ee?ae?ie||(r=t("logs")):r=t("traces"):r=t("metrics"):r=t("metrics, traces and logs")),(null==J?void 0:J.metrics_ttl_duration_hrs)===ee&&J.metrics_move_ttl_duration_hrs===ne&&(n=!0),Q.traces_ttl_duration_hrs===ae&&Q.traces_move_ttl_duration_hrs===se&&(o=!0),Y.logs_ttl_duration_hrs===ie&&Y.logs_move_ttl_duration_hrs===ue&&(a=!0),[n,o,a,r]}),[Y.logs_move_ttl_duration_hrs,Y.logs_ttl_duration_hrs,ue,ie,J.metrics_move_ttl_duration_hrs,null==J?void 0:J.metrics_ttl_duration_hrs,ne,ee,ve,R,Q.traces_move_ttl_duration_hrs,Q.traces_ttl_duration_hrs,se,ae]),{isCloudUser:xe}=(0,y.V)(),Ae=[{name:"Metrics",retentionFields:[{name:R("total_retention_period"),value:ee,setValue:te},{name:R("move_to_s3"),value:ne,setValue:oe,hide:!ve}],save:{modal:V,modalOpen:()=>me("metrics"),apiLoading:U,saveButtonText:"pending"===t.status?(0,T.jsxs)("span",{children:[(0,T.jsx)(r.A,{spinning:!0,size:"small",indicator:(0,T.jsx)(a.A,{spin:!0})})," ",R("retention_save_button.pending",{name:"metrics"})]}):(0,T.jsx)("span",{children:R("retention_save_button.success")}),isDisabled:"pending"===t.status||ye},statusComponent:(0,T.jsx)(H.A,{total_retention:t.expected_metrics_ttl_duration_hrs,status:t.status,s3_retention:t.expected_metrics_move_ttl_duration_hrs})},{name:"Traces",retentionFields:[{name:R("total_retention_period"),value:ae,setValue:re},{name:R("move_to_s3"),value:se,setValue:le,hide:!ve}],save:{modal:P,modalOpen:()=>me("traces"),apiLoading:B,saveButtonText:"pending"===n.status?(0,T.jsxs)("span",{children:[(0,T.jsx)(r.A,{spinning:!0,size:"small",indicator:(0,T.jsx)(a.A,{spin:!0})})," ",R("retention_save_button.pending",{name:"traces"})]}):(0,T.jsx)("span",{children:R("retention_save_button.success")}),isDisabled:"pending"===n.status||he},statusComponent:(0,T.jsx)(H.A,{total_retention:n.expected_traces_ttl_duration_hrs,status:n.status,s3_retention:n.expected_traces_move_ttl_duration_hrs})},{name:"Logs",retentionFields:[{name:R("total_retention_period"),value:ie,setValue:de},{name:R("move_to_s3"),value:ue,setValue:ce,hide:!ve}],save:{modal:E,modalOpen:()=>me("logs"),apiLoading:O,saveButtonText:"pending"===o.status?(0,T.jsxs)("span",{children:[(0,T.jsx)(r.A,{spinning:!0,size:"small",indicator:(0,T.jsx)(a.A,{spin:!0})})," ",R("retention_save_button.pending",{name:"logs"})]}):(0,T.jsx)("span",{children:R("retention_save_button.success")}),isDisabled:"pending"===o.status||_e},statusComponent:(0,T.jsx)(H.A,{total_retention:o.expected_logs_ttl_duration_hrs,status:o.status,s3_retention:o.expected_logs_move_ttl_duration_hrs})}].map((e=>Array.isArray(e.retentionFields)&&e.retentionFields.length>0?(0,T.jsx)(x.Fragment,{children:(0,T.jsx)(s.A,{xs:22,xl:11,style:{margin:"0.5rem"},children:(0,T.jsxs)(l.A,{style:{height:"100%"},children:[(0,T.jsx)(i.A.Title,{style:{margin:0},level:3,children:e.name}),(0,T.jsx)(d.A,{style:{margin:"0.5rem 0",padding:0,opacity:.5,marginBottom:"1rem"}}),e.retentionFields.map((e=>(0,T.jsx)(G.A,{text:e.name,retentionValue:e.value,setRetentionValue:e.setValue,hide:!!e.hide},e.name))),!xe&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(S.i2,{children:[(0,T.jsx)(u.Ay,{type:"primary",onClick:e.save.modalOpen,disabled:e.save.isDisabled,children:e.save.saveButtonText}),e.statusComponent]}),(0,T.jsx)(c.A,{title:R("retention_confirmation"),focusTriggerAfterClose:!0,forceRender:!0,destroyOnClose:!0,closable:!0,onCancel:()=>fe(e.name.toLowerCase()),onOk:()=>(async e=>{let t,n;switch(e){case"metrics":t=ee,n=ne;break;case"traces":t=ae,n=se;break;case"logs":t=ie,n=ue}try{pe(e);const o=await(0,f.A)({type:e,totalDuration:"".concat(t||-1,"h"),coldStorage:ve?"s3":null,toColdDuration:"".concat(n||-1,"h")});let a=!1;409===o.statusCode&&(a=!0,ge.error({message:"Error",description:R("retention_request_race_condition"),placement:"topRight"})),"metrics"===e?(j(),a||K({metrics_ttl_duration_hrs:ee||-1,metrics_move_ttl_duration_hrs:ne||-1,status:""})):"traces"===e?(M(),a||$({traces_ttl_duration_hrs:ae||-1,traces_move_ttl_duration_hrs:se||-1,status:""})):"logs"===e&&(w(),a||W({logs_ttl_duration_hrs:ie||-1,logs_move_ttl_duration_hrs:ue||-1,status:""}))}catch(o){ge.error({message:"Error",description:R("retention_failed_message"),placement:"topRight"})}pe(e),fe(e)})(e.name.toLowerCase()),centered:!0,open:e.save.modal,confirmLoading:e.save.apiLoading,children:(0,T.jsx)(i.A,{children:R("retention_confirmation_description",{name:e.name.toLowerCase()})})})]})]})},e.name)},e.name):null));return(0,T.jsxs)(T.Fragment,{children:[Element,(0,T.jsxs)(s.A,{xs:24,md:22,xl:20,xxl:18,style:{margin:"auto"},children:[(0,T.jsxs)(S.po,{children:[!xe&&(0,T.jsx)(p.A,{text:"More details on how to set retention period",url:"https://signoz.io/docs/userguide/retention-period/"}),be&&(0,T.jsx)(S.yn,{children:be})]}),(0,T.jsx)(g.A,{justify:"start",children:Ae}),xe&&(0,T.jsx)(m.A,{})]})]})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(C,"useTranslation{{ t }}\nuseState{[modalMetrics, setModalMetrics](false)}\nuseState{[modalTraces, setModalTraces](false)}\nuseState{[modalLogs, setModalLogs](false)}\nuseState{[postApiLoadingMetrics, setPostApiLoadingMetrics](false)}\nuseState{[postApiLoadingTraces, setPostApiLoadingTraces](false)}\nuseState{[postApiLoadingLogs, setPostApiLoadingLogs](false)}\nuseState{[availableDisks](getAvailableDiskPayload)}\nuseState{[metricsCurrentTTLValues, setMetricsCurrentTTLValues](metricsTtlValuesPayload)}\nuseState{[tracesCurrentTTLValues, setTracesCurrentTTLValues](tracesTtlValuesPayload)}\nuseState{[logsCurrentTTLValues, setLogsCurrentTTLValues](logsTtlValuesPayload)}\nuseAppContext{{ user }}\nuseComponentPermission{[setRetentionPermission]}\nuseState{[\n\t\tmetricsTotalRetentionPeriod,\n\t\tsetMetricsTotalRetentionPeriod,\n\t](null)}\nuseState{[\n\t\tmetricsS3RetentionPeriod,\n\t\tsetMetricsS3RetentionPeriod,\n\t](null)}\nuseState{[\n\t\ttracesTotalRetentionPeriod,\n\t\tsetTracesTotalRetentionPeriod,\n\t](null)}\nuseState{[\n\t\ttracesS3RetentionPeriod,\n\t\tsetTracesS3RetentionPeriod,\n\t](null)}\nuseState{[\n\t\tlogsTotalRetentionPeriod,\n\t\tsetLogsTotalRetentionPeriod,\n\t](null)}\nuseState{[\n\t\tlogsS3RetentionPeriod,\n\t\tsetLogsS3RetentionPeriod,\n\t](null)}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseInterval{}\nuseInterval{}\nuseInterval{}\nuseNotifications{{ notifications }}\nuseCallback{onClickSaveHandler}\nuseMemo{s3Enabled}\nuseMemo{[\n\t\tisMetricsSaveDisabled,\n\t\tisTracesSaveDisabled,\n\t\tisLogsSaveDisabled,\n\t\terrorText,\n\t]}\nuseGetTenantLicense{{ isCloudUser: isCloudUserVal }}",(()=>[A.B,b.Us,v.A,L.A,L.A,L.A,h.E$,y.V]));const j=C,M=j;var w,R;(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(C,"GeneralSettings","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/GeneralSettings.tsx"),w.register(j,"default","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/GeneralSettings.tsx")),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&R(e)},120029:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var o,a=n(236492),r=n(747152),s=n(16370),l=n(161704),i=n(790973),d=n(296540),u=n(529471),c=n(733312),g=n(474848);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Option:p}=a.A;function m(e){let{retentionValue:t,setRetentionValue:n,text:o,hide:f}=e;const{value:m,timeUnitValue:v}=(0,c.yV)(Number(t)),[y,h]=(0,d.useState)(v),[_,b]=(0,d.useState)(m),x=(0,d.useRef)(!1),{isCloudUser:A}=(0,l.V)();(0,d.useEffect)((()=>{x.current||b(m)}),[m]),(0,d.useEffect)((()=>{x.current||h(v)}),[v]);const L=c.pJ.map((e=>(0,g.jsx)(p,{value:e.value,children:e.key},e.value)));(0,d.useEffect)((()=>{var e;const t=null===(e=(0,i.A)(c.pJ,(e=>e.value===y)))||void 0===e?void 0:e.multiplier;_||n(null),_&&t&&n(_*(1/t))}),[y,_,n]);return f?null:(0,g.jsx)(u.Sq,{children:(0,g.jsxs)(r.A,{justify:"space-between",children:[(0,g.jsx)(s.A,{span:12,style:{display:"flex"},children:(0,g.jsx)(u.Fx,{children:o})}),(0,g.jsx)(r.A,{justify:"end",children:(0,g.jsxs)(u.Se,{children:[(0,g.jsx)(u.pd,{value:_&&_>=0?_:"",disabled:A,onChange:e=>((e,t)=>{x.current=!0;const{value:n}=e.target,o=parseInt(n,10);n.length>0&&o.toString()===n&&t(Math.abs(o));0===n.length&&t(null)})(e,b),style:{width:75}}),(0,g.jsx)(a.A,{value:y,onChange:e=>{var t;const n=null===(t=(0,i.A)(c.pJ,(t=>t.value===e)))||void 0===t?void 0:t.value;n&&h(n)},disabled:A,style:{width:100},children:L})]})})]})})}f(m,"useState{[selectedTimeUnit, setSelectTimeUnit](initialTimeUnitValue)}\nuseState{[selectedValue, setSelectedValue](initialValue)}\nuseRef{interacted}\nuseGetTenantLicense{{ isCloudUser: isCloudUserVal }}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(()=>[l.V]));const v=m,y=v;var h,_;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(p,"Option","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/Retention.tsx"),h.register(m,"Retention","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/Retention.tsx"),h.register(v,"default","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/Retention.tsx")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},776300:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var o,a=n(438798),r=n(210464),s=n(377278),l=n(16370),i=n(296540),d=n(218492),u=n(733312),c=n(474848);function g(e){let{total_retention:t,s3_retention:n,status:o}=e;const{t:g}=(0,d.B)(["generalSettings"]),f=(0,i.useMemo)((()=>"success"===o?a.wL[6]:"pending"===o?a.T_[6]:"failed"===o?a.T$[6]:"inherit"),[o]);if(!o)return null;const p=n&&-1!==n?g("status_message.s3_part",{s3_retention:(0,u.Te)(n)}):"",m=t&&-1!==t?g("status_message.".concat(o),{total_retention:(0,u.Te)(t),s3_part:p}):null;return m?(0,c.jsx)(s.A,{style:{width:"100%"},children:(0,c.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",justifyContent:"center"},children:[(0,c.jsx)(l.A,{xs:1,children:(0,c.jsx)(r.A,{style:{fontSize:"1rem"}})}),(0,c.jsx)(l.A,{xs:22,style:{color:f},children:m})]})}):null}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(g,"useTranslation{{ t }}\nuseMemo{messageColor}",(()=>[d.B]));const f=g,p=f;var m,v;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(g,"StatusMessage","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/StatusMessage.tsx"),m.register(f,"default","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/StatusMessage.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},765891:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var o,a=n(167313),r=n(733543),s=n(714756),l=n(847578),i=n(607363),d=n(218492),u=n(775942),c=n(361864),g=n(474848);function f(){var e,t,n,o,f,p,m,v;const{t:y}=(0,d.B)("common"),{user:h}=(0,i.Us)(),[_,b,x,A]=(0,u.useQueries)([{queryFn:()=>(0,s.A)("metrics"),queryKey:["getRetentionPeriodApiMetrics",null==h?void 0:h.accessJwt]},{queryFn:()=>(0,s.A)("traces"),queryKey:["getRetentionPeriodApiTraces",null==h?void 0:h.accessJwt]},{queryFn:()=>(0,s.A)("logs"),queryKey:["getRetentionPeriodApiLogs",null==h?void 0:h.accessJwt]},{queryFn:r.A,queryKey:["getDisks",null==h?void 0:h.accessJwt]}]);var L,G,H,S,T,C;return _.isError||A.isError?(0,g.jsx)(a.A,{children:(null===(L=_.data)||void 0===L?void 0:L.error)||(null===(G=A.data)||void 0===G?void 0:G.error)||y("something_went_wrong")}):b.isError||A.isError?(0,g.jsx)(a.A,{children:(null===(H=b.data)||void 0===H?void 0:H.error)||(null===(S=A.data)||void 0===S?void 0:S.error)||y("something_went_wrong")}):x.isError||A.isError?(0,g.jsx)(a.A,{children:(null===(T=x.data)||void 0===T?void 0:T.error)||(null===(C=A.data)||void 0===C?void 0:C.error)||y("something_went_wrong")}):A.isLoading||null===(e=A.data)||void 0===e||!e.payload||_.isLoading||null===(t=_.data)||void 0===t||!t.payload||b.isLoading||null===(n=b.data)||void 0===n||!n.payload||x.isLoading||null===(o=x.data)||void 0===o||!o.payload?(0,g.jsx)(l.A,{tip:"Loading..",height:"70vh"}):(0,g.jsx)(c.A,{getAvailableDiskPayload:null===(f=A.data)||void 0===f?void 0:f.payload,metricsTtlValuesPayload:null===(p=_.data)||void 0===p?void 0:p.payload,metricsTtlValuesRefetch:_.refetch,tracesTtlValuesPayload:null===(m=b.data)||void 0===m?void 0:m.payload,tracesTtlValuesRefetch:b.refetch,logsTtlValuesPayload:null===(v=x.data)||void 0===v?void 0:v.payload,logsTtlValuesRefetch:x.refetch})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useTranslation{{ t }}\nuseAppContext{{ user }}\nuseQueries{[\n\t\tgetRetentionPeriodMetricsApiResponse,\n\t\tgetRetentionPeriodTracesApiResponse,\n\t\tgetRetentionPeriodLogsApiResponse,\n\t\tgetDisksResponse,\n\t]}",(()=>[d.B,i.Us,u.useQueries]));const p=f,m=p;var v,y;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"GeneralSettings","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/index.tsx"),v.register(p,"default","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/index.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},529471:(e,t,n)=>{"use strict";n.d(t,{Fx:()=>w,Se:()=>R,Sq:()=>A,i2:()=>V,pd:()=>L,po:()=>C,yn:()=>M});var o,a,r,s,l,i,d,u,c,g,f,p,m,v=n(16370),y=n(779888),h=n(167313),_=n(811721),b=n(38267);function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=n.hmd(e),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&m(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const A=(0,b.Ay)(v.A)(o||(o=x(["\n\tmargin: 0.75rem 0;\n"]))),L=(0,b.Ay)(y.A)(a||(a=x(["\n\t&&& {\n\t\theight: 2rem;\n\t\tmax-width: 150px;\n\t}\n"]))),G=(0,b.Ay)(h.A)(r||(r=x(["\n\t&&& {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n"]))),H=b.Ay.div(s||(s=x(["\n\t&&& {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\twidth: 50%;\n\t\talign-items: center;\n\t\tmargin-top: 3rem;\n\t}\n"]))),S=(0,b.Ay)(_.A)(l||(l=x(["\n\t&&& {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmax-width: 150px;\n\t\tmin-width: 150px;\n\t}\n"]))),T=b.Ay.div(i||(i=x(["\n\t&&& {\n\t\tmin-width: 100px;\n\t}\n"]))),C=b.Ay.div(d||(d=x(["\n\t&&& {\n\t\tmargin-top: 2rem;\n\t\tmargin-bottom: 2rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 1rem;\n\n\t\t> article {\n\t\t\tmargin-right: 1rem;\n\t\t}\n\t}\n"]))),j=b.Ay.div(u||(u=x(["\n\t&&& {\n\t\tmargin-top: 2rem;\n\t\tmargin-bottom: 2rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 50%;\n\t\tjustify-content: flex-end;\n\t}\n"]))),M=(0,b.Ay)(h.A)(c||(c=x(["\n\t&&& {\n\t\tcolor: #e89a3c;\n\t\tfont-style: italic;\n\t}\n"]))),w=(0,b.Ay)(h.A)(g||(g=x(["\n\tvertical-align: middle;\n\twhite-space: pre-wrap;\n"]))),R=b.Ay.div(f||(f=x(["\n\tdisplay: inline-flex;\n"]))),V=b.Ay.div(p||(p=x(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 1rem;\n\tmargin-top: 10%;\n"])));var z,P;(z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(z.register(A,"RetentionContainer","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(L,"Input","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(G,"Typography","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(H,"ButtonContainer","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(S,"Dropdown","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(T,"TextContainer","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(C,"ErrorTextContainer","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(j,"ToolTipContainer","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(M,"ErrorText","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(w,"RetentionFieldLabel","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(R,"RetentionFieldInputContainer","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts"),z.register(V,"ActionItemsContainer","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/styles.ts")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},733312:(e,t,n)=>{"use strict";var o;n.d(t,{Te:()=>s,pJ:()=>a,yV:()=>r}),e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=[{value:"hr",key:"Hours",multiplier:1},{value:"day",key:"Days",multiplier:1/24},{value:"month",key:"Months",multiplier:1/720}],r=e=>{if(e)for(let t=a.length-1;t>=0;t-=1){const n=a[t],o=n.multiplier*e;if(o>=1&&o===parseInt("".concat(o),10))return{value:o,timeUnitValue:n.value}}return{value:e,timeUnitValue:a[0].value}},s=e=>{if(!e)return"";const t=r(e);return"".concat(t.value," ").concat(t.timeUnitValue).concat(t.value>=2?"s":"")};var l,i;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(a,"TimeUnits","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/utils.ts"),l.register(r,"convertHoursValueToRelevantUnit","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/utils.ts"),l.register(s,"convertHoursValueToRelevantUnitString","/home/ec2-user/signoz/frontend/src/container/GeneralSettings/utils.ts")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},790926:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(350984);var o,a=n(377278),r=n(167313),s=n(597213),l=n(474848);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var i,d;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(){return(0,l.jsxs)(a.A,{className:"general-settings-container",children:[(0,l.jsx)(s.A,{size:16}),(0,l.jsxs)(r.A.Text,{children:["Please ",(0,l.jsx)("a",{href:"mailto:cloud-support@signoz.io",children:" email us "})," or connect with us via chat support to change the retention period."]})]})}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(u,"GeneralSettingsCloud","/home/ec2-user/signoz/frontend/src/container/GeneralSettingsCloud/GeneralSettingsCloud.tsx"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},749190:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o,a=n(790926);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=a.A,s=r;var l,i;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(r,"default","/home/ec2-user/signoz/frontend/src/container/GeneralSettingsCloud/index.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},398261:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(954991),a=n.n(o),r=n(576314),s=n.n(r)()(a());s.push([e.id,".overlay--text-wrap{white-space:pre-wrap}","",{version:3,sources:["webpack://src/components/TextToolTip/TextToolTip.style.scss"],names:[],mappings:"AAAA,oBACC,oBAAA",sourcesContent:[".overlay--text-wrap {\n\twhite-space: pre-wrap;\n}\n"],sourceRoot:""}]);const l=s},123141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(954991),a=n.n(o),r=n(576314),s=n.n(r)()(a());s.push([e.id,".general-settings-container{margin:16px 8px}.general-settings-container .ant-card-body{display:flex;align-items:center;gap:16px;padding:8px;margin:16px 0}","",{version:3,sources:["webpack://src/container/GeneralSettingsCloud/GeneralSettingsCloud.styles.scss"],names:[],mappings:"AAAA,4BACC,eAAA,CAEA,2CACC,YAAA,CACA,kBAAA,CACA,QAAA,CACA,WAAA,CACA,aAAA",sourcesContent:[".general-settings-container {\n\tmargin: 16px 8px;\n\n\t.ant-card-body {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 16px;\n\t\tpadding: 8px;\n\t\tmargin: 16px 0;\n\t}\n}\n"],sourceRoot:""}]);const l=s},943008:(e,t,n)=>{var o=n(785072),a=n(398261);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r={insert:"head",singleton:!1};o(a,r);e.exports=a.locals||{}},350984:(e,t,n)=>{var o=n(785072),a=n(123141);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r={insert:"head",singleton:!1};o(a,r);e.exports=a.locals||{}}}]);
//# sourceMappingURL=src_container_GeneralSettings_index_tsx.fa3da18ec55a2059babc.js.map