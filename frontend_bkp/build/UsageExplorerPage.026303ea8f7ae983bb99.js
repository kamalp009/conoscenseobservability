!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="94bfd9dd-e1d1-4ea5-be92-dfc62f6c3480",e._sentryDebugIdIdentifier="sentry-dbid-94bfd9dd-e1d1-4ea5-be92-dfc62f6c3480")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["UsageExplorerPage"],{156255:(e,t,a)=>{a.d(t,{f:()=>L});var l,r=a(236492),o=a(790070),s=a(167313),n=a(931073),d=a(296540),i=a(349924),c=a(283205),u=a(929913),f=a(427366),g=a(55607),b=a(474848);e=a.hmd(e),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Option:v}=r.A,m=[{value:30,label:"Last 30 Days"},{value:7,label:"Last week"},{value:1,label:"Last day"}],h=[{value:604800,chartDivideMultiplier:1,label:"Weekly",applicableOn:[m[0]]},{value:86400,chartDivideMultiplier:30,label:"Daily",applicableOn:[m[0],m[1]]},{value:3600,chartDivideMultiplier:10,label:"Hours",applicableOn:[m[2],m[1]]}];function x(e){const[t,a]=(0,d.useState)(m[1]),[l,c]=(0,d.useState)(h[2]),[u,p]=(0,d.useState)(""),{selectedTime:x}=(0,i.d4)((e=>e.globalTime)),{getServicesList:y,getUsageData:L,globalTime:H,totalCount:S,usageData:j}=e,{services:G}=(0,i.d4)((e=>e.metrics));(0,d.useEffect)((()=>{if(t&&l){const e=1e6*(new Date).getTime(),a=e-24*t.value*36e5*1e6;L(a,e,l.value,u)}}),[t,l,u,L]),(0,d.useEffect)((()=>{y({selectedTimeInterval:x})}),[H,y,x]);const w={labels:j.map((e=>new Date(e.timestamp/1e6))),datasets:[{label:"Span Count",data:j.map((e=>e.count)),backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:2}]};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.A,{style:{marginTop:40,marginLeft:20},children:[(0,b.jsx)(o.A,{children:(0,b.jsx)(r.A,{onSelect:e=>{a(m.filter((t=>t.value==parseInt(e)))[0])},value:t.label,children:m.map((e=>{let{value:t,label:a}=e;return(0,b.jsx)(v,{value:t,children:a},t)}))})}),(0,b.jsx)(o.A,{children:(0,b.jsx)(r.A,{onSelect:e=>{c(h.filter((t=>t.value===parseInt(e)))[0])},value:l.label,children:h.filter((e=>e.applicableOn.includes(t))).map((e=>(0,b.jsx)(v,{value:e.value,children:e.label},e.label)))})}),(0,b.jsx)(o.A,{children:(0,b.jsxs)(r.A,{onSelect:e=>{p(e)},value:u||"All Services",children:[(0,b.jsx)(v,{value:"",children:"All Services"}),null==G?void 0:G.map((e=>(0,b.jsx)(v,{value:e.serviceName,children:e.serviceName},e.serviceName)))]})}),(0,f.QB)()&&0===S?(0,b.jsx)(o.A,{style:{width:"100%",margin:"40px 0",marginLeft:20,justifyContent:"center"},children:(0,b.jsxs)(s.A,{children:["No spans found. Please add instrumentation (follow this",(0,b.jsx)("a",{href:"https://signoz.io/docs/instrumentation/overview",target:"_blank",style:{marginLeft:3},rel:"noreferrer",children:"guide"}),")"]})}):(0,b.jsx)(o.A,{style:{display:"block",marginLeft:20,width:200},children:(0,b.jsx)(s.A,{children:"Total count is ".concat(S)})})]}),(0,b.jsx)(g.Z,{children:(0,b.jsx)(n.A,{name:"usage",data:w,type:"bar"})})]})}p(x,"useState{[selectedTime, setSelectedTime](timeDaysOptions[1])}\nuseState{[selectedInterval, setSelectedInterval](interval[2])}\nuseState{[selectedService, setSelectedService]('')}\nuseSelector{{ selectedTime: globalSelectedTime }}\nuseSelector{{ services }}\nuseEffect{}\nuseEffect{}",(()=>[i.d4,i.d4]));const y=e=>{let t=0;for(const a of e.usageDate)t+=a.count;return{totalCount:t,usageData:e.usageDate,globalTime:e.globalTime}},L=(0,c.y)((0,i.Ng)(y,{getUsageData:u.Cb,getServicesList:u.w8})(x));var H,S;(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(v,"Option","/home/ec2-user/signoz/frontend/src/modules/Usage/UsageExplorer.tsx"),H.register(m,"timeDaysOptions","/home/ec2-user/signoz/frontend/src/modules/Usage/UsageExplorer.tsx"),H.register(h,"interval","/home/ec2-user/signoz/frontend/src/modules/Usage/UsageExplorer.tsx"),H.register(x,"_UsageExplorer","/home/ec2-user/signoz/frontend/src/modules/Usage/UsageExplorer.tsx"),H.register(y,"mapStateToProps","/home/ec2-user/signoz/frontend/src/modules/Usage/UsageExplorer.tsx"),H.register(L,"UsageExplorer","/home/ec2-user/signoz/frontend/src/modules/Usage/UsageExplorer.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},360187:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var l,r=a(156255),o=a(474848);e=a.hmd(e),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function s(){return(0,o.jsx)(r.f,{})}const n=s,d=n;var i,c;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(s,"UsageExplorerContainer","/home/ec2-user/signoz/frontend/src/modules/Usage/index.tsx"),i.register(n,"default","/home/ec2-user/signoz/frontend/src/modules/Usage/index.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},55607:(e,t,a)=>{a.d(t,{Z:()=>n});var l,r,o=a(377278),s=a(38267);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=(0,s.Ay)(o.A)(l||(d=["\n\t&&& {\n\t\twidth: 90%;\n\t\tmargin-top: 2rem;\n\t}\n\n\t.ant-card-body {\n\t\theight: 70vh;\n\t}\n"],i||(i=d.slice(0)),l=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(i)}}))));var d,i,c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(n,"Card","/home/ec2-user/signoz/frontend/src/modules/Usage/styles.ts"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}}]);
//# sourceMappingURL=UsageExplorerPage.026303ea8f7ae983bb99.js.map