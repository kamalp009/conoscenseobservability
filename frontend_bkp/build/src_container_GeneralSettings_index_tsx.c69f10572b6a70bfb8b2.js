!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e9c69981-2a03-436a-957f-c0c40b8727fb",e._sentryDebugIdIdentifier="sentry-dbid-e9c69981-2a03-436a-957f-c0c40b8727fb")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"17f48d656df8bdfe8a78529d7f600f8c98790625"},(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_container_GeneralSettings_index_tsx"],{733543:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o,a=n(6012),r=n(481281);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async()=>{try{return{statusCode:200,error:null,message:"Success",payload:(await a.Ay.get("/disks")).data}}catch(e){return(0,r.m)(e)}},l=s,i=l;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(s,"getDisks","/home/ec2-user/conoscene/frontend_bkp/src/api/disks/getDisks.ts"),d.register(l,"default","/home/ec2-user/conoscene/frontend_bkp/src/api/disks/getDisks.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},714756:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o,a=n(6012),r=n(481281);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async e=>{try{return{statusCode:200,error:null,message:"Success",payload:(await a.Ay.get("/settings/ttl?type=".concat(e))).data}}catch(t){return(0,r.m)(t)}},l=s,i=l;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(s,"getRetention","/home/ec2-user/conoscene/frontend_bkp/src/api/settings/getRetention.ts"),d.register(l,"default","/home/ec2-user/conoscene/frontend_bkp/src/api/settings/getRetention.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},525744:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o,a=n(6012),r=n(481281);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=async e=>{try{return{statusCode:200,error:null,message:"Success",payload:(await a.Ay.post("/settings/ttl?duration=".concat(e.totalDuration,"&type=").concat(e.type).concat(e.coldStorage?"&coldStorage=".concat(e.coldStorage,"&toColdDuration=").concat(e.toColdDuration):""))).data}}catch(t){return(0,r.m)(t)}},l=s,i=l;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(s,"setRetention","/home/ec2-user/conoscene/frontend_bkp/src/api/settings/setRetention.ts"),d.register(l,"default","/home/ec2-user/conoscene/frontend_bkp/src/api/settings/setRetention.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},341929:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});n(943008);var o,a=n(438798),r=n(506354),s=n(686944),l=n(832099),i=n(523548),d=n(31081),c=n(296540),u=n(201601),p=n(474848);function f(e){let{text:t,url:n,useFilledIcon:o=!0,urlText:f}=e;const g=(0,d.hJ)(),m=e=>{e.stopPropagation()},v=(0,c.useMemo)((()=>(0,p.jsxs)("div",{className:"overlay--text-wrap",children:["".concat(t," "),n&&(0,p.jsx)("a",{onClick:m,href:n,rel:"noopener noreferrer",target:"_blank",children:f||"here"})]})),[t,n,f]),_=(0,c.useMemo)((()=>({...u.i,color:g?i.k.whiteCream:a.Oh[0]})),[g]),y=(0,c.useMemo)((()=>({...u.i,color:g?i.k.navyBlue:a.z1[6]})),[g]);return(0,p.jsx)(l.A,{overlay:v,children:o?(0,p.jsx)(r.A,{style:_}):(0,p.jsx)(s.A,{style:y})})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useIsDarkMode{isDarkMode}\nuseMemo{overlay}\nuseMemo{iconStyle}\nuseMemo{iconOutlinedStyle}",(()=>[d.hJ])),f.defaultProps={url:"",urlText:"",useFilledIcon:!0};const g=f,m=g;var v,_;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"TextToolTip","/home/ec2-user/conoscene/frontend_bkp/src/components/TextToolTip/TextToolTip.tsx"),v.register(g,"default","/home/ec2-user/conoscene/frontend_bkp/src/components/TextToolTip/TextToolTip.tsx")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},201601:(e,t,n)=>{"use strict";var o;n.d(t,{i:()=>a}),e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a={fontSize:"1rem"};var r,s;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(a,"style","/home/ec2-user/conoscene/frontend_bkp/src/components/TextToolTip/constant.ts"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},140907:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o,a=n(341929);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=a.A,s=r;var l,i;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(r,"default","/home/ec2-user/conoscene/frontend_bkp/src/components/TextToolTip/index.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},361864:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var o,a=n(636962),r=n(900428),s=n(16370),l=n(377278),i=n(167313),d=n(852741),c=n(650400),u=n(819549),p=n(747152),f=n(525744),g=n(140907),m=n(749190),v=n(346471),_=n(161704),y=n(412549),b=n(790973),h=n(607363),x=n(296540),A=n(218492),L=n(910940),G=n(120029),H=n(776300),S=n(529471),T=n(474848);function C(e){let{metricsTtlValuesPayload:t,tracesTtlValuesPayload:n,logsTtlValuesPayload:o,getAvailableDiskPayload:C,metricsTtlValuesRefetch:k,tracesTtlValuesRefetch:j,logsTtlValuesRefetch:M}=e;const{t:w}=(0,A.B)(["generalSettings"]),[R,V]=(0,x.useState)(!1),[P,E]=(0,x.useState)(!1),[D,U]=(0,x.useState)(!1),[F,B]=(0,x.useState)(!1),[I,O]=(0,x.useState)(!1),[q,z]=(0,x.useState)(!1),[N]=(0,x.useState)(C),[J,K]=(0,x.useState)(t),[Q,$]=(0,x.useState)(n),[Y,W]=(0,x.useState)(o),{user:X}=(0,h.Us)(),[Z]=(0,v.A)(["set_retention_period"],X.role),[ee,te]=(0,x.useState)(null),[ne,oe]=(0,x.useState)(null),[ae,re]=(0,x.useState)(null),[se,le]=(0,x.useState)(null),[ie,de]=(0,x.useState)(null),[ce,ue]=(0,x.useState)(null);(0,x.useEffect)((()=>{J&&(te(J.metrics_ttl_duration_hrs),oe(J.metrics_move_ttl_duration_hrs?J.metrics_move_ttl_duration_hrs:null))}),[J]),(0,x.useEffect)((()=>{Q&&(re(Q.traces_ttl_duration_hrs),le(Q.traces_move_ttl_duration_hrs?Q.traces_move_ttl_duration_hrs:null))}),[Q]),(0,x.useEffect)((()=>{Y&&(de(Y.logs_ttl_duration_hrs),ue(Y.logs_move_ttl_duration_hrs?Y.logs_move_ttl_duration_hrs:null))}),[Y]),(0,L.A)((async()=>{"pending"===t.status&&k()}),"pending"===t.status?1e3:null),(0,L.A)((async()=>{"pending"===n.status&&j()}),"pending"===n.status?1e3:null),(0,L.A)((async()=>{"pending"===o.status&&M()}),"pending"===o.status?1e3:null);const{notifications:pe}=(0,y.E$)(),fe=e=>{"metrics"===e&&V((e=>!e)),"traces"===e&&E((e=>!e)),"logs"===e&&U((e=>!e))},ge=e=>{"metrics"===e&&B((e=>!e)),"traces"===e&&O((e=>!e)),"logs"===e&&z((e=>!e))},me=(0,x.useCallback)((e=>{Z?fe(e):pe.error({message:"Sorry you don't have permission to make these changes"})}),[Z,pe]),ve=(0,x.useMemo)((()=>!!(0,b.A)(N,(e=>"s3"===(null==e?void 0:e.type)))),[N]),[_e,ye,be,he]=(0,x.useMemo)((()=>{const e=e=>w("retention_comparison_error",{name:e}),t=e=>w("retention_null_value_error",{name:e});let n=!1,o=!1,a=!1,r="";return ve&&((ee||ne)&&Number(ee)<=Number(ne)?(n=!0,r=e("metrics")):(ae||se)&&Number(ae)<=Number(se)?(o=!0,r=e("traces")):(ie||ce)&&Number(ie)<=Number(ce)&&(a=!0,r=e("logs"))),ee&&ae&&ie||(n=!0,o=!0,a=!0,ee||ae||ie?ee?ae?ie||(r=t("logs")):r=t("traces"):r=t("metrics"):r=t("metrics, traces and logs")),(null==J?void 0:J.metrics_ttl_duration_hrs)===ee&&J.metrics_move_ttl_duration_hrs===ne&&(n=!0),Q.traces_ttl_duration_hrs===ae&&Q.traces_move_ttl_duration_hrs===se&&(o=!0),Y.logs_ttl_duration_hrs===ie&&Y.logs_move_ttl_duration_hrs===ce&&(a=!0),[n,o,a,r]}),[Y.logs_move_ttl_duration_hrs,Y.logs_ttl_duration_hrs,ce,ie,J.metrics_move_ttl_duration_hrs,null==J?void 0:J.metrics_ttl_duration_hrs,ne,ee,ve,w,Q.traces_move_ttl_duration_hrs,Q.traces_ttl_duration_hrs,se,ae]),{isCloudUser:xe}=(0,_.V)(),Ae=[{name:"Metrics",retentionFields:[{name:w("total_retention_period"),value:ee,setValue:te},{name:w("move_to_s3"),value:ne,setValue:oe,hide:!ve}],save:{modal:R,modalOpen:()=>me("metrics"),apiLoading:F,saveButtonText:"pending"===t.status?(0,T.jsxs)("span",{children:[(0,T.jsx)(r.A,{spinning:!0,size:"small",indicator:(0,T.jsx)(a.A,{spin:!0})})," ",w("retention_save_button.pending",{name:"metrics"})]}):(0,T.jsx)("span",{children:w("retention_save_button.success")}),isDisabled:"pending"===t.status||_e},statusComponent:(0,T.jsx)(H.A,{total_retention:t.expected_metrics_ttl_duration_hrs,status:t.status,s3_retention:t.expected_metrics_move_ttl_duration_hrs})},{name:"Traces",retentionFields:[{name:w("total_retention_period"),value:ae,setValue:re},{name:w("move_to_s3"),value:se,setValue:le,hide:!ve}],save:{modal:P,modalOpen:()=>me("traces"),apiLoading:I,saveButtonText:"pending"===n.status?(0,T.jsxs)("span",{children:[(0,T.jsx)(r.A,{spinning:!0,size:"small",indicator:(0,T.jsx)(a.A,{spin:!0})})," ",w("retention_save_button.pending",{name:"traces"})]}):(0,T.jsx)("span",{children:w("retention_save_button.success")}),isDisabled:"pending"===n.status||ye},statusComponent:(0,T.jsx)(H.A,{total_retention:n.expected_traces_ttl_duration_hrs,status:n.status,s3_retention:n.expected_traces_move_ttl_duration_hrs})},{name:"Logs",retentionFields:[{name:w("total_retention_period"),value:ie,setValue:de},{name:w("move_to_s3"),value:ce,setValue:ue,hide:!ve}],save:{modal:D,modalOpen:()=>me("logs"),apiLoading:q,saveButtonText:"pending"===o.status?(0,T.jsxs)("span",{children:[(0,T.jsx)(r.A,{spinning:!0,size:"small",indicator:(0,T.jsx)(a.A,{spin:!0})})," ",w("retention_save_button.pending",{name:"logs"})]}):(0,T.jsx)("span",{children:w("retention_save_button.success")}),isDisabled:"pending"===o.status||be},statusComponent:(0,T.jsx)(H.A,{total_retention:o.expected_logs_ttl_duration_hrs,status:o.status,s3_retention:o.expected_logs_move_ttl_duration_hrs})}].map((e=>Array.isArray(e.retentionFields)&&e.retentionFields.length>0?(0,T.jsx)(x.Fragment,{children:(0,T.jsx)(s.A,{xs:22,xl:11,style:{margin:"0.5rem"},children:(0,T.jsxs)(l.A,{style:{height:"100%"},children:[(0,T.jsx)(i.A.Title,{style:{margin:0},level:3,children:e.name}),(0,T.jsx)(d.A,{style:{margin:"0.5rem 0",padding:0,opacity:.5,marginBottom:"1rem"}}),e.retentionFields.map((e=>(0,T.jsx)(G.A,{text:e.name,retentionValue:e.value,setRetentionValue:e.setValue,hide:!!e.hide},e.name))),!xe&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(S.i2,{children:[(0,T.jsx)(c.Ay,{type:"primary",onClick:e.save.modalOpen,disabled:e.save.isDisabled,children:e.save.saveButtonText}),e.statusComponent]}),(0,T.jsx)(u.A,{title:w("retention_confirmation"),focusTriggerAfterClose:!0,forceRender:!0,destroyOnClose:!0,closable:!0,onCancel:()=>fe(e.name.toLowerCase()),onOk:()=>(async e=>{let t,n;switch(e){case"metrics":t=ee,n=ne;break;case"traces":t=ae,n=se;break;case"logs":t=ie,n=ce}try{ge(e);const o=await(0,f.A)({type:e,totalDuration:"".concat(t||-1,"h"),coldStorage:ve?"s3":null,toColdDuration:"".concat(n||-1,"h")});let a=!1;409===o.statusCode&&(a=!0,pe.error({message:"Error",description:w("retention_request_race_condition"),placement:"topRight"})),"metrics"===e?(k(),a||K({metrics_ttl_duration_hrs:ee||-1,metrics_move_ttl_duration_hrs:ne||-1,status:""})):"traces"===e?(j(),a||$({traces_ttl_duration_hrs:ae||-1,traces_move_ttl_duration_hrs:se||-1,status:""})):"logs"===e&&(M(),a||W({logs_ttl_duration_hrs:ie||-1,logs_move_ttl_duration_hrs:ce||-1,status:""}))}catch(o){pe.error({message:"Error",description:w("retention_failed_message"),placement:"topRight"})}ge(e),fe(e)})(e.name.toLowerCase()),centered:!0,open:e.save.modal,confirmLoading:e.save.apiLoading,children:(0,T.jsx)(i.A,{children:w("retention_confirmation_description",{name:e.name.toLowerCase()})})})]})]})},e.name)},e.name):null));return(0,T.jsxs)(T.Fragment,{children:[Element,(0,T.jsxs)(s.A,{xs:24,md:22,xl:20,xxl:18,style:{margin:"auto"},children:[(0,T.jsxs)(S.po,{children:[!xe&&(0,T.jsx)(g.A,{text:"More details on how to set retention period",url:"https://signoz.io/docs/userguide/retention-period/"}),he&&(0,T.jsx)(S.yn,{children:he})]}),(0,T.jsx)(p.A,{justify:"start",children:Ae}),xe&&(0,T.jsx)(m.A,{})]})]})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(C,"useTranslation{{ t }}\nuseState{[modalMetrics, setModalMetrics](false)}\nuseState{[modalTraces, setModalTraces](false)}\nuseState{[modalLogs, setModalLogs](false)}\nuseState{[postApiLoadingMetrics, setPostApiLoadingMetrics](false)}\nuseState{[postApiLoadingTraces, setPostApiLoadingTraces](false)}\nuseState{[postApiLoadingLogs, setPostApiLoadingLogs](false)}\nuseState{[availableDisks](getAvailableDiskPayload)}\nuseState{[metricsCurrentTTLValues, setMetricsCurrentTTLValues](metricsTtlValuesPayload)}\nuseState{[tracesCurrentTTLValues, setTracesCurrentTTLValues](tracesTtlValuesPayload)}\nuseState{[logsCurrentTTLValues, setLogsCurrentTTLValues](logsTtlValuesPayload)}\nuseAppContext{{ user }}\nuseComponentPermission{[setRetentionPermission]}\nuseState{[\n\t\tmetricsTotalRetentionPeriod,\n\t\tsetMetricsTotalRetentionPeriod,\n\t](null)}\nuseState{[\n\t\tmetricsS3RetentionPeriod,\n\t\tsetMetricsS3RetentionPeriod,\n\t](null)}\nuseState{[\n\t\ttracesTotalRetentionPeriod,\n\t\tsetTracesTotalRetentionPeriod,\n\t](null)}\nuseState{[\n\t\ttracesS3RetentionPeriod,\n\t\tsetTracesS3RetentionPeriod,\n\t](null)}\nuseState{[\n\t\tlogsTotalRetentionPeriod,\n\t\tsetLogsTotalRetentionPeriod,\n\t](null)}\nuseState{[\n\t\tlogsS3RetentionPeriod,\n\t\tsetLogsS3RetentionPeriod,\n\t](null)}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseInterval{}\nuseInterval{}\nuseInterval{}\nuseNotifications{{ notifications }}\nuseCallback{onClickSaveHandler}\nuseMemo{s3Enabled}\nuseMemo{[\n\t\tisMetricsSaveDisabled,\n\t\tisTracesSaveDisabled,\n\t\tisLogsSaveDisabled,\n\t\terrorText,\n\t]}\nuseGetTenantLicense{{ isCloudUser: isCloudUserVal }}",(()=>[A.B,h.Us,v.A,L.A,L.A,L.A,y.E$,_.V]));const k=C,j=k;var M,w;(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(C,"GeneralSettings","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/GeneralSettings.tsx"),M.register(k,"default","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/GeneralSettings.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},120029:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var o,a=n(236492),r=n(747152),s=n(16370),l=n(161704),i=n(790973),d=n(296540),c=n(529471),u=n(733312),p=n(474848);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Option:g}=a.A;function m(e){let{retentionValue:t,setRetentionValue:n,text:o,hide:f}=e;const{value:m,timeUnitValue:v}=(0,u.yV)(Number(t)),[_,y]=(0,d.useState)(v),[b,h]=(0,d.useState)(m),x=(0,d.useRef)(!1),{isCloudUser:A}=(0,l.V)();(0,d.useEffect)((()=>{x.current||h(m)}),[m]),(0,d.useEffect)((()=>{x.current||y(v)}),[v]);const L=u.pJ.map((e=>(0,p.jsx)(g,{value:e.value,children:e.key},e.value)));(0,d.useEffect)((()=>{var e;const t=null===(e=(0,i.A)(u.pJ,(e=>e.value===_)))||void 0===e?void 0:e.multiplier;b||n(null),b&&t&&n(b*(1/t))}),[_,b,n]);return f?null:(0,p.jsx)(c.Sq,{children:(0,p.jsxs)(r.A,{justify:"space-between",children:[(0,p.jsx)(s.A,{span:12,style:{display:"flex"},children:(0,p.jsx)(c.Fx,{children:o})}),(0,p.jsx)(r.A,{justify:"end",children:(0,p.jsxs)(c.Se,{children:[(0,p.jsx)(c.pd,{value:b&&b>=0?b:"",disabled:A,onChange:e=>((e,t)=>{x.current=!0;const{value:n}=e.target,o=parseInt(n,10);n.length>0&&o.toString()===n&&t(Math.abs(o));0===n.length&&t(null)})(e,h),style:{width:75}}),(0,p.jsx)(a.A,{value:_,onChange:e=>{var t;const n=null===(t=(0,i.A)(u.pJ,(t=>t.value===e)))||void 0===t?void 0:t.value;n&&y(n)},disabled:A,style:{width:100},children:L})]})})]})})}f(m,"useState{[selectedTimeUnit, setSelectTimeUnit](initialTimeUnitValue)}\nuseState{[selectedValue, setSelectedValue](initialValue)}\nuseRef{interacted}\nuseGetTenantLicense{{ isCloudUser: isCloudUserVal }}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(()=>[l.V]));const v=m,_=v;var y,b;(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(g,"Option","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/Retention.tsx"),y.register(m,"Retention","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/Retention.tsx"),y.register(v,"default","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/Retention.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},776300:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var o,a=n(438798),r=n(210464),s=n(377278),l=n(16370),i=n(296540),d=n(218492),c=n(733312),u=n(474848);function p(e){let{total_retention:t,s3_retention:n,status:o}=e;const{t:p}=(0,d.B)(["generalSettings"]),f=(0,i.useMemo)((()=>"success"===o?a.wL[6]:"pending"===o?a.T_[6]:"failed"===o?a.T$[6]:"inherit"),[o]);if(!o)return null;const g=n&&-1!==n?p("status_message.s3_part",{s3_retention:(0,c.Te)(n)}):"",m=t&&-1!==t?p("status_message.".concat(o),{total_retention:(0,c.Te)(t),s3_part:g}):null;return m?(0,u.jsx)(s.A,{style:{width:"100%"},children:(0,u.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",justifyContent:"center"},children:[(0,u.jsx)(l.A,{xs:1,children:(0,u.jsx)(r.A,{style:{fontSize:"1rem"}})}),(0,u.jsx)(l.A,{xs:22,style:{color:f},children:m})]})}):null}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(p,"useTranslation{{ t }}\nuseMemo{messageColor}",(()=>[d.B]));const f=p,g=f;var m,v;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(p,"StatusMessage","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/StatusMessage.tsx"),m.register(f,"default","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/StatusMessage.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},765891:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var o,a=n(167313),r=n(733543),s=n(714756),l=n(847578),i=n(607363),d=n(218492),c=n(775942),u=n(361864),p=n(474848);function f(){var e,t,n,o,f,g,m,v;const{t:_}=(0,d.B)("common"),{user:y}=(0,i.Us)(),[b,h,x,A]=(0,c.useQueries)([{queryFn:()=>(0,s.A)("metrics"),queryKey:["getRetentionPeriodApiMetrics",null==y?void 0:y.accessJwt]},{queryFn:()=>(0,s.A)("traces"),queryKey:["getRetentionPeriodApiTraces",null==y?void 0:y.accessJwt]},{queryFn:()=>(0,s.A)("logs"),queryKey:["getRetentionPeriodApiLogs",null==y?void 0:y.accessJwt]},{queryFn:r.A,queryKey:["getDisks",null==y?void 0:y.accessJwt]}]);var L,G,H,S,T,C;return b.isError||A.isError?(0,p.jsx)(a.A,{children:(null===(L=b.data)||void 0===L?void 0:L.error)||(null===(G=A.data)||void 0===G?void 0:G.error)||_("something_went_wrong")}):h.isError||A.isError?(0,p.jsx)(a.A,{children:(null===(H=h.data)||void 0===H?void 0:H.error)||(null===(S=A.data)||void 0===S?void 0:S.error)||_("something_went_wrong")}):x.isError||A.isError?(0,p.jsx)(a.A,{children:(null===(T=x.data)||void 0===T?void 0:T.error)||(null===(C=A.data)||void 0===C?void 0:C.error)||_("something_went_wrong")}):A.isLoading||null===(e=A.data)||void 0===e||!e.payload||b.isLoading||null===(t=b.data)||void 0===t||!t.payload||h.isLoading||null===(n=h.data)||void 0===n||!n.payload||x.isLoading||null===(o=x.data)||void 0===o||!o.payload?(0,p.jsx)(l.A,{tip:"Loading..",height:"70vh"}):(0,p.jsx)(u.A,{getAvailableDiskPayload:null===(f=A.data)||void 0===f?void 0:f.payload,metricsTtlValuesPayload:null===(g=b.data)||void 0===g?void 0:g.payload,metricsTtlValuesRefetch:b.refetch,tracesTtlValuesPayload:null===(m=h.data)||void 0===m?void 0:m.payload,tracesTtlValuesRefetch:h.refetch,logsTtlValuesPayload:null===(v=x.data)||void 0===v?void 0:v.payload,logsTtlValuesRefetch:x.refetch})}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useTranslation{{ t }}\nuseAppContext{{ user }}\nuseQueries{[\n\t\tgetRetentionPeriodMetricsApiResponse,\n\t\tgetRetentionPeriodTracesApiResponse,\n\t\tgetRetentionPeriodLogsApiResponse,\n\t\tgetDisksResponse,\n\t]}",(()=>[d.B,i.Us,c.useQueries]));const g=f,m=g;var v,_;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"GeneralSettings","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/index.tsx"),v.register(g,"default","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/index.tsx")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},529471:(e,t,n)=>{"use strict";n.d(t,{Fx:()=>M,Se:()=>w,Sq:()=>A,i2:()=>R,pd:()=>L,po:()=>C,yn:()=>j});var o,a,r,s,l,i,d,c,u,p,f,g,m,v=n(16370),_=n(779888),y=n(167313),b=n(811721),h=n(38267);function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e=n.hmd(e),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&m(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const A=(0,h.Ay)(v.A)(o||(o=x(["\n\tmargin: 0.75rem 0;\n"]))),L=(0,h.Ay)(_.A)(a||(a=x(["\n\t&&& {\n\t\theight: 2rem;\n\t\tmax-width: 150px;\n\t}\n"]))),G=(0,h.Ay)(y.A)(r||(r=x(["\n\t&&& {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n"]))),H=h.Ay.div(s||(s=x(["\n\t&&& {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\twidth: 50%;\n\t\talign-items: center;\n\t\tmargin-top: 3rem;\n\t}\n"]))),S=(0,h.Ay)(b.A)(l||(l=x(["\n\t&&& {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmax-width: 150px;\n\t\tmin-width: 150px;\n\t}\n"]))),T=h.Ay.div(i||(i=x(["\n\t&&& {\n\t\tmin-width: 100px;\n\t}\n"]))),C=h.Ay.div(d||(d=x(["\n\t&&& {\n\t\tmargin-top: 2rem;\n\t\tmargin-bottom: 2rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 1rem;\n\n\t\t> article {\n\t\t\tmargin-right: 1rem;\n\t\t}\n\t}\n"]))),k=h.Ay.div(c||(c=x(["\n\t&&& {\n\t\tmargin-top: 2rem;\n\t\tmargin-bottom: 2rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 50%;\n\t\tjustify-content: flex-end;\n\t}\n"]))),j=(0,h.Ay)(y.A)(u||(u=x(["\n\t&&& {\n\t\tcolor: #e89a3c;\n\t\tfont-style: italic;\n\t}\n"]))),M=(0,h.Ay)(y.A)(p||(p=x(["\n\tvertical-align: middle;\n\twhite-space: pre-wrap;\n"]))),w=h.Ay.div(f||(f=x(["\n\tdisplay: inline-flex;\n"]))),R=h.Ay.div(g||(g=x(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 1rem;\n\tmargin-top: 10%;\n"])));var V,P;(V="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(V.register(A,"RetentionContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(L,"Input","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(G,"Typography","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(H,"ButtonContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(S,"Dropdown","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(T,"TextContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(C,"ErrorTextContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(k,"ToolTipContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(j,"ErrorText","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(M,"RetentionFieldLabel","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(w,"RetentionFieldInputContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts"),V.register(R,"ActionItemsContainer","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/styles.ts")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},733312:(e,t,n)=>{"use strict";var o;n.d(t,{Te:()=>s,pJ:()=>a,yV:()=>r}),e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=[{value:"hr",key:"Hours",multiplier:1},{value:"day",key:"Days",multiplier:1/24},{value:"month",key:"Months",multiplier:1/720}],r=e=>{if(e)for(let t=a.length-1;t>=0;t-=1){const n=a[t],o=n.multiplier*e;if(o>=1&&o===parseInt("".concat(o),10))return{value:o,timeUnitValue:n.value}}return{value:e,timeUnitValue:a[0].value}},s=e=>{if(!e)return"";const t=r(e);return"".concat(t.value," ").concat(t.timeUnitValue).concat(t.value>=2?"s":"")};var l,i;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(a,"TimeUnits","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/utils.ts"),l.register(r,"convertHoursValueToRelevantUnit","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/utils.ts"),l.register(s,"convertHoursValueToRelevantUnitString","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettings/utils.ts")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},790926:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});n(350984);var o,a=n(377278),r=n(167313),s=n(597213),l=n(474848);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var i,d;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(){return(0,l.jsxs)(a.A,{className:"general-settings-container",children:[(0,l.jsx)(s.A,{size:16}),(0,l.jsxs)(r.A.Text,{children:["Please ",(0,l.jsx)("a",{href:"mailto:cloud-support@signoz.io",children:" email us "})," or connect with us via chat support to change the retention period."]})]})}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"GeneralSettingsCloud","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettingsCloud/GeneralSettingsCloud.tsx"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},749190:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o,a=n(790926);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=a.A,s=r;var l,i;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(r,"default","/home/ec2-user/conoscene/frontend_bkp/src/container/GeneralSettingsCloud/index.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},398261:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(954991),a=n.n(o),r=n(576314),s=n.n(r)()(a());s.push([e.id,".overlay--text-wrap{white-space:pre-wrap}","",{version:3,sources:["webpack://src/components/TextToolTip/TextToolTip.style.scss"],names:[],mappings:"AAAA,oBACC,oBAAA",sourcesContent:[".overlay--text-wrap {\n\twhite-space: pre-wrap;\n}\n"],sourceRoot:""}]);const l=s},123141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(954991),a=n.n(o),r=n(576314),s=n.n(r)()(a());s.push([e.id,".general-settings-container{margin:16px 8px}.general-settings-container .ant-card-body{display:flex;align-items:center;gap:16px;padding:8px;margin:16px 0}","",{version:3,sources:["webpack://src/container/GeneralSettingsCloud/GeneralSettingsCloud.styles.scss"],names:[],mappings:"AAAA,4BACC,eAAA,CAEA,2CACC,YAAA,CACA,kBAAA,CACA,QAAA,CACA,WAAA,CACA,aAAA",sourcesContent:[".general-settings-container {\n\tmargin: 16px 8px;\n\n\t.ant-card-body {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 16px;\n\t\tpadding: 8px;\n\t\tmargin: 16px 0;\n\t}\n}\n"],sourceRoot:""}]);const l=s},943008:(e,t,n)=>{var o=n(785072),a=n(398261);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r={insert:"head",singleton:!1};o(a,r);e.exports=a.locals||{}},350984:(e,t,n)=>{var o=n(785072),a=n(123141);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r={insert:"head",singleton:!1};o(a,r);e.exports=a.locals||{}}}]);
//# sourceMappingURL=src_container_GeneralSettings_index_tsx.c69f10572b6a70bfb8b2.js.map