{"version":3,"file":"src_container_QueryBuilder_filters_QueryBuilderSearchV2_QueryBuilderSearchV2_tsx.0edeaa71a72183384627.js","mappings":"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","sources":["webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/QueryBuilderSearchDropdown.tsx","webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/QueryBuilderSearchV2.tsx","webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/SpanScopeSelector.tsx","webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/Suggestions.tsx","webpack://frontend/./src/container/QueryBuilder/filters/utils.ts","webpack://frontend/./src/hooks/queryBuilder/useGetAggregateValues.ts","webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/QueryBuilderSearchV2.styles.scss","webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/Suggestions.styles.scss","webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/QueryBuilderSearchV2.styles.scss?d34d","webpack://frontend/./src/container/QueryBuilder/filters/QueryBuilderSearchV2/Suggestions.styles.scss?21bd"],"sourcesContent":["/* eslint-disable no-nested-ternary */\nimport './QueryBuilderSearchV2.styles.scss';\n\nimport { Typography } from 'antd';\nimport cx from 'classnames';\nimport {\n\tArrowDown,\n\tArrowUp,\n\tChevronUp,\n\tCommand,\n\tCornerDownLeft,\n\tSlash,\n} from 'lucide-react';\nimport { TagFilter } from 'types/api/queryBuilder/queryBuilderData';\nimport { getUserOperatingSystem, UserOperatingSystem } from 'utils/getUserOS';\n\nimport ExampleQueriesRendererForLogs from '../QueryBuilderSearch/ExampleQueriesRendererForLogs';\nimport { convertExampleQueriesToOptions } from '../QueryBuilderSearch/utils';\nimport { ITag, Option } from './QueryBuilderSearchV2';\n\ninterface ICustomDropdownProps {\n\tmenu: React.ReactElement;\n\tsearchValue: string;\n\ttags: ITag[];\n\toptions: Option[];\n\texampleQueries: TagFilter[];\n\tonChange: (value: TagFilter) => void;\n\tcurrentFilterItem?: ITag;\n\tisLogsDataSource: boolean;\n}\n\nexport default function QueryBuilderSearchDropdown(\n\tprops: ICustomDropdownProps,\n): React.ReactElement {\n\tconst {\n\t\tmenu,\n\t\tcurrentFilterItem,\n\t\tsearchValue,\n\t\ttags,\n\t\texampleQueries,\n\t\toptions,\n\t\tonChange,\n\t\tisLogsDataSource,\n\t} = props;\n\tconst userOs = getUserOperatingSystem();\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={cx('content', { 'non-logs-data-source': !isLogsDataSource })}\n\t\t\t>\n\t\t\t\t{!currentFilterItem?.key ? (\n\t\t\t\t\t<div className=\"suggested-filters\">Suggested Filters</div>\n\t\t\t\t) : !currentFilterItem?.op ? (\n\t\t\t\t\t<div className=\"operator-for\">\n\t\t\t\t\t\t<Typography.Text className=\"operator-for-text\">\n\t\t\t\t\t\t\tOperator for{' '}\n\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t<Typography.Text className=\"operator-for-value\">\n\t\t\t\t\t\t\t{currentFilterItem?.key?.key}\n\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"value-for\">\n\t\t\t\t\t\t<Typography.Text className=\"value-for-text\">\n\t\t\t\t\t\t\tValue(s) for{' '}\n\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t<Typography.Text className=\"value-for-value\">\n\t\t\t\t\t\t\t{currentFilterItem?.key?.key} {currentFilterItem?.op}\n\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{menu}\n\t\t\t\t{!searchValue && tags.length === 0 && exampleQueries.length > 0 && (\n\t\t\t\t\t<div className=\"example-queries\">\n\t\t\t\t\t\t<div className=\"heading\"> Example Queries </div>\n\t\t\t\t\t\t<div className=\"query-container\">\n\t\t\t\t\t\t\t{convertExampleQueriesToOptions(exampleQueries).map((query) => (\n\t\t\t\t\t\t\t\t<ExampleQueriesRendererForLogs\n\t\t\t\t\t\t\t\t\tkey={query.label}\n\t\t\t\t\t\t\t\t\tlabel={query.label}\n\t\t\t\t\t\t\t\t\tvalue={query.value}\n\t\t\t\t\t\t\t\t\thandleAddTag={onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"keyboard-shortcuts\">\n\t\t\t\t<section className=\"navigate\">\n\t\t\t\t\t<ArrowDown size={10} className=\"icons\" />\n\t\t\t\t\t<ArrowUp size={10} className=\"icons\" />\n\t\t\t\t\t<span className=\"keyboard-text\">to navigate</span>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"update-query\">\n\t\t\t\t\t<CornerDownLeft size={10} className=\"icons\" />\n\t\t\t\t\t<span className=\"keyboard-text\">to update query</span>\n\t\t\t\t</section>\n\t\t\t\t{!currentFilterItem?.key && options.length > 3 && (\n\t\t\t\t\t<section className=\"show-all-filter-items\">\n\t\t\t\t\t\t{userOs === UserOperatingSystem.MACOS ? (\n\t\t\t\t\t\t\t<Command size={14} className=\"icons\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ChevronUp size={14} className=\"icons\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<Slash size={14} className=\"icons\" />\n\t\t\t\t\t\t<span className=\"keyboard-text\">Show all filter items</span>\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nQueryBuilderSearchDropdown.defaultProps = {\n\tcurrentFilterItem: undefined,\n};\n","/* eslint-disable sonarjs/cognitive-complexity */\nimport './QueryBuilderSearchV2.styles.scss';\n\nimport { Select, Spin, Tag, Tooltip } from 'antd';\nimport cx from 'classnames';\nimport {\n\tDATA_TYPE_VS_ATTRIBUTE_VALUES_KEY,\n\tOperatorConfigKeys,\n\tOPERATORS,\n\tQUERY_BUILDER_OPERATORS_BY_TYPES,\n\tQUERY_BUILDER_SEARCH_VALUES,\n} from 'constants/queryBuilder';\nimport { DEBOUNCE_DELAY } from 'constants/queryBuilderFilterConfig';\nimport { LogsExplorerShortcuts } from 'constants/shortcuts/logsExplorerShortcuts';\nimport { useKeyboardHotkeys } from 'hooks/hotkeys/useKeyboardHotkeys';\nimport { WhereClauseConfig } from 'hooks/queryBuilder/useAutoComplete';\nimport { useGetAggregateKeys } from 'hooks/queryBuilder/useGetAggregateKeys';\nimport { useGetAggregateValues } from 'hooks/queryBuilder/useGetAggregateValues';\nimport { useGetAttributeSuggestions } from 'hooks/queryBuilder/useGetAttributeSuggestions';\nimport { validationMapper } from 'hooks/queryBuilder/useIsValidTag';\nimport { operatorTypeMapper } from 'hooks/queryBuilder/useOperatorType';\nimport { useQueryBuilder } from 'hooks/queryBuilder/useQueryBuilder';\nimport useDebounceValue from 'hooks/useDebounce';\nimport {\n\tcloneDeep,\n\tisArray,\n\tisEmpty,\n\tisEqual,\n\tisObject,\n\tisUndefined,\n\tunset,\n} from 'lodash-es';\nimport { ChevronDown, ChevronUp } from 'lucide-react';\nimport type { BaseSelectRef } from 'rc-select';\nimport {\n\tKeyboardEvent,\n\tReactElement,\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from 'react';\nimport {\n\tBaseAutocompleteData,\n\tDataTypes,\n} from 'types/api/queryBuilder/queryAutocompleteResponse';\nimport {\n\tIBuilderQuery,\n\tTagFilter,\n} from 'types/api/queryBuilder/queryBuilderData';\nimport { DataSource } from 'types/common/queryBuilder';\nimport { popupContainer } from 'utils/selectPopupContainer';\nimport { v4 as uuid } from 'uuid';\n\nimport { selectStyle } from '../QueryBuilderSearch/config';\nimport { PLACEHOLDER } from '../QueryBuilderSearch/constant';\nimport { TypographyText } from '../QueryBuilderSearch/style';\nimport {\n\tcheckCommaInValue,\n\tgetOperatorFromValue,\n\tgetOperatorValue,\n\tgetTagToken,\n\tisInNInOperator,\n} from '../QueryBuilderSearch/utils';\nimport { filterByOperatorConfig } from '../utils';\nimport QueryBuilderSearchDropdown from './QueryBuilderSearchDropdown';\nimport SpanScopeSelector from './SpanScopeSelector';\nimport Suggestions from './Suggestions';\n\nexport interface ITag {\n\tid?: string;\n\tkey: BaseAutocompleteData;\n\top: string;\n\tvalue: string[] | string | number | boolean;\n}\n\ninterface CustomTagProps {\n\tlabel: React.ReactNode;\n\tvalue: string;\n\tdisabled: boolean;\n\tonClose: () => void;\n\tclosable: boolean;\n}\n\ninterface QueryBuilderSearchV2Props {\n\tquery: IBuilderQuery;\n\tonChange: (value: TagFilter) => void;\n\twhereClauseConfig?: WhereClauseConfig;\n\tplaceholder?: string;\n\tclassName?: string;\n\tsuffixIcon?: React.ReactNode;\n\thardcodedAttributeKeys?: BaseAutocompleteData[];\n\thasPopupContainer?: boolean;\n\trootClassName?: string;\n\tmaxTagCount?: number | 'responsive';\n\toperatorConfigKey?: OperatorConfigKeys;\n\thideSpanScopeSelector?: boolean;\n\t// Determines whether to call onChange when a tag is closed\n\ttriggerOnChangeOnClose?: boolean;\n}\n\nexport interface Option {\n\tlabel: string;\n\tvalue: BaseAutocompleteData | string;\n}\n\nexport enum DropdownState {\n\tATTRIBUTE_KEY = 'ATTRIBUTE_KEY',\n\tOPERATOR = 'OPERATOR',\n\tATTRIBUTE_VALUE = 'ATTRIBUTE_VALUE',\n}\n\nfunction getInitTags(query: IBuilderQuery): ITag[] {\n\treturn query.filters.items.map((item) => ({\n\t\tid: item.id,\n\t\tkey: item.key as BaseAutocompleteData,\n\t\top: getOperatorFromValue(item.op),\n\t\tvalue: item.value,\n\t}));\n}\n\nfunction QueryBuilderSearchV2(\n\tprops: QueryBuilderSearchV2Props,\n): React.ReactElement {\n\tconst {\n\t\tquery,\n\t\tonChange,\n\t\tplaceholder,\n\t\tclassName,\n\t\tsuffixIcon,\n\t\twhereClauseConfig,\n\t\thardcodedAttributeKeys,\n\t\thasPopupContainer,\n\t\trootClassName,\n\t\tmaxTagCount,\n\t\toperatorConfigKey,\n\t\thideSpanScopeSelector,\n\t\ttriggerOnChangeOnClose,\n\t} = props;\n\n\tconst { registerShortcut, deregisterShortcut } = useKeyboardHotkeys();\n\n\tconst { handleRunQuery, currentQuery } = useQueryBuilder();\n\n\tconst selectRef = useRef<BaseSelectRef>(null);\n\n\tconst [isOpen, setIsOpen] = useState<boolean>(false);\n\n\t// create the tags from the initial query here, this should only be computed on the first load as post that tags and query will be always in sync.\n\tconst [tags, setTags] = useState<ITag[]>(() => getInitTags(query));\n\n\t// this will maintain the current state of in process filter item\n\tconst [currentFilterItem, setCurrentFilterItem] = useState<ITag | undefined>();\n\n\tconst [currentState, setCurrentState] = useState<DropdownState>(\n\t\tDropdownState.ATTRIBUTE_KEY,\n\t);\n\n\t// to maintain the current running state until the tokenization happens for the tag\n\tconst [searchValue, setSearchValue] = useState<string>('');\n\n\tconst [dropdownOptions, setDropdownOptions] = useState<Option[]>([]);\n\n\tconst [showAllFilters, setShowAllFilters] = useState<boolean>(false);\n\n\tconst isLogsDataSource = useMemo(() => query.dataSource === DataSource.LOGS, [\n\t\tquery.dataSource,\n\t]);\n\n\tconst memoizedSearchParams = useMemo(\n\t\t() => [\n\t\t\tsearchValue,\n\t\t\tquery.dataSource,\n\t\t\tquery.aggregateOperator,\n\t\t\tquery.aggregateAttribute.key,\n\t\t],\n\t\t[\n\t\t\tsearchValue,\n\t\t\tquery.dataSource,\n\t\t\tquery.aggregateOperator,\n\t\t\tquery.aggregateAttribute.key,\n\t\t],\n\t);\n\n\tconst queryFiltersWithoutId = useMemo(\n\t\t() => ({\n\t\t\t...query.filters,\n\t\t\titems: query.filters.items.map((item) => {\n\t\t\t\tconst filterWithoutId = cloneDeep(item);\n\t\t\t\tunset(filterWithoutId, 'id');\n\t\t\t\treturn filterWithoutId;\n\t\t\t}),\n\t\t}),\n\t\t[query.filters],\n\t);\n\n\tconst memoizedSuggestionsParams = useMemo(\n\t\t() => [searchValue, query.dataSource, queryFiltersWithoutId],\n\t\t[query.dataSource, queryFiltersWithoutId, searchValue],\n\t);\n\n\tconst memoizedValueParams = useMemo(\n\t\t() => [\n\t\t\tquery.aggregateOperator,\n\t\t\tquery.dataSource,\n\t\t\tquery.aggregateAttribute.key,\n\t\t\tcurrentFilterItem?.key?.key || '',\n\t\t\tcurrentFilterItem?.key?.dataType,\n\t\t\tcurrentFilterItem?.key?.type ?? '',\n\t\t\tisArray(currentFilterItem?.value)\n\t\t\t\t? currentFilterItem?.value?.[currentFilterItem.value.length - 1]\n\t\t\t\t: currentFilterItem?.value,\n\t\t],\n\t\t[\n\t\t\tquery.aggregateOperator,\n\t\t\tquery.dataSource,\n\t\t\tquery.aggregateAttribute.key,\n\t\t\tcurrentFilterItem?.key?.key,\n\t\t\tcurrentFilterItem?.key?.dataType,\n\t\t\tcurrentFilterItem?.key?.type,\n\t\t\tcurrentFilterItem?.value,\n\t\t],\n\t);\n\n\tconst searchParams = useDebounceValue(memoizedSearchParams, DEBOUNCE_DELAY);\n\n\tconst valueParams = useDebounceValue(memoizedValueParams, DEBOUNCE_DELAY);\n\n\tconst suggestionsParams = useDebounceValue(\n\t\tmemoizedSuggestionsParams,\n\t\tDEBOUNCE_DELAY,\n\t);\n\n\tconst isQueryEnabled = useMemo(() => {\n\t\tif (currentState === DropdownState.ATTRIBUTE_KEY) {\n\t\t\treturn query.dataSource === DataSource.METRICS\n\t\t\t\t? !!query.dataSource && !!query.aggregateAttribute.dataType\n\t\t\t\t: true;\n\t\t}\n\t\treturn false;\n\t}, [currentState, query.aggregateAttribute.dataType, query.dataSource]);\n\n\tconst { data, isFetching } = useGetAggregateKeys(\n\t\t{\n\t\t\tsearchText: searchValue?.split(' ')[0],\n\t\t\tdataSource: query.dataSource,\n\t\t\taggregateOperator: query.aggregateOperator,\n\t\t\taggregateAttribute: query.aggregateAttribute.key,\n\t\t\ttagType: query.aggregateAttribute.type ?? null,\n\t\t},\n\t\t{\n\t\t\tqueryKey: [searchParams],\n\t\t\tenabled: isQueryEnabled && !isLogsDataSource && !hardcodedAttributeKeys,\n\t\t},\n\t);\n\n\tconst {\n\t\tdata: suggestionsData,\n\t\tisFetching: isFetchingSuggestions,\n\t} = useGetAttributeSuggestions(\n\t\t{\n\t\t\tsearchText: searchValue?.split(' ')[0],\n\t\t\tdataSource: query.dataSource,\n\t\t\tfilters: query.filters,\n\t\t},\n\t\t{\n\t\t\tqueryKey: [suggestionsParams],\n\t\t\tenabled: isQueryEnabled && isLogsDataSource,\n\t\t},\n\t);\n\n\tconst {\n\t\tdata: attributeValues,\n\t\tisFetching: isFetchingAttributeValues,\n\t} = useGetAggregateValues(\n\t\t{\n\t\t\taggregateOperator: query.aggregateOperator,\n\t\t\tdataSource: query.dataSource,\n\t\t\taggregateAttribute: query.aggregateAttribute.key,\n\t\t\tattributeKey: currentFilterItem?.key?.key || '',\n\t\t\tfilterAttributeKeyDataType:\n\t\t\t\tcurrentFilterItem?.key?.dataType ?? DataTypes.EMPTY,\n\t\t\ttagType: currentFilterItem?.key?.type ?? '',\n\t\t\tsearchText: isArray(currentFilterItem?.value)\n\t\t\t\t? currentFilterItem?.value?.[currentFilterItem.value.length - 1] || ''\n\t\t\t\t: currentFilterItem?.value?.toString() || '',\n\t\t},\n\t\t{\n\t\t\tenabled: currentState === DropdownState.ATTRIBUTE_VALUE,\n\t\t\tqueryKey: [valueParams],\n\t\t},\n\t);\n\n\tconst handleDropdownSelect = useCallback(\n\t\t(value: string) => {\n\t\t\tlet parsedValue: BaseAutocompleteData | string;\n\n\t\t\ttry {\n\t\t\t\tparsedValue = JSON.parse(value);\n\t\t\t} catch {\n\t\t\t\tparsedValue = value;\n\t\t\t}\n\t\t\tif (currentState === DropdownState.ATTRIBUTE_KEY) {\n\t\t\t\t// Case - convert abc def ghi type attribute keys directly to body contains abc def ghi\n\t\t\t\tif (\n\t\t\t\t\tisObject(parsedValue) &&\n\t\t\t\t\tparsedValue?.key &&\n\t\t\t\t\tparsedValue?.key?.split(' ').length > 1 &&\n\t\t\t\t\tisLogsDataSource\n\t\t\t\t) {\n\t\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: {\n\t\t\t\t\t\t\t\tkey: 'body',\n\t\t\t\t\t\t\t\tdataType: DataTypes.String,\n\t\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\t\tisColumn: true,\n\t\t\t\t\t\t\t\tisJSON: false,\n\t\t\t\t\t\t\t\t// eslint-disable-next-line sonarjs/no-duplicate-string\n\t\t\t\t\t\t\t\tid: 'body--string----true',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\top: OPERATORS.CONTAINS,\n\t\t\t\t\t\t\tvalue: (parsedValue as BaseAutocompleteData)?.key,\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\t\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\t\tsetSearchValue('');\n\t\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t\t} else {\n\t\t\t\t\tsetCurrentFilterItem((prev) => ({\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\tkey: parsedValue as BaseAutocompleteData,\n\t\t\t\t\t\top: '',\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t}));\n\t\t\t\t\tsetCurrentState(DropdownState.OPERATOR);\n\t\t\t\t\tsetSearchValue(`${(parsedValue as BaseAutocompleteData)?.key} `);\n\t\t\t\t}\n\t\t\t} else if (currentState === DropdownState.OPERATOR) {\n\t\t\t\tif (isEmpty(value) && currentFilterItem?.key?.key) {\n\t\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: {\n\t\t\t\t\t\t\t\tkey: 'body',\n\t\t\t\t\t\t\t\tdataType: DataTypes.String,\n\t\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\t\tisColumn: true,\n\t\t\t\t\t\t\t\tisJSON: false,\n\t\t\t\t\t\t\t\tid: 'body--string----true',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\top: OPERATORS.CONTAINS,\n\t\t\t\t\t\t\tvalue: currentFilterItem?.key?.key,\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\t\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\t\tsetSearchValue('');\n\t\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t\t} else if (value === OPERATORS.EXISTS || value === OPERATORS.NOT_EXISTS) {\n\t\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: currentFilterItem?.key,\n\t\t\t\t\t\t\top: value,\n\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t} as ITag,\n\t\t\t\t\t]);\n\t\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\t\tsetSearchValue('');\n\t\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t\t} else {\n\t\t\t\t\tsetCurrentFilterItem((prev) => ({\n\t\t\t\t\t\tkey: prev?.key as BaseAutocompleteData,\n\t\t\t\t\t\top: value as string,\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t}));\n\t\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_VALUE);\n\t\t\t\t\tsetSearchValue(`${currentFilterItem?.key?.key} ${value} `);\n\t\t\t\t}\n\t\t\t} else if (currentState === DropdownState.ATTRIBUTE_VALUE) {\n\t\t\t\tconst operatorType =\n\t\t\t\t\toperatorTypeMapper[currentFilterItem?.op || ''] || 'NOT_VALID';\n\t\t\t\tconst isMulti = operatorType === QUERY_BUILDER_SEARCH_VALUES.MULTIPLY;\n\n\t\t\t\tif (isMulti) {\n\t\t\t\t\tconst { tagKey, tagOperator, tagValue } = getTagToken(searchValue);\n\t\t\t\t\t// this condition takes care of adding the IN/NIN multi values when pressed enter on an already existing value.\n\t\t\t\t\t// not the best interaction but in sync with what we have today!\n\t\t\t\t\tif (tagValue.includes(String(value))) {\n\t\t\t\t\t\tsetSearchValue('');\n\t\t\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: currentFilterItem?.key,\n\t\t\t\t\t\t\t\top: currentFilterItem?.op,\n\t\t\t\t\t\t\t\tvalue: tagValue,\n\t\t\t\t\t\t\t} as ITag,\n\t\t\t\t\t\t]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// this is for adding subsequent comma seperated values\n\t\t\t\t\tconst newSearch = [...tagValue];\n\t\t\t\t\tnewSearch[newSearch.length === 0 ? 0 : newSearch.length - 1] = value;\n\t\t\t\t\tconst newSearchValue = newSearch.join(',');\n\t\t\t\t\tsetSearchValue(`${tagKey} ${tagOperator} ${newSearchValue},`);\n\t\t\t\t} else {\n\t\t\t\t\tsetSearchValue('');\n\t\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: currentFilterItem?.key,\n\t\t\t\t\t\t\top: currentFilterItem?.op,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t} as ITag,\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tcurrentFilterItem?.key,\n\t\t\tcurrentFilterItem?.op,\n\t\t\tcurrentState,\n\t\t\tisLogsDataSource,\n\t\t\tsearchValue,\n\t\t],\n\t);\n\n\tconst handleSearch = useCallback((value: string) => {\n\t\tsetSearchValue(value);\n\t}, []);\n\n\tconst onInputKeyDownHandler = useCallback(\n\t\t(event: KeyboardEvent<Element>): void => {\n\t\t\tif (event.key === 'Backspace' && !searchValue) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tsetTags((prev) => prev.slice(0, -1));\n\t\t\t}\n\n\t\t\tif ((event.ctrlKey || event.metaKey) && event.key === '/') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tsetShowAllFilters((prev) => !prev);\n\t\t\t}\n\t\t\tif ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\thandleRunQuery();\n\t\t\t\tsetIsOpen(false);\n\t\t\t}\n\t\t},\n\t\t[handleRunQuery, searchValue],\n\t);\n\n\tconst handleOnBlur = useCallback((): void => {\n\t\tif (searchValue) {\n\t\t\tconst operatorType =\n\t\t\t\toperatorTypeMapper[currentFilterItem?.op || ''] || 'NOT_VALID';\n\t\t\t// if key is added and operator is not present then convert to body CONTAINS key\n\t\t\tif (\n\t\t\t\tcurrentFilterItem?.key &&\n\t\t\t\tisEmpty(currentFilterItem?.op) &&\n\t\t\t\twhereClauseConfig?.customKey === 'body' &&\n\t\t\t\twhereClauseConfig?.customOp === OPERATORS.CONTAINS\n\t\t\t) {\n\t\t\t\t// eslint-disable-next-line sonarjs/no-identical-functions\n\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t...prev,\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: {\n\t\t\t\t\t\t\tkey: 'body',\n\t\t\t\t\t\t\tdataType: DataTypes.String,\n\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\tisColumn: true,\n\t\t\t\t\t\t\tisJSON: false,\n\t\t\t\t\t\t\tid: 'body--string----true',\n\t\t\t\t\t\t},\n\t\t\t\t\t\top: OPERATORS.CONTAINS,\n\t\t\t\t\t\tvalue: currentFilterItem?.key?.key,\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\tsetSearchValue('');\n\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t} else if (\n\t\t\t\tcurrentFilterItem?.op === OPERATORS.EXISTS ||\n\t\t\t\tcurrentFilterItem?.op === OPERATORS.NOT_EXISTS\n\t\t\t) {\n\t\t\t\t// is exists and not exists operator is present then convert directly to tag! no need of value here\n\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t...prev,\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: currentFilterItem?.key,\n\t\t\t\t\t\top: currentFilterItem?.op,\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\tsetSearchValue('');\n\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t} else if (\n\t\t\t\t// if the current state is in sync with the kind of operator used then convert into a tag\n\t\t\t\tvalidationMapper[operatorType]?.(\n\t\t\t\t\tisArray(currentFilterItem?.value)\n\t\t\t\t\t\t? currentFilterItem?.value.length || 0\n\t\t\t\t\t\t: 1,\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t...prev,\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: currentFilterItem?.key as BaseAutocompleteData,\n\t\t\t\t\t\top: currentFilterItem?.op as string,\n\t\t\t\t\t\tvalue: currentFilterItem?.value || '',\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\tsetSearchValue('');\n\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t}\n\t\t}\n\t}, [\n\t\tcurrentFilterItem?.key,\n\t\tcurrentFilterItem?.op,\n\t\tcurrentFilterItem?.value,\n\t\tsearchValue,\n\t\twhereClauseConfig?.customKey,\n\t\twhereClauseConfig?.customOp,\n\t]);\n\n\t// this useEffect takes care of tokenisation based on the search state\n\tuseEffect(() => {\n\t\t// if there is no search value reset to the default state\n\t\tif (!searchValue) {\n\t\t\tsetCurrentFilterItem(undefined);\n\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t}\n\n\t\t// split the current search value based on delimiters\n\t\tconst { tagKey, tagOperator, tagValue } = getTagToken(searchValue);\n\n\t\t// Case 1 -> when typing an attribute key (not selecting from dropdown)\n\t\tif (tagKey && isUndefined(currentFilterItem?.key)) {\n\t\t\tlet currentRunningAttributeKey;\n\t\t\tconst isSuggestedKeyInAutocomplete = suggestionsData?.payload?.attributes?.some(\n\t\t\t\t(value) => value.key === tagKey.split(' ')[0],\n\t\t\t);\n\n\t\t\tif (isSuggestedKeyInAutocomplete) {\n\t\t\t\tconst allAttributesMatchingTheKey =\n\t\t\t\t\tsuggestionsData?.payload?.attributes?.filter(\n\t\t\t\t\t\t(value) => value.key === tagKey.split(' ')[0],\n\t\t\t\t\t) || [];\n\n\t\t\t\tif (allAttributesMatchingTheKey?.length === 1) {\n\t\t\t\t\t[currentRunningAttributeKey] = allAttributesMatchingTheKey;\n\t\t\t\t}\n\t\t\t\tif (allAttributesMatchingTheKey?.length > 1) {\n\t\t\t\t\t// when there are multiple options let the user choose it until they do not select an operator\n\t\t\t\t\tif (tagOperator) {\n\t\t\t\t\t\t// if they select the operator then pick the first one from the ranked list\n\t\t\t\t\t\tsetCurrentFilterItem({\n\t\t\t\t\t\t\tkey: allAttributesMatchingTheKey?.[0],\n\t\t\t\t\t\t\top: tagOperator,\n\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_VALUE);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (currentRunningAttributeKey) {\n\t\t\t\t\tsetCurrentFilterItem({\n\t\t\t\t\t\tkey: currentRunningAttributeKey,\n\t\t\t\t\t\top: '',\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tsetCurrentState(DropdownState.OPERATOR);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// again let's not auto select anything for the user\n\t\t\tif (tagOperator) {\n\t\t\t\tsetCurrentFilterItem({\n\t\t\t\t\tkey: {\n\t\t\t\t\t\tkey: tagKey,\n\t\t\t\t\t\tdataType: DataTypes.EMPTY,\n\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\tisColumn: false,\n\t\t\t\t\t\tisJSON: false,\n\t\t\t\t\t},\n\t\t\t\t\top: tagOperator,\n\t\t\t\t\tvalue: '',\n\t\t\t\t});\n\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_VALUE);\n\t\t\t}\n\t\t} else if (\n\t\t\t// Case 2 - if key is defined but the search text doesn't match with the set key,\n\t\t\t// can happen when user selects from dropdown and then deletes a few characters\n\t\t\tcurrentFilterItem?.key &&\n\t\t\tcurrentFilterItem?.key?.key !== tagKey.split(' ')[0]\n\t\t) {\n\t\t\tsetCurrentFilterItem(undefined);\n\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t} else if (tagOperator && isEmpty(currentFilterItem?.op)) {\n\t\t\t// Case 3 -> key is set and now typing for the operator\n\t\t\tif (\n\t\t\t\ttagOperator === OPERATORS.EXISTS ||\n\t\t\t\ttagOperator === OPERATORS.NOT_EXISTS\n\t\t\t) {\n\t\t\t\tsetTags((prev) => [\n\t\t\t\t\t...prev,\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: currentFilterItem?.key,\n\t\t\t\t\t\top: tagOperator,\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t} as ITag,\n\t\t\t\t]);\n\t\t\t\tsetCurrentFilterItem(undefined);\n\t\t\t\tsetSearchValue('');\n\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_KEY);\n\t\t\t} else {\n\t\t\t\tsetCurrentFilterItem((prev) => ({\n\t\t\t\t\tkey: prev?.key as BaseAutocompleteData,\n\t\t\t\t\top: tagOperator,\n\t\t\t\t\tvalue: '',\n\t\t\t\t}));\n\n\t\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_VALUE);\n\t\t\t}\n\t\t} else if (\n\t\t\t// Case 4 -> selected operator from dropdown and then erased a part of it\n\t\t\t!isEmpty(currentFilterItem?.op) &&\n\t\t\ttagOperator !== currentFilterItem?.op\n\t\t) {\n\t\t\tsetCurrentFilterItem((prev) => ({\n\t\t\t\tkey: prev?.key as BaseAutocompleteData,\n\t\t\t\top: '',\n\t\t\t\tvalue: '',\n\t\t\t}));\n\t\t\tsetCurrentState(DropdownState.OPERATOR);\n\t\t} else if (currentState === DropdownState.ATTRIBUTE_VALUE) {\n\t\t\t// Case 5 -> the final value state where we set the current filter values and the tokenisation happens on either\n\t\t\t// dropdown click or blur event\n\t\t\tconst currentValue = {\n\t\t\t\tkey: currentFilterItem?.key as BaseAutocompleteData,\n\t\t\t\top: currentFilterItem?.op as string,\n\t\t\t\tvalue: tagValue,\n\t\t\t};\n\t\t\tif (!isEqual(currentValue, currentFilterItem)) {\n\t\t\t\tsetCurrentFilterItem((prev) => ({\n\t\t\t\t\tkey: prev?.key as BaseAutocompleteData,\n\t\t\t\t\top: prev?.op as string,\n\t\t\t\t\tvalue: tagValue,\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}, [\n\t\tcurrentFilterItem,\n\t\tcurrentFilterItem?.key,\n\t\tcurrentFilterItem?.op,\n\t\tsuggestionsData?.payload?.attributes,\n\t\tsearchValue,\n\t\tisFetchingSuggestions,\n\t\tcurrentState,\n\t]);\n\n\t// the useEffect takes care of setting the dropdown values correctly on change of the current state\n\tuseEffect(() => {\n\t\tif (currentState === DropdownState.ATTRIBUTE_KEY) {\n\t\t\tconst { tagKey } = getTagToken(searchValue);\n\t\t\tif (isLogsDataSource) {\n\t\t\t\t// add the user typed option in the dropdown to select that and move ahead irrespective of the matches and all\n\t\t\t\tsetDropdownOptions([\n\t\t\t\t\t...(!isEmpty(tagKey) &&\n\t\t\t\t\t!suggestionsData?.payload?.attributes?.some((val) =>\n\t\t\t\t\t\tisEqual(val.key, tagKey),\n\t\t\t\t\t)\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: tagKey,\n\t\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t\tkey: tagKey,\n\t\t\t\t\t\t\t\t\t\tdataType: DataTypes.EMPTY,\n\t\t\t\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\t\t\t\tisColumn: false,\n\t\t\t\t\t\t\t\t\t\tisJSON: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []),\n\t\t\t\t\t...(suggestionsData?.payload?.attributes?.map((key) => ({\n\t\t\t\t\t\tlabel: key.key,\n\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t})) || []),\n\t\t\t\t]);\n\t\t\t} else if (hardcodedAttributeKeys) {\n\t\t\t\tconst filteredKeys = hardcodedAttributeKeys.filter((key) =>\n\t\t\t\t\tkey.key\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.includes((searchValue?.split(' ')[0] || '').toLowerCase()),\n\t\t\t\t);\n\t\t\t\tsetDropdownOptions(\n\t\t\t\t\tfilteredKeys.map((key) => ({\n\t\t\t\t\t\tlabel: key.key,\n\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsetDropdownOptions([\n\t\t\t\t\t// Add user typed option if it doesn't exist in the payload\n\t\t\t\t\t...(tagKey.trim().length > 0 &&\n\t\t\t\t\t!data?.payload?.attributeKeys?.some((val) => val.key === tagKey)\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: tagKey,\n\t\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t\tkey: tagKey,\n\t\t\t\t\t\t\t\t\t\tdataType: DataTypes.EMPTY,\n\t\t\t\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\t\t\t\tisColumn: false,\n\t\t\t\t\t\t\t\t\t\tisJSON: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []),\n\t\t\t\t\t// Map existing attribute keys from payload\n\t\t\t\t\t...(data?.payload?.attributeKeys?.map((key) => ({\n\t\t\t\t\t\tlabel: key.key,\n\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t})) || []),\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t\tif (currentState === DropdownState.OPERATOR) {\n\t\t\tconst keyOperator = searchValue?.split(' ');\n\t\t\tconst partialOperator = keyOperator?.[1];\n\t\t\tconst strippedKey = keyOperator?.[0];\n\n\t\t\tlet operatorOptions;\n\t\t\tif (currentFilterItem?.key?.dataType) {\n\t\t\t\toperatorOptions = QUERY_BUILDER_OPERATORS_BY_TYPES[\n\t\t\t\t\tcurrentFilterItem.key\n\t\t\t\t\t\t.dataType as keyof typeof QUERY_BUILDER_OPERATORS_BY_TYPES\n\t\t\t\t].map((operator) => ({\n\t\t\t\t\tlabel: operator,\n\t\t\t\t\tvalue: operator,\n\t\t\t\t}));\n\n\t\t\t\tif (partialOperator) {\n\t\t\t\t\toperatorOptions = operatorOptions.filter((op) =>\n\t\t\t\t\t\top.label.startsWith(partialOperator.toLocaleUpperCase()),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (strippedKey.endsWith('[*]') && strippedKey.startsWith('body.')) {\n\t\t\t\toperatorOptions = [OPERATORS.HAS, OPERATORS.NHAS].map((operator) => ({\n\t\t\t\t\tlabel: operator,\n\t\t\t\t\tvalue: operator,\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\toperatorOptions = QUERY_BUILDER_OPERATORS_BY_TYPES.universal.map(\n\t\t\t\t\t(operator) => ({\n\t\t\t\t\t\tlabel: operator,\n\t\t\t\t\t\tvalue: operator,\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tif (partialOperator) {\n\t\t\t\t\toperatorOptions = operatorOptions.filter((op) =>\n\t\t\t\t\t\top.label.startsWith(partialOperator.toLocaleUpperCase()),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst filterOperatorOptions = filterByOperatorConfig(\n\t\t\t\toperatorOptions,\n\t\t\t\toperatorConfigKey,\n\t\t\t);\n\t\t\tsetDropdownOptions([{ label: '', value: '' }, ...filterOperatorOptions]);\n\t\t}\n\n\t\tif (currentState === DropdownState.ATTRIBUTE_VALUE) {\n\t\t\tconst values: string[] = [];\n\t\t\tconst { tagValue } = getTagToken(searchValue);\n\t\t\tif (isArray(tagValue)) {\n\t\t\t\tif (!isEmpty(tagValue[tagValue.length - 1]))\n\t\t\t\t\tvalues.push(tagValue[tagValue.length - 1]);\n\t\t\t} else if (!isEmpty(tagValue)) values.push(tagValue);\n\n\t\t\tif (attributeValues?.payload) {\n\t\t\t\tconst dataType = currentFilterItem?.key?.dataType || DataTypes.String;\n\t\t\t\tconst key = DATA_TYPE_VS_ATTRIBUTE_VALUES_KEY[dataType];\n\t\t\t\tvalues.push(...(attributeValues?.payload?.[key] || []));\n\t\t\t}\n\n\t\t\tsetDropdownOptions(\n\t\t\t\tvalues.map((val) => ({\n\t\t\t\t\tlabel: checkCommaInValue(String(val)),\n\t\t\t\t\tvalue: val,\n\t\t\t\t})),\n\t\t\t);\n\t\t}\n\t}, [\n\t\thardcodedAttributeKeys,\n\t\tattributeValues?.payload,\n\t\tcurrentFilterItem?.key?.dataType,\n\t\tcurrentState,\n\t\tdata?.payload?.attributeKeys,\n\t\tisLogsDataSource,\n\t\tsearchValue,\n\t\tsuggestionsData?.payload?.attributes,\n\t\toperatorConfigKey,\n\t]);\n\n\t// keep the query in sync with the selected tags in logs explorer page\n\tuseEffect(() => {\n\t\tconst filterTags: IBuilderQuery['filters'] = {\n\t\t\top: 'AND',\n\t\t\titems: [],\n\t\t};\n\t\ttags.forEach((tag) => {\n\t\t\tconst computedTagValue =\n\t\t\t\ttag.value &&\n\t\t\t\tArray.isArray(tag.value) &&\n\t\t\t\ttag.value[tag.value.length - 1] === ''\n\t\t\t\t\t? tag.value?.slice(0, -1)\n\t\t\t\t\t: tag.value ?? '';\n\t\t\tfilterTags.items.push({\n\t\t\t\tid: tag.id || uuid().slice(0, 8),\n\t\t\t\tkey: tag.key,\n\t\t\t\top: getOperatorValue(tag.op),\n\t\t\t\tvalue: computedTagValue,\n\t\t\t});\n\t\t});\n\n\t\tif (!isEqual(query.filters, filterTags)) {\n\t\t\tonChange(filterTags);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [tags]);\n\n\t// keep the use effects pure!\n\t// if the tags lacks the ID then the above use effect will add it to query\n\t// and then the below use effect will take care of adding it to the tags.\n\t// keep the tags in sycn with current query.\n\tuseEffect(() => {\n\t\t// convert the query and tags to same format before comparison\n\t\tif (!isEqual(getInitTags(query), tags)) {\n\t\t\tsetTags(getInitTags(query));\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [query]);\n\n\tconst isLastQuery = useMemo(\n\t\t() =>\n\t\t\tisEqual(\n\t\t\t\tcurrentQuery.builder.queryData[currentQuery.builder.queryData.length - 1],\n\t\t\t\tquery,\n\t\t\t),\n\t\t[currentQuery, query],\n\t);\n\n\tuseEffect(() => {\n\t\tif (isLastQuery) {\n\t\t\tregisterShortcut(LogsExplorerShortcuts.FocusTheSearchBar, () => {\n\t\t\t\t// set timeout is needed here else the select treats the hotkey as input value\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tselectRef.current?.focus();\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t}\n\n\t\treturn (): void =>\n\t\t\tderegisterShortcut(LogsExplorerShortcuts.FocusTheSearchBar);\n\t}, [deregisterShortcut, isLastQuery, registerShortcut]);\n\n\tconst loading = useMemo(\n\t\t() => isFetching || isFetchingAttributeValues || isFetchingSuggestions,\n\t\t[isFetching, isFetchingAttributeValues, isFetchingSuggestions],\n\t);\n\n\tconst isMetricsDataSource = useMemo(\n\t\t() => query.dataSource === DataSource.METRICS,\n\t\t[query.dataSource],\n\t);\n\n\tconst queryTags = useMemo(\n\t\t() => tags.map((tag) => `${tag.key?.key} ${tag.op} ${tag.value}`),\n\t\t[tags],\n\t);\n\n\tconst onTagRender = ({\n\t\tvalue,\n\t\tclosable,\n\t\tonClose,\n\t}: CustomTagProps): React.ReactElement => {\n\t\tconst { tagOperator } = getTagToken(value);\n\t\tconst isInNin = isInNInOperator(tagOperator);\n\t\tconst chipValue = isInNin\n\t\t\t? value?.trim()?.replace(/,\\s*$/, '')\n\t\t\t: value?.trim();\n\n\t\tconst indexInQueryTags = queryTags.findIndex((qTag) => isEqual(qTag, value));\n\t\tconst tagDetails = tags[indexInQueryTags];\n\n\t\tconst onCloseHandler = (): void => {\n\t\t\tonClose();\n\t\t\tsetSearchValue('');\n\t\t\tsetTags((prev) => prev.filter((t) => !isEqual(t, tagDetails)));\n\t\t\tif (triggerOnChangeOnClose) {\n\t\t\t\tonChange(query.filters);\n\t\t\t}\n\t\t};\n\n\t\tconst tagEditHandler = (value: string): void => {\n\t\t\tsetCurrentFilterItem(tagDetails);\n\t\t\tsetSearchValue(value);\n\t\t\tsetCurrentState(DropdownState.ATTRIBUTE_VALUE);\n\t\t\tsetTags((prev) => prev.filter((t) => !isEqual(t, tagDetails)));\n\t\t};\n\n\t\tconst isDisabled = !!searchValue;\n\n\t\treturn (\n\t\t\t<span className=\"qb-search-bar-tokenised-tags\">\n\t\t\t\t<Tag\n\t\t\t\t\tclosable={!searchValue && closable}\n\t\t\t\t\tonClose={onCloseHandler}\n\t\t\t\t\tclassName={tagDetails?.key?.type || ''}\n\t\t\t\t>\n\t\t\t\t\t<Tooltip title={chipValue}>\n\t\t\t\t\t\t<TypographyText\n\t\t\t\t\t\t\tellipsis\n\t\t\t\t\t\t\t$isInNin={isInNin}\n\t\t\t\t\t\t\tdisabled={isDisabled}\n\t\t\t\t\t\t\t$isEnabled={!!searchValue}\n\t\t\t\t\t\t\tonClick={(): void => {\n\t\t\t\t\t\t\t\tif (!isDisabled) tagEditHandler(value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{chipValue}\n\t\t\t\t\t\t</TypographyText>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Tag>\n\t\t\t</span>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"query-builder-search-v2\">\n\t\t\t<Select\n\t\t\t\tref={selectRef}\n\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t{...(hasPopupContainer ? { getPopupContainer: popupContainer } : {})}\n\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t{...(maxTagCount ? { maxTagCount } : {})}\n\t\t\t\tkey={queryTags.join('.')}\n\t\t\t\tvirtual={false}\n\t\t\t\tshowSearch\n\t\t\t\ttagRender={onTagRender}\n\t\t\t\ttransitionName=\"\"\n\t\t\t\tchoiceTransitionName=\"\"\n\t\t\t\tfilterOption={false}\n\t\t\t\tautoFocus={isOpen}\n\t\t\t\topen={isOpen}\n\t\t\t\tsuffixIcon={\n\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\n\t\t\t\t\t!isUndefined(suffixIcon) ? (\n\t\t\t\t\t\tsuffixIcon\n\t\t\t\t\t) : isOpen ? (\n\t\t\t\t\t\t<ChevronUp size={14} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ChevronDown size={14} />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tonDropdownVisibleChange={setIsOpen}\n\t\t\t\tautoClearSearchValue={false}\n\t\t\t\tmode=\"multiple\"\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tvalue={queryTags}\n\t\t\t\tsearchValue={searchValue}\n\t\t\t\tclassName={cx(\n\t\t\t\t\t!currentFilterItem?.key && !showAllFilters && dropdownOptions.length > 3\n\t\t\t\t\t\t? 'show-all-filters'\n\t\t\t\t\t\t: '',\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\trootClassName={cx('query-builder-search', rootClassName)}\n\t\t\t\tdisabled={isMetricsDataSource && !query.aggregateAttribute.key}\n\t\t\t\tstyle={selectStyle}\n\t\t\t\tonSearch={handleSearch}\n\t\t\t\tonSelect={handleDropdownSelect}\n\t\t\t\tonInputKeyDown={onInputKeyDownHandler}\n\t\t\t\tnotFoundContent={loading ? <Spin size=\"small\" /> : null}\n\t\t\t\tshowAction={['focus']}\n\t\t\t\tonBlur={handleOnBlur}\n\t\t\t\t// eslint-disable-next-line react/no-unstable-nested-components\n\t\t\t\tdropdownRender={(menu): ReactElement => (\n\t\t\t\t\t<QueryBuilderSearchDropdown\n\t\t\t\t\t\tmenu={menu}\n\t\t\t\t\t\toptions={dropdownOptions}\n\t\t\t\t\t\tonChange={(val: TagFilter): void => {\n\t\t\t\t\t\t\tsetTags((prev) => [...prev, ...(val.items as ITag[])]);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsearchValue={searchValue}\n\t\t\t\t\t\texampleQueries={suggestionsData?.payload?.example_queries || []}\n\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\tcurrentFilterItem={currentFilterItem}\n\t\t\t\t\t\tisLogsDataSource={isLogsDataSource}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{dropdownOptions.map((option) => {\n\t\t\t\t\tlet val = option.value;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (isObject(option.value)) {\n\t\t\t\t\t\t\tval = JSON.stringify(option.value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tval = option.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tval = option.value;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Select.Option key={isObject(val) ? `select-option` : val} value={val}>\n\t\t\t\t\t\t\t<Suggestions\n\t\t\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\toption={currentState}\n\t\t\t\t\t\t\t\tsearchValue={searchValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Select.Option>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Select>\n\t\t\t{!hideSpanScopeSelector && <SpanScopeSelector queryName={query.queryName} />}\n\t\t</div>\n\t);\n}\n\nQueryBuilderSearchV2.defaultProps = {\n\tplaceholder: PLACEHOLDER,\n\tclassName: '',\n\tsuffixIcon: null,\n\twhereClauseConfig: {},\n\thasPopupContainer: true,\n\trootClassName: '',\n\thardcodedAttributeKeys: undefined,\n\tmaxTagCount: undefined,\n\toperatorConfigKey: undefined,\n\thideSpanScopeSelector: true,\n\ttriggerOnChangeOnClose: false,\n};\n\nexport default QueryBuilderSearchV2;\n","import { Select } from 'antd';\nimport { useQueryBuilder } from 'hooks/queryBuilder/useQueryBuilder';\nimport { cloneDeep } from 'lodash-es';\nimport { useEffect, useState } from 'react';\nimport { TagFilterItem } from 'types/api/queryBuilder/queryBuilderData';\nimport { v4 as uuid } from 'uuid';\n\nenum SpanScope {\n\tALL_SPANS = 'all_spans',\n\tROOT_SPANS = 'root_spans',\n\tENTRYPOINT_SPANS = 'entrypoint_spans',\n}\n\ninterface SpanFilterConfig {\n\tkey: string;\n\ttype: string;\n}\n\ninterface SpanScopeSelectorProps {\n\tqueryName: string;\n}\n\nconst SPAN_FILTER_CONFIG: Record<SpanScope, SpanFilterConfig | null> = {\n\t[SpanScope.ALL_SPANS]: null,\n\t[SpanScope.ROOT_SPANS]: {\n\t\tkey: 'isRoot',\n\t\ttype: 'spanSearchScope',\n\t},\n\t[SpanScope.ENTRYPOINT_SPANS]: {\n\t\tkey: 'isEntryPoint',\n\t\ttype: 'spanSearchScope',\n\t},\n};\n\nconst createFilterItem = (config: SpanFilterConfig): TagFilterItem => ({\n\tid: uuid().slice(0, 8),\n\tkey: {\n\t\tkey: config.key,\n\t\tdataType: undefined,\n\t\tisColumn: false,\n\t\ttype: config?.type,\n\t},\n\top: '=',\n\tvalue: 'true',\n});\n\nconst SELECT_OPTIONS = [\n\t{ value: SpanScope.ALL_SPANS, label: 'All Spans' },\n\t{ value: SpanScope.ROOT_SPANS, label: 'Root Spans' },\n\t{ value: SpanScope.ENTRYPOINT_SPANS, label: 'Entrypoint Spans' },\n];\n\nfunction SpanScopeSelector({ queryName }: SpanScopeSelectorProps): JSX.Element {\n\tconst { currentQuery, redirectWithQueryBuilderData } = useQueryBuilder();\n\tconst [selectedScope, setSelectedScope] = useState<SpanScope>(\n\t\tSpanScope.ALL_SPANS,\n\t);\n\n\tconst getCurrentScopeFromFilters = (\n\t\tfilters: TagFilterItem[] = [],\n\t): SpanScope => {\n\t\tconst hasFilter = (key: string): boolean =>\n\t\t\tfilters.some(\n\t\t\t\t(filter) =>\n\t\t\t\t\tfilter.key?.type === 'spanSearchScope' &&\n\t\t\t\t\tfilter.key.key === key &&\n\t\t\t\t\tfilter.value === 'true',\n\t\t\t);\n\n\t\tif (hasFilter('isRoot')) return SpanScope.ROOT_SPANS;\n\t\tif (hasFilter('isEntryPoint')) return SpanScope.ENTRYPOINT_SPANS;\n\t\treturn SpanScope.ALL_SPANS;\n\t};\n\n\tuseEffect(() => {\n\t\tconst queryData = (currentQuery?.builder?.queryData || [])?.find(\n\t\t\t(item) => item.queryName === queryName,\n\t\t);\n\t\tconst filters = queryData?.filters?.items;\n\t\tconst currentScope = getCurrentScopeFromFilters(filters);\n\t\tsetSelectedScope(currentScope);\n\t}, [currentQuery, queryName]);\n\n\tconst handleScopeChange = (newScope: SpanScope): void => {\n\t\tconst newQuery = cloneDeep(currentQuery);\n\n\t\tconst getUpdatedFilters = (\n\t\t\tcurrentFilters: TagFilterItem[] = [],\n\t\t\tisTargetQuery: boolean,\n\t\t): TagFilterItem[] => {\n\t\t\tif (!isTargetQuery) return currentFilters;\n\n\t\t\tconst nonScopeFilters = currentFilters.filter(\n\t\t\t\t(filter) =>\n\t\t\t\t\t!(\n\t\t\t\t\t\tfilter.key?.type === 'spanSearchScope' &&\n\t\t\t\t\t\t(filter.key.key === 'isRoot' || filter.key.key === 'isEntryPoint')\n\t\t\t\t\t),\n\t\t\t);\n\n\t\t\tconst config = SPAN_FILTER_CONFIG[newScope];\n\t\t\tconst newScopeFilter = config !== null ? [createFilterItem(config)] : [];\n\n\t\t\treturn [...nonScopeFilters, ...newScopeFilter];\n\t\t};\n\n\t\tnewQuery.builder.queryData = newQuery.builder.queryData.map((item) => ({\n\t\t\t...item,\n\t\t\tfilters: {\n\t\t\t\t...item.filters,\n\t\t\t\titems: getUpdatedFilters(item.filters?.items, item.queryName === queryName),\n\t\t\t},\n\t\t}));\n\n\t\tredirectWithQueryBuilderData(newQuery);\n\t};\n\n\t//\n\treturn (\n\t\t<Select\n\t\t\tvalue={selectedScope}\n\t\t\tclassName=\"span-scope-selector\"\n\t\t\tdata-testid=\"span-scope-selector\"\n\t\t\tonChange={handleScopeChange}\n\t\t\toptions={SELECT_OPTIONS}\n\t\t/>\n\t);\n}\n\nexport default SpanScopeSelector;\n","import './Suggestions.styles.scss';\n\nimport { Color } from '@signozhq/design-tokens';\nimport { Tooltip, Typography } from 'antd';\nimport cx from 'classnames';\nimport { isEmpty, isObject } from 'lodash-es';\nimport { Check, Zap } from 'lucide-react';\nimport { useMemo, useState } from 'react';\nimport { BaseAutocompleteData } from 'types/api/queryBuilder/queryAutocompleteResponse';\n\nimport { getTagToken } from '../QueryBuilderSearch/utils';\nimport { DropdownState } from './QueryBuilderSearchV2';\n\ninterface ISuggestionsProps {\n\tlabel: string;\n\tvalue: BaseAutocompleteData | string;\n\toption: DropdownState;\n\tsearchValue: string;\n}\n\nfunction Suggestions(props: ISuggestionsProps): React.ReactElement {\n\tconst { label, value, option, searchValue } = props;\n\n\tconst optionType = useMemo(() => {\n\t\tif (isObject(value)) {\n\t\t\treturn value.type;\n\t\t}\n\t\treturn '';\n\t}, [value]);\n\n\tconst dataType = useMemo(() => {\n\t\tif (isObject(value)) {\n\t\t\treturn value.dataType;\n\t\t}\n\t\treturn '';\n\t}, [value]);\n\n\tconst { tagValue } = getTagToken(searchValue);\n\n\tconst [truncated, setTruncated] = useState<boolean>(false);\n\n\treturn (\n\t\t<div className=\"option\">\n\t\t\t{!isEmpty(optionType) && isObject(value) ? (\n\t\t\t\t<Tooltip title={truncated ? `${value.key}` : ''} placement=\"topLeft\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<section className=\"left-section\">\n\t\t\t\t\t\t\t{value.isIndexed ? (\n\t\t\t\t\t\t\t\t<Zap size={12} fill={Color.BG_AMBER_500} />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"dot\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Typography.Text\n\t\t\t\t\t\t\t\tclassName=\"text value\"\n\t\t\t\t\t\t\t\tellipsis={{ onEllipsis: (ellipsis): void => setTruncated(ellipsis) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<section className=\"right-section\">\n\t\t\t\t\t\t\t<Typography.Text className=\"data-type\">{value.dataType}</Typography.Text>\n\t\t\t\t\t\t\t<section className={cx('type-tag', value.type)}>\n\t\t\t\t\t\t\t\t<div className=\"dot\" />\n\t\t\t\t\t\t\t\t<Typography.Text className=\"text\">{value.type}</Typography.Text>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t) : (\n\t\t\t\t<Tooltip title={truncated ? label : ''} placement=\"topLeft\">\n\t\t\t\t\t<div className=\"container-without-tag\">\n\t\t\t\t\t\t<section className=\"left\">\n\t\t\t\t\t\t\t<div className=\"dot\" />\n\t\t\t\t\t\t\t<Typography.Text\n\t\t\t\t\t\t\t\tclassName={cx('text value', option)}\n\t\t\t\t\t\t\t\tellipsis={{ onEllipsis: (ellipsis): void => setTruncated(ellipsis) }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{`${label}`}\n\t\t\t\t\t\t\t</Typography.Text>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<section className=\"right\">\n\t\t\t\t\t\t\t{dataType && (\n\t\t\t\t\t\t\t\t<Typography.Text className=\"data-type\">{dataType}</Typography.Text>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{tagValue.includes(label) && <Check size={14} />}\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Suggestions;\n","import { AttributeValuesMap } from 'components/ClientSideQBSearch/ClientSideQBSearch';\nimport { OperatorConfigKeys, OPERATORS_CONFIG } from 'constants/queryBuilder';\nimport { HAVING_FILTER_REGEXP } from 'constants/regExp';\nimport { IOption } from 'hooks/useResourceAttribute/types';\nimport uniqWith from 'lodash-es/unionWith';\nimport { parse } from 'papaparse';\nimport { HavingForm } from 'types/api/queryBuilder/queryBuilderData';\n\nimport { ORDERBY_FILTERS } from './OrderByFilter/config';\nimport {\n\torderByValueDelimiter,\n\tsplitOrderByFromString,\n} from './OrderByFilter/utils';\nimport { getRemoveOrderFromValue } from './QueryBuilderSearch/utils';\n\nexport const handleKeyDownLimitFilter: React.KeyboardEventHandler<HTMLInputElement> = (\n\tevent,\n): void => {\n\tconst keyCode = event.keyCode || event.which;\n\tconst isBackspace = keyCode === 8;\n\tconst isNumeric =\n\t\t(keyCode >= 48 && keyCode <= 57) || (keyCode >= 96 && keyCode <= 105);\n\n\tif (!isNumeric && !isBackspace) {\n\t\tevent.preventDefault();\n\t}\n};\n\nexport const getHavingObject = (currentSearch: string): HavingForm => {\n\tconst textArr = currentSearch.split(' ');\n\tconst [columnName = '', op = '', ...value] = textArr;\n\n\treturn { columnName, op, value };\n};\n\nexport const isValidHavingValue = (search: string): boolean => {\n\tconst values = getHavingObject(search).value.join(' ');\n\n\tif (values) {\n\t\treturn HAVING_FILTER_REGEXP.test(values);\n\t}\n\n\treturn true;\n};\n\nexport const getUniqueOrderByValues = (values: IOption[]): IOption[] => {\n\tconst modifiedValues = values.map((item) => {\n\t\tconst match = parse(item.value, { delimiter: orderByValueDelimiter });\n\t\tif (!match) return { label: item.label, value: item.value };\n\t\t// eslint-disable-next-line @typescript-eslint/naming-convention, @typescript-eslint/no-unused-vars\n\t\tconst [_, order] = match.data.flat() as string[];\n\t\tif (order)\n\t\t\treturn {\n\t\t\t\tlabel: item.label,\n\t\t\t\tvalue: item.value,\n\t\t\t};\n\n\t\treturn {\n\t\t\tlabel: `${item.value} ${ORDERBY_FILTERS.ASC}`,\n\t\t\tvalue: `${item.value}${orderByValueDelimiter}${ORDERBY_FILTERS.ASC}`,\n\t\t};\n\t});\n\n\treturn uniqWith(\n\t\tmodifiedValues,\n\t\t(current, next) =>\n\t\t\tgetRemoveOrderFromValue(current.value) ===\n\t\t\tgetRemoveOrderFromValue(next.value),\n\t);\n};\n\nexport const getValidOrderByResult = (result: IOption[]): IOption[] =>\n\tresult.reduce<IOption[]>((acc, item) => {\n\t\tif (item.value === ORDERBY_FILTERS.ASC || item.value === ORDERBY_FILTERS.DESC)\n\t\t\treturn acc;\n\n\t\tif (\n\t\t\titem.value.includes(ORDERBY_FILTERS.ASC) ||\n\t\t\titem.value.includes(ORDERBY_FILTERS.DESC)\n\t\t) {\n\t\t\tconst splittedOrderBy = splitOrderByFromString(item.value);\n\n\t\t\tif (splittedOrderBy) {\n\t\t\t\tacc.push({\n\t\t\t\t\tlabel: `${splittedOrderBy.columnName} ${splittedOrderBy.order}`,\n\t\t\t\t\tvalue: `${splittedOrderBy.columnName}${orderByValueDelimiter}${splittedOrderBy.order}`,\n\t\t\t\t});\n\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t}\n\n\t\tacc.push(item);\n\n\t\treturn acc;\n\t}, []);\n\nexport const transformKeyValuesToAttributeValuesMap = (\n\tattributeValuesMap: Record<string, string[] | number[] | boolean[]>,\n): AttributeValuesMap =>\n\tObject.fromEntries(\n\t\tObject.entries(attributeValuesMap || {}).map(([key, values]) => [\n\t\t\tkey,\n\t\t\t{\n\t\t\t\tstringAttributeValues:\n\t\t\t\t\ttypeof values[0] === 'string' ? (values as string[]) : [],\n\t\t\t\tnumberAttributeValues:\n\t\t\t\t\ttypeof values[0] === 'number' ? (values as number[]) : [],\n\t\t\t\tboolAttributeValues:\n\t\t\t\t\ttypeof values[0] === 'boolean' ? (values as boolean[]) : [],\n\t\t\t},\n\t\t]),\n\t);\n\nexport const filterByOperatorConfig = (\n\toptions: IOption[],\n\tkey?: OperatorConfigKeys,\n): IOption[] => {\n\tif (!key || !OPERATORS_CONFIG[key]) return options;\n\treturn options.filter((option) =>\n\t\tOPERATORS_CONFIG[key].includes(option.label),\n\t);\n};\n","import { getAttributesValues } from 'api/queryBuilder/getAttributesValues';\nimport { useMemo } from 'react';\nimport { useQuery, UseQueryOptions, UseQueryResult } from 'react-query';\nimport { ErrorResponse, SuccessResponse } from 'types/api';\nimport {\n\tIAttributeValuesResponse,\n\tIGetAttributeValuesPayload,\n} from 'types/api/queryBuilder/getAttributesValues';\n\ntype UseGetAttributeValues = (\n\trequestData: IGetAttributeValuesPayload,\n\toptions?: UseQueryOptions<\n\t\tSuccessResponse<IAttributeValuesResponse> | ErrorResponse\n\t>,\n) => UseQueryResult<SuccessResponse<IAttributeValuesResponse> | ErrorResponse>;\n\nexport const useGetAggregateValues: UseGetAttributeValues = (\n\trequestData,\n\toptions,\n) => {\n\tconst queryKey = useMemo(() => {\n\t\tif (options?.queryKey && Array.isArray(options.queryKey)) {\n\t\t\treturn [...options.queryKey];\n\t\t}\n\t\treturn [requestData];\n\t}, [options?.queryKey, requestData]);\n\n\treturn useQuery<SuccessResponse<IAttributeValuesResponse> | ErrorResponse>({\n\t\tqueryKey,\n\t\tqueryFn: () => getAttributesValues(requestData),\n\t\t...options,\n\t});\n};\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".query-builder-search .content .suggested-filters{color:var(--bg-slate-50);font-family:Inter;font-size:11px;font-style:normal;font-weight:600;line-height:18px;letter-spacing:.88px;text-transform:uppercase;padding:12px 0px 8px 14px}.query-builder-search-v2{display:flex;gap:4px}.query-builder-search-v2 .ant-select-dropdown{padding:0px}.query-builder-search-v2 .show-all-filters .content .rc-virtual-list-holder{height:115px}.query-builder-search-v2 .show-all-filters .content.non-logs-data-source .rc-virtual-list-holder{height:256px}.query-builder-search-v2 .content .suggested-filters{color:var(--bg-slate-50);font-family:Inter;font-size:11px;font-style:normal;font-weight:600;line-height:18px;letter-spacing:.88px;text-transform:uppercase;padding:12px 0px 8px 14px}.query-builder-search-v2 .content .operator-for{display:flex;align-items:center;gap:6px;padding:12px 0px 8px 14px}.query-builder-search-v2 .content .operator-for .operator-for-text{color:var(--bg-slate-200);font-family:Inter;font-size:11px;font-style:normal;font-weight:600;line-height:18px;letter-spacing:.88px;text-transform:uppercase}.query-builder-search-v2 .content .operator-for .operator-for-value{display:flex;align-items:center;height:20px;padding:0px 8px;justify-content:center;gap:4px;border-radius:50px;background:rgba(255,255,255,.1);color:var(--bg-vanilla-400);font-family:Inter;font-size:12px;font-style:normal;font-weight:400;line-height:18px;letter-spacing:-0.06px}.query-builder-search-v2 .content .value-for{display:flex;align-items:center;gap:6px;padding:12px 0px 8px 14px}.query-builder-search-v2 .content .value-for .value-for-text{color:var(--bg-slate-200);font-family:Inter;font-size:11px;font-style:normal;font-weight:600;line-height:18px;letter-spacing:.88px;text-transform:uppercase}.query-builder-search-v2 .content .value-for .value-for-value{display:flex;align-items:center;height:20px;padding:0px 8px;justify-content:center;gap:4px;border-radius:50px;background:rgba(255,255,255,.1);color:var(--bg-vanilla-400);font-family:Inter;font-size:12px;font-style:normal;font-weight:400;line-height:18px;letter-spacing:-0.06px}.query-builder-search-v2 .content .example-queries{cursor:default}.query-builder-search-v2 .content .example-queries .heading{padding:12px 14px 8px 14px;color:var(--bg-slate-50);font-family:Inter;font-size:11px;font-style:normal;font-weight:500;line-height:18px;letter-spacing:.88px;text-transform:uppercase}.query-builder-search-v2 .content .example-queries .query-container{display:flex;flex-direction:column;gap:12px;padding:0px 12px 12px 12px;cursor:pointer}.query-builder-search-v2 .content .example-queries .query-container .example-query{display:flex;padding:4px 8px;justify-content:center;align-items:center;gap:10px;border-radius:2px;background:var(--bg-ink-200);color:var(--bg-vanilla-400);font-family:Inter;font-size:14px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-0.07px;width:fit-content}.query-builder-search-v2 .content .example-queries .query-container .example-query:hover{color:var(--bg-vanilla-100)}.query-builder-search-v2 .keyboard-shortcuts{display:flex;align-items:center;border-radius:0px 0px 4px 4px;border:1px solid var(--bg-slate-400);background:var(--bg-ink-300);padding:11px 16px;cursor:default}.query-builder-search-v2 .keyboard-shortcuts .icons{width:16px;height:16px;flex-shrink:0;border-radius:2.286px;border-top:1.143px solid var(--bg-ink-200);border-right:1.143px solid var(--bg-ink-200);border-bottom:2.286px solid var(--bg-ink-200);border-left:1.143px solid var(--bg-ink-200);background:var(--Ink-400, #121317)}.query-builder-search-v2 .keyboard-shortcuts .keyboard-text{color:var(--bg-vanilla-400);font-family:Inter;font-size:12px;font-style:normal;font-weight:400;line-height:18px;letter-spacing:-0.07px}.query-builder-search-v2 .keyboard-shortcuts .navigate{display:flex;align-items:center;padding-right:12px;gap:4px;border-right:1px solid #1d212d}.query-builder-search-v2 .keyboard-shortcuts .update-query{display:flex;align-items:center;margin-left:12px;gap:4px}.query-builder-search-v2 .keyboard-shortcuts .show-all-filter-items{padding-left:12px;border-left:1px solid #1d212d;display:flex;align-items:center;margin-left:12px;gap:4px}.query-builder-search-v2 .search-bar{width:100%}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag{display:flex;align-items:center;border-radius:2px 0px 0px 2px;border:1px solid var(--bg-slate-300);background:var(--bg-slate-300);box-shadow:0px 0px 8px 0px rgba(0,0,0,.1);padding:0px}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag .ant-typography{color:var(--bg-vanilla-100);font-family:Inter;font-size:14px !important;font-style:normal;font-weight:400;line-height:20px;padding:2px 6px}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag .ant-tag-close-icon{display:flex;align-items:center;justify-content:center;border-radius:0px 2px 2px 0px;width:20px;height:24px;flex-shrink:0;margin-inline-start:0px !important;margin-inline-end:0px !important}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.resource{border:1px solid rgba(75,207,249,.1254901961)}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.resource .ant-typography{color:var(--bg-aqua-400);background:rgba(75,207,249,.062745098);font-size:14px}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.resource .ant-tag-close-icon{background:rgba(75,207,249,.062745098)}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.tag{border:1px solid rgba(189,153,121,.2)}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.tag .ant-typography{color:var(--bg-sienna-400);background:rgba(189,153,121,.1);font-size:14px}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.tag .ant-tag-close-icon{background:rgba(189,153,121,.1)}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.scope{border:1px solid rgba(113,144,249,.2)}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.scope .ant-typography{color:var(--bg-robin-400);background:rgba(113,144,249,.1);font-size:14px}.query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.scope .ant-tag-close-icon{background:rgba(113,144,249,.1)}.lightMode .query-builder-search-v2 .ant-select-selector{border-color:var(--bg-vanilla-300) !important;background-color:var(--bg-vanilla-100) !important;color:var(--bg-ink-200)}.lightMode .query-builder-search-v2 .content .operator-for .operator-for-text{color:var(--bg-ink-200)}.lightMode .query-builder-search-v2 .content .operator-for .operator-for-value{background:rgba(255,255,255,.1);color:var(--bg-ink-200)}.lightMode .query-builder-search-v2 .content .value-for .value-for-text{color:var(--bg-ink-200)}.lightMode .query-builder-search-v2 .content .value-for .value-for-value{background:rgba(255,255,255,.1);color:var(--bg-ink-400)}.lightMode .query-builder-search-v2 .content .example-queries{cursor:default}.lightMode .query-builder-search-v2 .content .example-queries .heading{color:var(--bg-slate-50)}.lightMode .query-builder-search-v2 .content .example-queries .query-container .example-query{background:var(--bg-vanilla-200);color:var(--bg-ink-400)}.lightMode .query-builder-search-v2 .content .example-queries .query-container .example-query:hover{color:var(--bg-ink-100)}.lightMode .query-builder-search-v2 .keyboard-shortcuts{border:1px solid var(--bg-vanilla-300);background:var(--bg-vanilla-200)}.lightMode .query-builder-search-v2 .keyboard-shortcuts .icons{border-top:1.143px solid var(--bg-ink-200);border-right:1.143px solid var(--bg-ink-200);border-bottom:2.286px solid var(--bg-ink-200);border-left:1.143px solid var(--bg-ink-200);background:var(--bg-vanilla-300)}.lightMode .query-builder-search-v2 .keyboard-shortcuts .keyboard-text{color:var(--bg-ink-400)}.lightMode .query-builder-search-v2 .keyboard-shortcuts .navigate{border-right:1px solid #1d212d}.lightMode .query-builder-search-v2 .keyboard-shortcuts .show-all-filter-items{border-left:1px solid #1d212d}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag{background:var(--bg-vanilla-300);border:1px solid var(--bg-slate-100);box-shadow:0px 0px 8px 0px rgba(0,0,0,.1)}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag .ant-typography{color:var(--bg-ink-100)}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.resource{border:1px solid rgba(75,207,249,.1254901961)}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.resource .ant-typography{color:var(--bg-aqua-400);background:rgba(75,207,249,.062745098)}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.resource .ant-tag-close-icon{background:rgba(75,207,249,.062745098)}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.tag{border:1px solid rgba(189,153,121,.2)}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.tag .ant-typography{color:var(--bg-sienna-400);background:rgba(189,153,121,.1)}.lightMode .query-builder-search-v2 .qb-search-bar-tokenised-tags .ant-tag.tag .ant-tag-close-icon{background:rgba(189,153,121,.1)}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/QueryBuilder/filters/QueryBuilderSearchV2/QueryBuilderSearchV2.styles.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".query-builder-search {\\n\\t.content {\\n\\t\\t.suggested-filters {\\n\\t\\t\\tcolor: var(--bg-slate-50);\\n\\t\\t\\tfont-family: Inter;\\n\\t\\t\\tfont-size: 11px;\\n\\t\\t\\tfont-style: normal;\\n\\t\\t\\tfont-weight: 600;\\n\\t\\t\\tline-height: 18px;\\n\\t\\t\\tletter-spacing: 0.88px;\\n\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\tpadding: 12px 0px 8px 14px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.query-builder-search-v2 {\\n\\tdisplay: flex;\\n\\tgap: 4px;\\n\\n\\t.ant-select-dropdown {\\n\\t\\tpadding: 0px;\\n\\t}\\n\\n\\t.show-all-filters {\\n\\t\\t.content {\\n\\t\\t\\t.rc-virtual-list-holder {\\n\\t\\t\\t\\theight: 115px;\\n\\t\\t\\t}\\n\\t\\t\\t&.non-logs-data-source {\\n\\t\\t\\t\\t.rc-virtual-list-holder {\\n\\t\\t\\t\\t\\theight: 256px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.content {\\n\\t\\t.suggested-filters {\\n\\t\\t\\tcolor: var(--bg-slate-50);\\n\\t\\t\\tfont-family: Inter;\\n\\t\\t\\tfont-size: 11px;\\n\\t\\t\\tfont-style: normal;\\n\\t\\t\\tfont-weight: 600;\\n\\t\\t\\tline-height: 18px;\\n\\t\\t\\tletter-spacing: 0.88px;\\n\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\tpadding: 12px 0px 8px 14px;\\n\\t\\t}\\n\\n\\t\\t.operator-for {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 6px;\\n\\t\\t\\tpadding: 12px 0px 8px 14px;\\n\\n\\t\\t\\t.operator-for-text {\\n\\t\\t\\t\\tcolor: var(--bg-slate-200);\\n\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\tfont-size: 11px;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 600;\\n\\t\\t\\t\\tline-height: 18px; /* 163.636% */\\n\\t\\t\\t\\tletter-spacing: 0.88px;\\n\\t\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.operator-for-value {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tpadding: 0px 8px;\\n\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\tgap: 4px;\\n\\t\\t\\t\\tborder-radius: 50px;\\n\\t\\t\\t\\tbackground: rgba(255, 255, 255, 0.1);\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-400);\\n\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\tfont-size: 12px;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\tline-height: 18px; /* 150% */\\n\\t\\t\\t\\tletter-spacing: -0.06px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.value-for {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 6px;\\n\\t\\t\\tpadding: 12px 0px 8px 14px;\\n\\t\\t\\t.value-for-text {\\n\\t\\t\\t\\tcolor: var(--bg-slate-200);\\n\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\tfont-size: 11px;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 600;\\n\\t\\t\\t\\tline-height: 18px; /* 163.636% */\\n\\t\\t\\t\\tletter-spacing: 0.88px;\\n\\t\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.value-for-value {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tpadding: 0px 8px;\\n\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\tgap: 4px;\\n\\t\\t\\t\\tborder-radius: 50px;\\n\\t\\t\\t\\tbackground: rgba(255, 255, 255, 0.1);\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-400);\\n\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\tfont-size: 12px;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\tline-height: 18px; /* 150% */\\n\\t\\t\\t\\tletter-spacing: -0.06px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.example-queries {\\n\\t\\t\\tcursor: default;\\n\\t\\t\\t.heading {\\n\\t\\t\\t\\tpadding: 12px 14px 8px 14px;\\n\\t\\t\\t\\tcolor: var(--bg-slate-50);\\n\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\tfont-size: 11px;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 500;\\n\\t\\t\\t\\tline-height: 18px; /* 163.636% */\\n\\t\\t\\t\\tletter-spacing: 0.88px;\\n\\t\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.query-container {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\tgap: 12px;\\n\\t\\t\\t\\tpadding: 0px 12px 12px 12px;\\n\\t\\t\\t\\tcursor: pointer;\\n\\n\\t\\t\\t\\t.example-query {\\n\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\tpadding: 4px 8px;\\n\\t\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\t\\tgap: 10px;\\n\\t\\t\\t\\t\\tborder-radius: 2px;\\n\\t\\t\\t\\t\\tbackground: var(--bg-ink-200);\\n\\t\\t\\t\\t\\tcolor: var(--bg-vanilla-400);\\n\\t\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\t\\tfont-size: 14px;\\n\\t\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\t\\tline-height: normal;\\n\\t\\t\\t\\t\\tletter-spacing: -0.07px;\\n\\t\\t\\t\\t\\twidth: fit-content;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.example-query:hover {\\n\\t\\t\\t\\t\\tcolor: var(--bg-vanilla-100);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.keyboard-shortcuts {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tborder-radius: 0px 0px 4px 4px;\\n\\t\\tborder: 1px solid var(--bg-slate-400);\\n\\t\\tbackground: var(--bg-ink-300);\\n\\t\\tpadding: 11px 16px;\\n\\t\\tcursor: default;\\n\\n\\t\\t.icons {\\n\\t\\t\\twidth: 16px;\\n\\t\\t\\theight: 16px;\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\tborder-radius: 2.286px;\\n\\t\\t\\tborder-top: 1.143px solid var(--bg-ink-200);\\n\\t\\t\\tborder-right: 1.143px solid var(--bg-ink-200);\\n\\t\\t\\tborder-bottom: 2.286px solid var(--bg-ink-200);\\n\\t\\t\\tborder-left: 1.143px solid var(--bg-ink-200);\\n\\t\\t\\tbackground: var(--Ink-400, #121317);\\n\\t\\t}\\n\\n\\t\\t.keyboard-text {\\n\\t\\t\\tcolor: var(--bg-vanilla-400);\\n\\t\\t\\tfont-family: Inter;\\n\\t\\t\\tfont-size: 12px;\\n\\t\\t\\tfont-style: normal;\\n\\t\\t\\tfont-weight: 400;\\n\\t\\t\\tline-height: 18px; /* 142.857% */\\n\\t\\t\\tletter-spacing: -0.07px;\\n\\t\\t}\\n\\n\\t\\t.navigate {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tpadding-right: 12px;\\n\\t\\t\\tgap: 4px;\\n\\t\\t\\tborder-right: 1px solid #1d212d;\\n\\t\\t}\\n\\n\\t\\t.update-query {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tmargin-left: 12px;\\n\\t\\t\\tgap: 4px;\\n\\t\\t}\\n\\t\\t.show-all-filter-items {\\n\\t\\t\\tpadding-left: 12px;\\n\\t\\t\\tborder-left: 1px solid #1d212d;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tmargin-left: 12px;\\n\\t\\t\\tgap: 4px;\\n\\t\\t}\\n\\t}\\n\\n\\t.search-bar {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t.qb-search-bar-tokenised-tags {\\n\\t\\t.ant-tag {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tborder-radius: 2px 0px 0px 2px;\\n\\t\\t\\tborder: 1px solid var(--bg-slate-300);\\n\\t\\t\\tbackground: var(--bg-slate-300);\\n\\t\\t\\tbox-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.1);\\n\\t\\t\\tpadding: 0px;\\n\\n\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-100);\\n\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\tfont-size: 14px !important;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\tline-height: 20px; /* 142.857% */\\n\\t\\t\\t\\tpadding: 2px 6px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.ant-tag-close-icon {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\tborder-radius: 0px 2px 2px 0px;\\n\\t\\t\\t\\twidth: 20px;\\n\\t\\t\\t\\theight: 24px;\\n\\t\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\t\\tmargin-inline-start: 0px !important;\\n\\t\\t\\t\\tmargin-inline-end: 0px !important;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.resource {\\n\\t\\t\\t\\tborder: 1px solid #4bcff920;\\n\\n\\t\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\t\\tcolor: var(--bg-aqua-400);\\n\\t\\t\\t\\t\\tbackground: #4bcff910;\\n\\t\\t\\t\\t\\tfont-size: 14px;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.ant-tag-close-icon {\\n\\t\\t\\t\\t\\tbackground: #4bcff910;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t&.tag {\\n\\t\\t\\t\\tborder: 1px solid rgba(189, 153, 121, 0.2);\\n\\n\\t\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\t\\tcolor: var(--bg-sienna-400);\\n\\t\\t\\t\\t\\tbackground: rgba(189, 153, 121, 0.1);\\n\\t\\t\\t\\t\\tfont-size: 14px;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.ant-tag-close-icon {\\n\\t\\t\\t\\t\\tbackground: rgba(189, 153, 121, 0.1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.scope {\\n\\t\\t\\t\\tborder: 1px solid rgba(113, 144, 249, 0.2);\\n\\n\\t\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\t\\tcolor: var(--bg-robin-400);\\n\\t\\t\\t\\t\\tbackground: rgba(113, 144, 249, 0.1);\\n\\t\\t\\t\\t\\tfont-size: 14px;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.ant-tag-close-icon {\\n\\t\\t\\t\\t\\tbackground: rgba(113, 144, 249, 0.1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.lightMode {\\n\\t.query-builder-search-v2 {\\n\\t\\t.ant-select-selector {\\n\\t\\t\\tborder-color: var(--bg-vanilla-300) !important;\\n\\t\\t\\tbackground-color: var(--bg-vanilla-100) !important;\\n\\t\\t\\tcolor: var(--bg-ink-200);\\n\\t\\t}\\n\\n\\t\\t.content {\\n\\t\\t\\t.operator-for {\\n\\t\\t\\t\\t.operator-for-text {\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-200);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.operator-for-value {\\n\\t\\t\\t\\t\\tbackground: rgba(255, 255, 255, 0.1);\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-200);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t.value-for {\\n\\t\\t\\t\\t.value-for-text {\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-200);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.value-for-value {\\n\\t\\t\\t\\t\\tbackground: rgba(255, 255, 255, 0.1);\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-400);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t.example-queries {\\n\\t\\t\\t\\tcursor: default;\\n\\t\\t\\t\\t.heading {\\n\\t\\t\\t\\t\\tcolor: var(--bg-slate-50);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.query-container {\\n\\t\\t\\t\\t\\t.example-query {\\n\\t\\t\\t\\t\\t\\tbackground: var(--bg-vanilla-200);\\n\\t\\t\\t\\t\\t\\tcolor: var(--bg-ink-400);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t.example-query:hover {\\n\\t\\t\\t\\t\\t\\tcolor: var(--bg-ink-100);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.keyboard-shortcuts {\\n\\t\\t\\tborder: 1px solid var(--bg-vanilla-300);\\n\\t\\t\\tbackground: var(--bg-vanilla-200);\\n\\n\\t\\t\\t.icons {\\n\\t\\t\\t\\tborder-top: 1.143px solid var(--bg-ink-200);\\n\\t\\t\\t\\tborder-right: 1.143px solid var(--bg-ink-200);\\n\\t\\t\\t\\tborder-bottom: 2.286px solid var(--bg-ink-200);\\n\\t\\t\\t\\tborder-left: 1.143px solid var(--bg-ink-200);\\n\\t\\t\\t\\tbackground: var(--bg-vanilla-300);\\n\\t\\t\\t}\\n\\n\\t\\t\\t.keyboard-text {\\n\\t\\t\\t\\tcolor: var(--bg-ink-400);\\n\\t\\t\\t}\\n\\n\\t\\t\\t.navigate {\\n\\t\\t\\t\\tborder-right: 1px solid #1d212d;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.show-all-filter-items {\\n\\t\\t\\t\\tborder-left: 1px solid #1d212d;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.qb-search-bar-tokenised-tags {\\n\\t\\t\\t.ant-tag {\\n\\t\\t\\t\\tbackground: var(--bg-vanilla-300);\\n\\t\\t\\t\\tborder: 1px solid var(--bg-slate-100);\\n\\t\\t\\t\\tbox-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.1);\\n\\n\\t\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-100);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&.resource {\\n\\t\\t\\t\\t\\tborder: 1px solid #4bcff920;\\n\\n\\t\\t\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\t\\t\\tcolor: var(--bg-aqua-400);\\n\\t\\t\\t\\t\\t\\tbackground: #4bcff910;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t.ant-tag-close-icon {\\n\\t\\t\\t\\t\\t\\tbackground: #4bcff910;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t&.tag {\\n\\t\\t\\t\\t\\tborder: 1px solid rgba(189, 153, 121, 0.2);\\n\\n\\t\\t\\t\\t\\t.ant-typography {\\n\\t\\t\\t\\t\\t\\tcolor: var(--bg-sienna-400);\\n\\t\\t\\t\\t\\t\\tbackground: rgba(189, 153, 121, 0.1);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t.ant-tag-close-icon {\\n\\t\\t\\t\\t\\t\\tbackground: rgba(189, 153, 121, 0.1);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".text{color:var(--bg-vanilla-400);font-family:Inter;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.07px}.dot{height:5px;width:5px;border-radius:50%;background-color:var(--bg-slate-300);flex-shrink:0}.option .container{display:flex;align-items:center;justify-content:space-between}.option .container .left-section{display:flex;align-items:center;width:90%;gap:8px}.option .container .right-section{display:flex;align-items:center;gap:4px}.option .container .right-section .data-type{display:flex;height:20px;padding:4px 8px;justify-content:center;align-items:center;gap:4px;border-radius:20px;background:rgba(255,255,255,.08)}.option .container .right-section .type-tag{display:flex;align-items:center;height:20px;padding:0px 6px;justify-content:center;gap:4px;border-radius:50px;text-transform:capitalize}.option .container .right-section .type-tag.tag{border-radius:50px;background:rgba(189,153,121,.1) !important;color:var(--bg-sienna-400) !important}.option .container .right-section .type-tag.tag .dot{background-color:var(--bg-sienna-400)}.option .container .right-section .type-tag.tag .text{color:var(--bg-sienna-400);font-family:Inter;font-size:12px;font-style:normal;font-weight:400;line-height:18px;letter-spacing:-0.06px}.option .container .right-section .type-tag.resource{border-radius:50px;background:rgba(75,207,249,.062745098) !important;color:var(--bg-aqua-400) !important}.option .container .right-section .type-tag.resource .dot{background-color:var(--bg-aqua-400)}.option .container .right-section .type-tag.resource .text{color:var(--bg-aqua-400);font-family:Inter;font-size:12px;font-style:normal;font-weight:400;line-height:18px;letter-spacing:-0.06px}.option .container .right-section .type-tag.scope{border-radius:50px;background:rgba(113,144,249,.1) !important;color:var(--bg-robin-400) !important}.option .container .right-section .type-tag.scope .dot{background-color:var(--bg-robin-400)}.option .container .right-section .type-tag.scope .text{color:var(--bg-robin-400);font-family:Inter;font-size:12px;font-style:normal;font-weight:400;line-height:18px;letter-spacing:-0.06px}.option .container .option-meta-data-container{display:flex;gap:8px}.option .container-without-tag{display:flex;align-items:center;gap:8px;justify-content:space-between}.option .container-without-tag .left{display:flex;align-items:center;gap:8px}.option .container-without-tag .left .OPERATOR{color:var(--bg-vanilla-400);font-family:\\\"Space Mono\\\";font-size:14px;font-style:normal;font-weight:500;line-height:20px;letter-spacing:-0.07px;text-transform:uppercase;width:100%}.option .container-without-tag .left .VALUE{color:var(--bg-vanilla-400);font-family:\\\"Space Mono\\\";font-size:14px;font-style:normal;font-weight:500;line-height:20px;letter-spacing:-0.07px;text-transform:uppercase;width:100%}.option .container-without-tag .right{display:flex;align-items:center;gap:4px}.option .container-without-tag .right .data-type{display:flex;height:20px;padding:4px 8px;justify-content:center;align-items:center;gap:4px;border-radius:20px;background:rgba(255,255,255,.08)}.option:hover .container .left-section .value{color:var(--bg-vanilla-100)}.option:hover .container-without-tag .value{color:var(--bg-vanilla-100)}.lightMode .text{color:var(--bg-ink-400)}.lightMode .option .container{display:flex;align-items:center;justify-content:space-between}.lightMode .option .container .right-section .data-type{background:var(--bg-vanilla-300)}.lightMode .option .container .option-meta-data-container{display:flex;gap:8px}.lightMode .option .container-without-tag .left .OPERATOR{color:var(--bg-ink-400)}.lightMode .option .container-without-tag .left .VALUE{color:var(--bg-ink-400)}.lightMode .option .container-without-tag .right .data-type{background:var(--bg-vanilla-300)}.lightMode .option .container-without-tag .value{color:var(--bg-ink-100)}.lightMode .option:hover .container .left-section .value{color:var(--bg-ink-100)}.lightMode .option:hover .container-without-tag .value{color:var(--bg-ink-100)}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/QueryBuilder/filters/QueryBuilderSearchV2/Suggestions.styles.scss\"],\"names\":[],\"mappings\":\"AAAA,MACC,2BAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,sBAAA,CAGD,KACC,UAAA,CACA,SAAA,CACA,iBAAA,CACA,oCAAA,CACA,aAAA,CAIA,mBACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,iCACC,YAAA,CACA,kBAAA,CACA,SAAA,CACA,OAAA,CAKD,kCACC,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,6CACC,YAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,OAAA,CACA,kBAAA,CACA,gCAAA,CAGD,4CACC,YAAA,CACA,kBAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,OAAA,CACA,kBAAA,CACA,yBAAA,CAEA,gDACC,kBAAA,CACA,0CAAA,CACA,qCAAA,CAEA,qDACC,qCAAA,CAED,sDACC,0BAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,sBAAA,CAIF,qDACC,kBAAA,CACA,iDAAA,CACA,mCAAA,CAEA,0DACC,mCAAA,CAED,2DACC,wBAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,sBAAA,CAIF,kDACC,kBAAA,CACA,0CAAA,CACA,oCAAA,CAEA,uDACC,oCAAA,CAED,wDACC,yBAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,sBAAA,CAKJ,+CACC,YAAA,CACA,OAAA,CAIF,+BACC,YAAA,CACA,kBAAA,CACA,OAAA,CACA,6BAAA,CAEA,qCACC,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,+CACC,2BAAA,CACA,wBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,sBAAA,CACA,wBAAA,CACA,UAAA,CAGD,4CACC,2BAAA,CACA,wBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,sBAAA,CACA,wBAAA,CACA,UAAA,CAIF,sCACC,YAAA,CACA,kBAAA,CACA,OAAA,CACA,iDACC,YAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,OAAA,CACA,kBAAA,CACA,gCAAA,CAQD,8CACC,2BAAA,CAKF,4CACC,2BAAA,CAMF,iBACC,uBAAA,CAIA,8BACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAGC,wDACC,gCAAA,CAGF,0DACC,YAAA,CACA,OAAA,CAMA,0DACC,uBAAA,CAGD,uDACC,uBAAA,CAKD,4DACC,gCAAA,CAIF,iDACC,uBAAA,CAOA,yDACC,uBAAA,CAKF,uDACC,uBAAA\",\"sourcesContent\":[\".text {\\n\\tcolor: var(--bg-vanilla-400);\\n\\tfont-family: Inter;\\n\\tfont-size: 14px;\\n\\tfont-style: normal;\\n\\tfont-weight: 400;\\n\\tline-height: 20px;\\n\\tletter-spacing: -0.07px;\\n}\\n\\n.dot {\\n\\theight: 5px;\\n\\twidth: 5px;\\n\\tborder-radius: 50%;\\n\\tbackground-color: var(--bg-slate-300);\\n\\tflex-shrink: 0;\\n}\\n\\n.option {\\n\\t.container {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: space-between;\\n\\n\\t\\t.left-section {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\twidth: 90%;\\n\\t\\t\\tgap: 8px;\\n\\n\\t\\t\\t.value {\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.right-section {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 4px;\\n\\n\\t\\t\\t.data-type {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tpadding: 4px 8px;\\n\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\tgap: 4px;\\n\\t\\t\\t\\tborder-radius: 20px;\\n\\t\\t\\t\\tbackground: rgba(255, 255, 255, 0.08);\\n\\t\\t\\t}\\n\\n\\t\\t\\t.type-tag {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tpadding: 0px 6px;\\n\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\tgap: 4px;\\n\\t\\t\\t\\tborder-radius: 50px;\\n\\t\\t\\t\\ttext-transform: capitalize;\\n\\n\\t\\t\\t\\t&.tag {\\n\\t\\t\\t\\t\\tborder-radius: 50px;\\n\\t\\t\\t\\t\\tbackground: rgba(189, 153, 121, 0.1) !important;\\n\\t\\t\\t\\t\\tcolor: var(--bg-sienna-400) !important;\\n\\n\\t\\t\\t\\t\\t.dot {\\n\\t\\t\\t\\t\\t\\tbackground-color: var(--bg-sienna-400);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t.text {\\n\\t\\t\\t\\t\\t\\tcolor: var(--bg-sienna-400);\\n\\t\\t\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\t\\t\\tfont-size: 12px;\\n\\t\\t\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\t\\t\\tline-height: 18px; /* 150% */\\n\\t\\t\\t\\t\\t\\tletter-spacing: -0.06px;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&.resource {\\n\\t\\t\\t\\t\\tborder-radius: 50px;\\n\\t\\t\\t\\t\\tbackground: #4bcff910 !important;\\n\\t\\t\\t\\t\\tcolor: var(--bg-aqua-400) !important;\\n\\n\\t\\t\\t\\t\\t.dot {\\n\\t\\t\\t\\t\\t\\tbackground-color: var(--bg-aqua-400);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t.text {\\n\\t\\t\\t\\t\\t\\tcolor: var(--bg-aqua-400);\\n\\t\\t\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\t\\t\\tfont-size: 12px;\\n\\t\\t\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\t\\t\\tline-height: 18px; /* 150% */\\n\\t\\t\\t\\t\\t\\tletter-spacing: -0.06px;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&.scope {\\n\\t\\t\\t\\t\\tborder-radius: 50px;\\n\\t\\t\\t\\t\\tbackground: rgba(113, 144, 249, 0.1) !important;\\n\\t\\t\\t\\t\\tcolor: var(--bg-robin-400) !important;\\n\\n\\t\\t\\t\\t\\t.dot {\\n\\t\\t\\t\\t\\t\\tbackground-color: var(--bg-robin-400);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t.text {\\n\\t\\t\\t\\t\\t\\tcolor: var(--bg-robin-400);\\n\\t\\t\\t\\t\\t\\tfont-family: Inter;\\n\\t\\t\\t\\t\\t\\tfont-size: 12px;\\n\\t\\t\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\t\\t\\tfont-weight: 400;\\n\\t\\t\\t\\t\\t\\tline-height: 18px; /* 150% */\\n\\t\\t\\t\\t\\t\\tletter-spacing: -0.06px;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.option-meta-data-container {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tgap: 8px;\\n\\t\\t}\\n\\t}\\n\\n\\t.container-without-tag {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tgap: 8px;\\n\\t\\tjustify-content: space-between;\\n\\n\\t\\t.left {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 8px;\\n\\n\\t\\t\\t.OPERATOR {\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-400);\\n\\t\\t\\t\\tfont-family: 'Space Mono';\\n\\t\\t\\t\\tfont-size: 14px;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 500;\\n\\t\\t\\t\\tline-height: 20px; /* 142.857% */\\n\\t\\t\\t\\tletter-spacing: -0.07px;\\n\\t\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.VALUE {\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-400);\\n\\t\\t\\t\\tfont-family: 'Space Mono';\\n\\t\\t\\t\\tfont-size: 14px;\\n\\t\\t\\t\\tfont-style: normal;\\n\\t\\t\\t\\tfont-weight: 500;\\n\\t\\t\\t\\tline-height: 20px; /* 142.857% */\\n\\t\\t\\t\\tletter-spacing: -0.07px;\\n\\t\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.right {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 4px;\\n\\t\\t\\t.data-type {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tpadding: 4px 8px;\\n\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\tgap: 4px;\\n\\t\\t\\t\\tborder-radius: 20px;\\n\\t\\t\\t\\tbackground: rgba(255, 255, 255, 0.08);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n.option:hover {\\n\\t.container {\\n\\t\\t.left-section {\\n\\t\\t\\t.value {\\n\\t\\t\\t\\tcolor: var(--bg-vanilla-100);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t.container-without-tag {\\n\\t\\t.value {\\n\\t\\t\\tcolor: var(--bg-vanilla-100);\\n\\t\\t}\\n\\t}\\n}\\n\\n.lightMode {\\n\\t.text {\\n\\t\\tcolor: var(--bg-ink-400);\\n\\t}\\n\\n\\t.option {\\n\\t\\t.container {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tjustify-content: space-between;\\n\\n\\t\\t\\t.right-section {\\n\\t\\t\\t\\t.data-type {\\n\\t\\t\\t\\t\\tbackground: var(--bg-vanilla-300);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t.option-meta-data-container {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tgap: 8px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.container-without-tag {\\n\\t\\t\\t.left {\\n\\t\\t\\t\\t.OPERATOR {\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-400);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.VALUE {\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-400);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t.right {\\n\\t\\t\\t\\t.data-type {\\n\\t\\t\\t\\t\\tbackground: var(--bg-vanilla-300);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t.value {\\n\\t\\t\\t\\tcolor: var(--bg-ink-100);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t.option:hover {\\n\\t\\t.container {\\n\\t\\t\\t.left-section {\\n\\t\\t\\t\\t.value {\\n\\t\\t\\t\\t\\tcolor: var(--bg-ink-100);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.container-without-tag {\\n\\t\\t\\t.value {\\n\\t\\t\\t\\tcolor: var(--bg-ink-100);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!./QueryBuilderSearchV2.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!./Suggestions.styles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["reactHotLoader","leaveModule","QueryBuilderSearchDropdown","props","_currentFilterItem$ke","_currentFilterItem$ke2","menu","currentFilterItem","searchValue","tags","exampleQueries","options","onChange","isLogsDataSource","userOs","getUserOperatingSystem","_jsxs","_Fragment","children","className","cx","key","op","Typography","Text","_jsx","length","convertExampleQueriesToOptions","map","query","ExampleQueriesRendererForLogs","label","value","handleAddTag","ArrowDown","size","ArrowUp","CornerDownLeft","UserOperatingSystem","MACOS","Command","ChevronUp","Slash","defaultProps","undefined","reactHotLoaderGlobal","default","register","module","DropdownState","getInitTags","filters","items","item","id","getOperatorFromValue","QueryBuilderSearchV2","_currentFilterItem$ke5","_currentFilterItem$ke6","_currentFilterItem$ke7","_query$aggregateAttri","_currentFilterItem$ke8","_currentFilterItem$ke9","_currentFilterItem$ke10","_currentFilterItem$ke11","_currentFilterItem$ke12","_currentFilterItem$va2","_currentFilterItem$va3","_suggestionsData$payl3","_currentFilterItem$ke20","_data$payload3","_suggestionsData$payl6","placeholder","suffixIcon","whereClauseConfig","hardcodedAttributeKeys","hasPopupContainer","rootClassName","maxTagCount","operatorConfigKey","hideSpanScopeSelector","triggerOnChangeOnClose","registerShortcut","deregisterShortcut","useKeyboardHotkeys","handleRunQuery","currentQuery","useQueryBuilder","selectRef","useRef","isOpen","setIsOpen","useState","setTags","setCurrentFilterItem","currentState","setCurrentState","ATTRIBUTE_KEY","setSearchValue","dropdownOptions","setDropdownOptions","showAllFilters","setShowAllFilters","useMemo","dataSource","DataSource","LOGS","memoizedSearchParams","aggregateOperator","aggregateAttribute","queryFiltersWithoutId","filterWithoutId","cloneDeep","unset","memoizedSuggestionsParams","memoizedValueParams","_currentFilterItem$ke3","_currentFilterItem$ke4","_currentFilterItem$va","dataType","type","isArray","searchParams","useDebounceValue","DEBOUNCE_DELAY","valueParams","suggestionsParams","isQueryEnabled","METRICS","data","isFetching","useGetAggregateKeys","searchText","split","tagType","queryKey","enabled","suggestionsData","isFetchingSuggestions","useGetAttributeSuggestions","attributeValues","isFetchingAttributeValues","useGetAggregateValues","attributeKey","filterAttributeKeyDataType","DataTypes","EMPTY","toString","ATTRIBUTE_VALUE","handleDropdownSelect","useCallback","parsedValue","JSON","parse","_parsedValue","_parsedValue2","_parsedValue4","isObject","prev","_parsedValue3","String","isColumn","isJSON","OPERATORS","CONTAINS","OPERATOR","concat","_currentFilterItem$ke13","isEmpty","_currentFilterItem$ke14","EXISTS","NOT_EXISTS","_currentFilterItem$ke15","operatorTypeMapper","QUERY_BUILDER_SEARCH_VALUES","MULTIPLY","tagKey","tagOperator","tagValue","getTagToken","includes","newSearch","newSearchValue","join","handleSearch","onInputKeyDownHandler","event","stopPropagation","slice","ctrlKey","metaKey","preventDefault","handleOnBlur","_validationMapper$ope","operatorType","customKey","customOp","_currentFilterItem$ke16","validationMapper","call","useEffect","_currentFilterItem$ke17","isUndefined","_suggestionsData$payl","currentRunningAttributeKey","payload","attributes","some","_suggestionsData$payl2","allAttributesMatchingTheKey","filter","currentValue","isEqual","_suggestionsData$payl4","_suggestionsData$payl5","val","filteredKeys","toLowerCase","_data$payload","_data$payload2","trim","attributeKeys","_currentFilterItem$ke18","keyOperator","partialOperator","strippedKey","operatorOptions","QUERY_BUILDER_OPERATORS_BY_TYPES","operator","startsWith","toLocaleUpperCase","endsWith","HAS","NHAS","universal","filterOperatorOptions","filterByOperatorConfig","values","push","_currentFilterItem$ke19","_attributeValues$payl","DATA_TYPE_VS_ATTRIBUTE_VALUES_KEY","checkCommaInValue","filterTags","forEach","tag","_tag$value","_tag$value2","computedTagValue","Array","uuid","getOperatorValue","isLastQuery","builder","queryData","LogsExplorerShortcuts","FocusTheSearchBar","setTimeout","_selectRef$current","current","focus","loading","isMetricsDataSource","queryTags","_tag$key","_createElement","Select","ref","getPopupContainer","popupContainer","virtual","showSearch","tagRender","_ref","_value$trim","_tagDetails$key","closable","onClose","isInNin","isInNInOperator","chipValue","replace","indexInQueryTags","findIndex","qTag","tagDetails","isDisabled","Tag","onCloseHandler","t","Tooltip","title","TypographyText","ellipsis","$isInNin","disabled","$isEnabled","onClick","tagEditHandler","transitionName","choiceTransitionName","filterOption","autoFocus","open","ChevronDown","onDropdownVisibleChange","autoClearSearchValue","mode","style","selectStyle","onSearch","onSelect","onInputKeyDown","notFoundContent","Spin","showAction","onBlur","dropdownRender","_suggestionsData$payl7","example_queries","option","stringify","Option","Suggestions","SpanScopeSelector","queryName","__signature__","PLACEHOLDER","_default","SpanScope","SPAN_FILTER_CONFIG","ALL_SPANS","ROOT_SPANS","ENTRYPOINT_SPANS","createFilterItem","config","SELECT_OPTIONS","redirectWithQueryBuilderData","selectedScope","setSelectedScope","_ref2","_currentQuery$builder","_queryData$filters","find","currentScope","arguments","hasFilter","_filter$key","getCurrentScopeFromFilters","newScope","newQuery","getUpdatedFilters","currentFilters","nonScopeFilters","_filter$key2","_item$filters","optionType","truncated","setTruncated","placement","isIndexed","Zap","fill","Color","BG_AMBER_500","onEllipsis","Check","handleKeyDownLimitFilter","keyCode","which","getHavingObject","currentSearch","textArr","columnName","isValidHavingValue","search","HAVING_FILTER_REGEXP","test","getUniqueOrderByValues","modifiedValues","match","delimiter","orderByValueDelimiter","_","order","flat","ORDERBY_FILTERS","ASC","uniqWith","next","getRemoveOrderFromValue","getValidOrderByResult","result","reduce","acc","DESC","splittedOrderBy","splitOrderByFromString","transformKeyValuesToAttributeValuesMap","attributeValuesMap","Object","fromEntries","entries","stringAttributeValues","numberAttributeValues","boolAttributeValues","OPERATORS_CONFIG","requestData","useQuery","queryFn","getAttributesValues","___CSS_LOADER_EXPORT___","api","content","__esModule","exports","locals"],"sourceRoot":""}